-var max = 7;
if popularProvinces.length < 7
   - max = popularProvinces.length
.popular-cities
      if isHorizontal
         #myCarousel.carousel.slide(data-ride='carousel')
            // Indicators
            //ol.carousel-indicators
            //   li.active(data-target='#myCarousel', data-slide-to='0')
            //   li(data-target='#myCarousel', data-slide-to='1')
            //   li(data-target='#myCarousel', data-slide-to='2')

            // Wrapper for slides
            .carousel-inner(role='listbox')
               .item.active
                  - for (var i = 0; i < 2; ++i)
                     if popularProvinces[i] && popularProvinces[i]._id
                        - var item = {code:popularProvinces[i]._id.code, picture:popularProvinces[i].pictureUrl, pName:popularProvinces[i]._id.name, cName:popularProvinces[i]._id.chineseName, number:popularProvinces[i].number}
                     if(i == 0 || i == 6)
                        include largecell
                     else
                        include smallcell
               .item
                  - for (var i = 2; i < 5; ++i)
                     if popularProvinces[i] && popularProvinces[i]._id
                        - var item = {code:popularProvinces[i]._id.code, picture:popularProvinces[i].pictureUrl, pName:popularProvinces[i]._id.name, cName:popularProvinces[i]._id.chineseName, number:popularProvinces[i].number}
                     if(i == 0 || i == 6)
                        include largecell
                     else
                        include smallcell
               .item
                  - for (var i = 5; i < max; ++i)
                     if popularProvinces[i] && popularProvinces[i]._id
                        - var item = {code:popularProvinces[i]._id.code, picture:popularProvinces[i].pictureUrl, pName:popularProvinces[i]._id.name, cName:popularProvinces[i]._id.chineseName, number:popularProvinces[i].number}
                     if(i == 0 || i == 6)
                        include largecell
                     else
                        include smallcell

            // Left and right controls
            a.left.carousel-control(href='#myCarousel', role='button', data-slide='prev')
               span.glyphicon.glyphicon-chevron-left(aria-hidden='true')
               span.sr-only Previous
            a.right.carousel-control(href='#myCarousel', role='button', data-slide='next')
               span.glyphicon.glyphicon-chevron-right(aria-hidden='true')
               span.sr-only Next
            .clearfix
      else
         - for (var i = 0; i < max; ++i)
            - var item = {code:popularProvinces[i]._id.code, picture:popularProvinces[i].pictureUrl, pName:popularProvinces[i]._id.name, cName:popularProvinces[i]._id.chineseName, number:popularProvinces[i].number}
            if(i == 0 || i == 6)
               include largecell
            else
               include smallcell
   .clearfix
