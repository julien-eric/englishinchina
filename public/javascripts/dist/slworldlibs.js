/*
 =======================================================
                      VERSION  10.3.4              
=========================================================  jQuery Validation Plugin - v1.17.0 - 7/29/2017
 https://jqueryvalidation.org/
 Copyright (c) 2017 Jrn Zaefferer; Licensed MIT  nouislider - 12.1.0 - 10/25/2018  typeahead.js 0.11.1
 https://github.com/twitter/typeahead.js
 Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(f,k,y){f instanceof String&&(f=String(f));for(var b=f.length,d=0;d<b;d++){var r=f[d];if(k.call(y,r,d,f))return{i:d,v:r}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,k,y){f!=Array.prototype&&f!=Object.prototype&&(f[k]=y.value)};
$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(f,k,y,b){if(k){y=$jscomp.global;f=f.split(".");for(b=0;b<f.length-1;b++){var d=f[b];d in y||(y[d]={});y=y[d]}f=f[f.length-1];b=y[f];k=k(b);k!=b&&null!=k&&$jscomp.defineProperty(y,f,{configurable:!0,writable:!0,value:k})}};
$jscomp.polyfill("Array.prototype.find",function(f){return f?f:function(f,y){return $jscomp.findInternal(this,f,y).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(f){var k=0;return function(){return k<f.length?{done:!1,value:f[k++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var f=0;return function(k){return $jscomp.SYMBOL_PREFIX+(k||"")+f++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.asyncIterator;f||(f=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};
$jscomp.iteratorFromArray=function(f,k){$jscomp.initSymbolIterator();f instanceof String&&(f+="");var y=0,b={next:function(){if(y<f.length){var d=y++;return{value:k(d,f[d]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill("Array.prototype.keys",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(f){return f})}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(f,y){return y})}},"es8","es3");
$jscomp.polyfill("String.fromCodePoint",function(f){return f?f:function(f){for(var k="",b=0;b<arguments.length;b++){var d=Number(arguments[b]);if(0>d||1114111<d||d!==Math.floor(d))throw new RangeError("invalid_code_point "+d);65535>=d?k+=String.fromCharCode(d):(d-=65536,k+=String.fromCharCode(d>>>10&1023|55296),k+=String.fromCharCode(d&1023|56320))}return k}},"es6","es3");
$jscomp.polyfill("Array.from",function(f){return f?f:function(f,y,b){y=null!=y?y:function(d){return d};var d=[],r="undefined"!=typeof Symbol&&Symbol.iterator&&f[Symbol.iterator];if("function"==typeof r){f=r.call(f);for(var k=0;!(r=f.next()).done;)d.push(y.call(b,r.value,k++))}else for(r=f.length,k=0;k<r;k++)d.push(y.call(b,f[k],k));return d}},"es6","es3");$jscomp.polyfill("Array.prototype.findIndex",function(f){return f?f:function(f,y){return $jscomp.findInternal(this,f,y).i}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(f){return f?f:function(f,y,b){var d=this.length||0;0>y&&(y=Math.max(0,d+y));if(null==b||b>d)b=d;b=Number(b);0>b&&(b=Math.max(0,d+b));for(y=Number(y||0);y<b;y++)this[y]=f;return this}},"es6","es3");
!function(f){if("function"==typeof define&&define.amd)define(["jquery","moment"],f);else if("object"==typeof exports)module.exports=f(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";f(jQuery,moment)}}(function(f,k){if(!k)throw Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var y=function(b,
d){var r,J,z,E,Q,O,h={},x=!0,p=!1,q=!1,D=0,A=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],fa=["days","months","years","decades"],R=["top","bottom","auto"],y=["left","right","auto"],M=["default","top","bottom"],ea={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",
shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},da={},qa=function(){return void 0!==k.tz&&void 0!==d.timeZone&&null!==d.timeZone&&""!==d.timeZone},ia=function(w){var f;return f=void 0===w||null===w?k():k.isDate(w)||k.isMoment(w)?k(w):qa()?k.tz(w,Q,d.useStrict,d.timeZone):k(w,Q,d.useStrict),qa()&&f.tz(d.timeZone),f},Y=function(d){if("string"!=typeof d||1<d.length)throw new TypeError("isEnabled expects a single character string parameter");switch(d){case "y":return-1!==
E.indexOf("Y");case "M":return-1!==E.indexOf("M");case "d":return-1!==E.toLowerCase().indexOf("d");case "h":case "H":return-1!==E.toLowerCase().indexOf("h");case "m":return-1!==E.indexOf("m");case "s":return-1!==E.indexOf("s");default:return!1}},P=function(){return Y("h")||Y("m")||Y("s")},va=function(){return Y("y")||Y("M")||Y("d")},Da=function(){var w=f("<thead>").append(f("<tr>").append(f("<th>").addClass("prev").attr("data-action","previous").append(f("<i>").addClass(d.icons.previous))).append(f("<th>").addClass("picker-switch").attr("data-action",
"pickerSwitch").attr("colspan",d.calendarWeeks?"6":"5")).append(f("<th>").addClass("next").attr("data-action","next").append(f("<i>").addClass(d.icons.next)))),b=f("<tbody>").append(f("<tr>").append(f("<td>").attr("colspan",d.calendarWeeks?"8":"7")));return[f("<div>").addClass("datepicker-days").append(f("<table>").addClass("table-condensed").append(w).append(f("<tbody>"))),f("<div>").addClass("datepicker-months").append(f("<table>").addClass("table-condensed").append(w.clone()).append(b.clone())),
f("<div>").addClass("datepicker-years").append(f("<table>").addClass("table-condensed").append(w.clone()).append(b.clone())),f("<div>").addClass("datepicker-decades").append(f("<table>").addClass("table-condensed").append(w.clone()).append(b.clone()))]},Aa=function(){var w=f("<div>").addClass("timepicker-hours").append(f("<table>").addClass("table-condensed")),b=f("<div>").addClass("timepicker-minutes").append(f("<table>").addClass("table-condensed")),l=f("<div>").addClass("timepicker-seconds").append(f("<table>").addClass("table-condensed")),
m=f("<tr>"),h=f("<tr>"),E=f("<tr>");m=[(Y("h")&&(m.append(f("<td>").append(f("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(f("<i>").addClass(d.icons.up)))),h.append(f("<td>").append(f("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:d.tooltips.pickHour}).attr("data-action","showHours"))),E.append(f("<td>").append(f("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementHour}).addClass("btn").attr("data-action",
"decrementHours").append(f("<i>").addClass(d.icons.down))))),Y("m")&&(Y("h")&&(m.append(f("<td>").addClass("separator")),h.append(f("<td>").addClass("separator").html(":")),E.append(f("<td>").addClass("separator"))),m.append(f("<td>").append(f("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(f("<i>").addClass(d.icons.up)))),h.append(f("<td>").append(f("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",
title:d.tooltips.pickMinute}).attr("data-action","showMinutes"))),E.append(f("<td>").append(f("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(f("<i>").addClass(d.icons.down))))),Y("s")&&(Y("m")&&(m.append(f("<td>").addClass("separator")),h.append(f("<td>").addClass("separator").html(":")),E.append(f("<td>").addClass("separator"))),m.append(f("<td>").append(f("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementSecond}).addClass("btn").attr("data-action",
"incrementSeconds").append(f("<i>").addClass(d.icons.up)))),h.append(f("<td>").append(f("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:d.tooltips.pickSecond}).attr("data-action","showSeconds"))),E.append(f("<td>").append(f("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(f("<i>").addClass(d.icons.down))))),z||(m.append(f("<td>").addClass("separator")),h.append(f("<td>").append(f("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",
tabindex:"-1",title:d.tooltips.togglePeriod}))),E.append(f("<td>").addClass("separator"))),f("<div>").addClass("timepicker-picker").append(f("<table>").addClass("table-condensed").append([m,h,E])))];return Y("h")&&m.push(w),Y("m")&&m.push(b),Y("s")&&m.push(l),m},Xa=function(){var w=[];return d.showTodayButton&&w.push(f("<td>").append(f("<a>").attr({"data-action":"today",title:d.tooltips.today}).append(f("<i>").addClass(d.icons.today)))),!d.sideBySide&&va()&&P()&&w.push(f("<td>").append(f("<a>").attr({"data-action":"togglePicker",
title:d.tooltips.selectTime}).append(f("<i>").addClass(d.icons.time)))),d.showClear&&w.push(f("<td>").append(f("<a>").attr({"data-action":"clear",title:d.tooltips.clear}).append(f("<i>").addClass(d.icons.clear)))),d.showClose&&w.push(f("<td>").append(f("<a>").attr({"data-action":"close",title:d.tooltips.close}).append(f("<i>").addClass(d.icons.close)))),f("<table>").addClass("table-condensed").append(f("<tbody>").append(f("<tr>").append(w)))},jb=function(){var w=f("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),
b=f("<div>").addClass("datepicker").append(Da()),l=f("<div>").addClass("timepicker").append(Aa()),m=f("<ul>").addClass("list-unstyled"),h=f("<li>").addClass("picker-switch"+(d.collapse?" accordion-toggle":"")).append(Xa());return d.inline&&w.removeClass("dropdown-menu"),z&&w.addClass("usetwentyfour"),Y("s")&&!z&&w.addClass("wider"),d.sideBySide&&va()&&P()?(w.addClass("timepicker-sbs"),"top"===d.toolbarPlacement&&w.append(h),w.append(f("<div>").addClass("row").append(b.addClass("col-md-6")).append(l.addClass("col-md-6"))),
"bottom"===d.toolbarPlacement&&w.append(h),w):("top"===d.toolbarPlacement&&m.append(h),va()&&m.append(f("<li>").addClass(d.collapse&&P()?"collapse show":"").append(b)),"default"===d.toolbarPlacement&&m.append(h),P()&&m.append(f("<li>").addClass(d.collapse&&va()?"collapse":"").append(l)),"bottom"===d.toolbarPlacement&&m.append(h),w.append(m))},Ya=function(){var w=(p||b).position(),z=(p||b).offset(),l=d.widgetPositioning.vertical,m=d.widgetPositioning.horizontal;if(d.widgetParent)var h=d.widgetParent.append(q);
else if(b.is("input"))h=b.after(q).parent();else{if(d.inline)return void(h=b.append(q));h=b;b.children().first().after(q)}if("auto"===l&&(l=z.top+1.5*q.height()>=f(window).height()+f(window).scrollTop()&&q.height()+b.outerHeight()<z.top?"top":"bottom"),"auto"===m&&(m=h.width()<z.left+q.outerWidth()/2&&z.left+q.outerWidth()>f(window).width()?"right":"left"),"top"===l?q.addClass("top").removeClass("bottom"):q.addClass("bottom").removeClass("top"),"right"===m?q.addClass("pull-right"):q.removeClass("pull-right"),
"static"===h.css("position")&&(h=h.parents().filter(function(){return"static"!==f(this).css("position")}).first()),0===h.length)throw Error("datetimepicker component should be placed within a non-static positioned container");q.css({top:"top"===l?"auto":w.top+b.outerHeight(),bottom:"top"===l?h.outerHeight()-(h===b?0:w.top):"auto",left:"left"===m?h===b?0:w.left:"auto",right:"left"===m?"auto":h.outerWidth()-b.outerWidth()-(h===b?0:w.left)})},ma=function(d){"dp.change"===d.type&&(d.date&&d.date.isSame(d.oldDate)||
!d.date&&!d.oldDate)||b.trigger(d)},Ta=function(d){"y"===d&&(d="YYYY");ma({type:"dp.update",change:d,viewDate:J.clone()})},Ba=function(d){q&&(d&&(O=Math.max(D,Math.min(3,O+d))),q.find(".datepicker > div").hide().filter(".datepicker-"+A[O].clsName).show())},Ea=function(){var w=f("<tr>"),b=J.clone().startOf("w").startOf("d");for(!0===d.calendarWeeks&&w.append(f("<th>").addClass("cw").text("#"));b.isBefore(J.clone().endOf("w"));)w.append(f("<th>").addClass("dow").text(b.format("dd"))),b.add(1,"d");q.find(".datepicker-days thead").append(w)},
V=function(w,b){if(!w.isValid()||d.disabledDates&&"d"===b&&!0===d.disabledDates[w.format("YYYY-MM-DD")]||d.enabledDates&&"d"===b&&!0!==d.enabledDates[w.format("YYYY-MM-DD")]||d.minDate&&w.isBefore(d.minDate,b)||d.maxDate&&w.isAfter(d.maxDate,b)||d.daysOfWeekDisabled&&"d"===b&&-1!==d.daysOfWeekDisabled.indexOf(w.day())||d.disabledHours&&("h"===b||"m"===b||"s"===b)&&!0===d.disabledHours[w.format("H")]||d.enabledHours&&("h"===b||"m"===b||"s"===b)&&!0!==d.enabledHours[w.format("H")])return!1;if(d.disabledTimeIntervals&&
("h"===b||"m"===b||"s"===b)){var z=!1;if(f.each(d.disabledTimeIntervals,function(){if(w.isBetween(this[0],this[1]))return z=!0,!1}),z)return!1}return!0},Lb=function(){for(var d=[],b=J.clone().startOf("y").startOf("d");b.isSame(J,"y");)d.push(f("<span>").attr("data-action","selectMonth").addClass("month").text(b.format("MMM"))),b.add(1,"M");q.find(".datepicker-months td").empty().append(d)},Ia=function(){var w=q.find(".datepicker-months"),b=w.find("th"),z=w.find("tbody").find("span");b.eq(0).find("span").attr("title",
d.tooltips.prevYear);b.eq(1).attr("title",d.tooltips.selectYear);b.eq(2).find("span").attr("title",d.tooltips.nextYear);w.find(".disabled").removeClass("disabled");V(J.clone().subtract(1,"y"),"y")||b.eq(0).addClass("disabled");b.eq(1).text(J.year());V(J.clone().add(1,"y"),"y")||b.eq(2).addClass("disabled");z.removeClass("active");r.isSame(J,"y")&&!x&&z.eq(r.month()).addClass("active");z.each(function(d){V(J.clone().month(d),"M")||f(this).addClass("disabled")})},rb=function(){var w,b,z=q.find(".datepicker-days");
var l=z.find("th");var m=[];if(va()){l.eq(0).find("span").attr("title",d.tooltips.prevMonth);l.eq(1).attr("title",d.tooltips.selectMonth);l.eq(2).find("span").attr("title",d.tooltips.nextMonth);z.find(".disabled").removeClass("disabled");l.eq(1).text(J.format(d.dayViewHeaderFormat));V(J.clone().subtract(1,"M"),"M")||l.eq(0).addClass("disabled");V(J.clone().add(1,"M"),"M")||l.eq(2).addClass("disabled");l=J.clone().startOf("M").startOf("w").startOf("d");for(b=0;42>b;b++){0===l.weekday()&&(w=f("<tr>"),
d.calendarWeeks&&w.append('<td class="cw">'+l.week()+"</td>"),m.push(w));var h=["day"];l.isBefore(J,"M")&&h.push("old");l.isAfter(J,"M")&&h.push("new");l.isSame(r,"d")&&!x&&h.push("active");V(l,"d")||h.push("disabled");l.isSame(ia(),"d")&&h.push("today");0!==l.day()&&6!==l.day()||h.push("weekend");ma({type:"dp.classify",date:l,classNames:h});w.append('<td data-action="selectDay" data-day="'+l.format("L")+'" class="'+h.join(" ")+'">'+l.date()+"</td>");l.add(1,"d")}z.find("tbody").empty().append(m);
Ia();w=q.find(".datepicker-years");z=w.find("th");m=J.clone().subtract(5,"y");l=J.clone().add(6,"y");b="";z.eq(0).find("span").attr("title",d.tooltips.prevDecade);z.eq(1).attr("title",d.tooltips.selectDecade);z.eq(2).find("span").attr("title",d.tooltips.nextDecade);w.find(".disabled").removeClass("disabled");d.minDate&&d.minDate.isAfter(m,"y")&&z.eq(0).addClass("disabled");z.eq(1).text(m.year()+"-"+l.year());for(d.maxDate&&d.maxDate.isBefore(l,"y")&&z.eq(2).addClass("disabled");!m.isAfter(l,"y");)b+=
'<span data-action="selectYear" class="year'+(m.isSame(r,"y")&&!x?" active":"")+(V(m,"y")?"":" disabled")+'">'+m.year()+"</span>",m.add(1,"y");w.find("td").html(b);z=q.find(".datepicker-decades");m=z.find("th");l=k({y:J.year()-J.year()%100-1});b=l.clone().add(100,"y");h=l.clone();var E="";m.eq(0).find("span").attr("title",d.tooltips.prevCentury);m.eq(2).find("span").attr("title",d.tooltips.nextCentury);z.find(".disabled").removeClass("disabled");(l.isSame(k({y:1900}))||d.minDate&&d.minDate.isAfter(l,
"y"))&&m.eq(0).addClass("disabled");m.eq(1).text(l.year()+"-"+b.year());for((l.isSame(k({y:2E3}))||d.maxDate&&d.maxDate.isBefore(b,"y"))&&m.eq(2).addClass("disabled");!l.isAfter(b,"y");){w=l.year()+12;var p=d.minDate&&d.minDate.isAfter(l,"y")&&d.minDate.year()<=w;var A=d.maxDate&&d.maxDate.isAfter(l,"y")&&d.maxDate.year()<=w;E+='<span data-action="selectDecade" class="decade'+(r.isAfter(l)&&r.year()<=w?" active":"")+(V(l,"y")||p||A?"":" disabled")+'" data-selection="'+(l.year()+6)+'">'+(l.year()+
1)+" - "+(l.year()+12)+"</span>";l.add(12,"y")}E+="<span></span><span></span><span></span>";z.find("td").html(E);m.eq(1).text(h.year()+1+"-"+l.year())}},ba=function(){if(q){rb();var b,l,m=q.find(".timepicker span[data-time-component]");z||(b=q.find(".timepicker [data-action=togglePeriod]"),l=r.clone().add(12<=r.hours()?-12:12,"h"),b.text(r.format("A")),V(l,"h")?b.removeClass("disabled"):b.addClass("disabled"));m.filter("[data-time-component=hours]").text(r.format(z?"HH":"hh"));m.filter("[data-time-component=minutes]").text(r.format("mm"));
m.filter("[data-time-component=seconds]").text(r.format("ss"));b=q.find(".timepicker-hours table");l=J.clone().startOf("d");m=[];var h=f("<tr>");for(11<J.hour()&&!z&&l.hour(12);l.isSame(J,"d")&&(z||12>J.hour()&&12>l.hour()||11<J.hour());)0==l.hour()%4&&(h=f("<tr>"),m.push(h)),h.append('<td data-action="selectHour" class="hour'+(V(l,"h")?"":" disabled")+'">'+l.format(z?"HH":"hh")+"</td>"),l.add(1,"h");b.empty().append(m);b=q.find(".timepicker-minutes table");l=J.clone().startOf("h");m=[];h=f("<tr>");
for(var E=1===d.stepping?5:d.stepping;J.isSame(l,"h");)0==l.minute()%(4*E)&&(h=f("<tr>"),m.push(h)),h.append('<td data-action="selectMinute" class="minute'+(V(l,"m")?"":" disabled")+'">'+l.format("mm")+"</td>"),l.add(E,"m");b.empty().append(m);b=q.find(".timepicker-seconds table");l=J.clone().startOf("m");m=[];for(h=f("<tr>");J.isSame(l,"m");)0==l.second()%20&&(h=f("<tr>"),m.push(h)),h.append('<td data-action="selectSecond" class="second'+(V(l,"s")?"":" disabled")+'">'+l.format("ss")+"</td>"),l.add(5,
"s");b.empty().append(m)}},ka=function(f){var l=x?null:r;if(!f)return x=!0,m.val(""),b.data("date",""),ma({type:"dp.change",date:!1,oldDate:l}),void ba();if(f=f.clone().locale(d.locale),qa()&&f.tz(d.timeZone),1!==d.stepping)for(f.minutes(Math.round(f.minutes()/d.stepping)*d.stepping).seconds(0);d.minDate&&f.isBefore(d.minDate);)f.add(d.stepping,"minutes");V(f)?(J=(r=f).clone(),m.val(r.format(E)),b.data("date",r.format(E)),x=!1,ba(),ma({type:"dp.change",date:r.clone(),oldDate:l})):(d.keepInvalid?ma({type:"dp.change",
date:f,oldDate:l}):m.val(x?"":r.format(E)),ma({type:"dp.error",date:f,oldDate:l}))},sa=function(){var d=!1;return q?(q.find(".collapse").each(function(){var b=f(this).data("collapse");return!b||!b.transitioning||(d=!0,!1)}),d?h:(p&&p.hasClass("btn")&&p.toggleClass("active"),q.hide(),f(window).off("resize",Ya),q.off("click","[data-action]"),q.off("mousedown",!1),q.remove(),q=!1,ma({type:"dp.hide",date:r.clone()}),m.blur(),J=r.clone(),h)):h},yc=function(){ka(null)},Oa=function(f){return void 0===d.parseInputDate?
(!k.isMoment(f)||f instanceof Date)&&(f=ia(f)):f=d.parseInputDate(f),f},T={next:function(){var d=A[O].navFnc;J.add(A[O].navStep,d);rb();Ta(d)},previous:function(){var d=A[O].navFnc;J.subtract(A[O].navStep,d);rb();Ta(d)},pickerSwitch:function(){Ba(1)},selectMonth:function(b){b=f(b.target).closest("tbody").find("span").index(f(b.target));J.month(b);O===D?(ka(r.clone().year(J.year()).month(J.month())),d.inline||sa()):(Ba(-1),rb());Ta("M")},selectYear:function(b){b=parseInt(f(b.target).text(),10)||0;
J.year(b);O===D?(ka(r.clone().year(J.year())),d.inline||sa()):(Ba(-1),rb());Ta("YYYY")},selectDecade:function(b){b=parseInt(f(b.target).data("selection"),10)||0;J.year(b);O===D?(ka(r.clone().year(J.year())),d.inline||sa()):(Ba(-1),rb());Ta("YYYY")},selectDay:function(b){var l=J.clone();f(b.target).is(".old")&&l.subtract(1,"M");f(b.target).is(".new")&&l.add(1,"M");ka(l.date(parseInt(f(b.target).text(),10)));P()||d.keepOpen||d.inline||sa()},incrementHours:function(){var d=r.clone().add(1,"h");V(d,"h")&&
ka(d)},incrementMinutes:function(){var f=r.clone().add(d.stepping,"m");V(f,"m")&&ka(f)},incrementSeconds:function(){var d=r.clone().add(1,"s");V(d,"s")&&ka(d)},decrementHours:function(){var d=r.clone().subtract(1,"h");V(d,"h")&&ka(d)},decrementMinutes:function(){var f=r.clone().subtract(d.stepping,"m");V(f,"m")&&ka(f)},decrementSeconds:function(){var d=r.clone().subtract(1,"s");V(d,"s")&&ka(d)},togglePeriod:function(){ka(r.clone().add(12<=r.hours()?-12:12,"h"))},togglePicker:function(b){var l;b=f(b.target);
var z=b.closest("ul"),w=z.find(".show");z=z.find(".collapse:not(.show)");!w||!w.length||(l=w.data("collapse"))&&l.transitioning||(w.collapse?(w.collapse("hide"),z.collapse("show")):(w.removeClass("show"),z.addClass("show")),b.is("i")?b.toggleClass(d.icons.time+" "+d.icons.date):b.find("i").toggleClass(d.icons.time+" "+d.icons.date))},showPicker:function(){q.find(".timepicker > div:not(.timepicker-picker)").hide();q.find(".timepicker .timepicker-picker").show()},showHours:function(){q.find(".timepicker .timepicker-picker").hide();
q.find(".timepicker .timepicker-hours").show()},showMinutes:function(){q.find(".timepicker .timepicker-picker").hide();q.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){q.find(".timepicker .timepicker-picker").hide();q.find(".timepicker .timepicker-seconds").show()},selectHour:function(d){d=parseInt(f(d.target).text(),10);z||(12<=r.hours()?12!==d&&(d+=12):12===d&&(d=0));ka(r.clone().hours(d));T.showPicker.call(h)},selectMinute:function(d){ka(r.clone().minutes(parseInt(f(d.target).text(),
10)));T.showPicker.call(h)},selectSecond:function(d){ka(r.clone().seconds(parseInt(f(d.target).text(),10)));T.showPicker.call(h)},clear:yc,today:function(){var d=ia();V(d,"d")&&ka(d)},close:sa},Z=function(d){return!f(d.currentTarget).is(".disabled")&&(T[f(d.currentTarget).data("action")].apply(h,arguments),!1)},F=function(){var b,l={year:function(d){return d.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(d){return d.date(1).hours(0).seconds(0).minutes(0)},day:function(d){return d.hours(0).seconds(0).minutes(0)},
hour:function(d){return d.seconds(0).minutes(0)},minute:function(d){return d.seconds(0)}};return m.prop("disabled")||!d.ignoreReadonly&&m.prop("readonly")||q?h:(void 0!==m.val()&&0!==m.val().trim().length?ka(Oa(m.val().trim())):x&&d.useCurrent&&(d.inline||m.is("input")&&0===m.val().trim().length)&&(b=ia(),"string"==typeof d.useCurrent&&(b=l[d.useCurrent](b)),ka(b)),q=jb(),Ea(),Lb(),q.find(".timepicker-hours").hide(),q.find(".timepicker-minutes").hide(),q.find(".timepicker-seconds").hide(),ba(),Ba(),
f(window).on("resize",Ya),q.on("click","[data-action]",Z),q.on("mousedown",!1),p&&p.hasClass("btn")&&p.toggleClass("active"),Ya(),q.show(),d.focusOnShow&&!m.is(":focus")&&m.focus(),ma({type:"dp.show"}),h)},ra=function(){return q?sa():F()},K=function(f){var b,l,z,w=null,m=[],E={},p=f.which;da[p]="p";for(b in da)da.hasOwnProperty(b)&&"p"===da[b]&&(m.push(b),parseInt(b,10)!==p&&(E[b]=!0));for(b in d.keyBinds)if(d.keyBinds.hasOwnProperty(b)&&"function"==typeof d.keyBinds[b]&&(z=b.split(" ")).length===
m.length&&ea[p]===z[z.length-1]){var x=!0;for(l=z.length-2;0<=l;l--)if(!(ea[z[l]]in E)){x=!1;break}if(x){w=d.keyBinds[b];break}}w&&(w.call(h,q),f.stopPropagation(),f.preventDefault())},sb=function(d){da[d.which]="r";d.stopPropagation();d.preventDefault()},Nb=function(d){var b=f(d.target).val().trim();b=b?Oa(b):null;return ka(b),d.stopImmediatePropagation(),!1},Cb=function(d){var b={};return f.each(d,function(){var d=Oa(this);d.isValid()&&(b[d.format("YYYY-MM-DD")]=!0)}),!!Object.keys(b).length&&b},
Xb=function(d){var b={};return f.each(d,function(){b[this]=!0}),!!Object.keys(b).length&&b},l=function(){var b=d.format||"L LT";E=b.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(d){return(r.localeData().longDateFormat(d)||d).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(d){return r.localeData().longDateFormat(d)||d})});0>(Q=d.extraFormats?d.extraFormats.slice():[]).indexOf(b)&&0>Q.indexOf(E)&&Q.push(E);z=1>E.toLowerCase().indexOf("a")&&1>E.replace(/\[.*?\]/g,"").indexOf("h");
Y("y")&&(D=2);Y("M")&&(D=1);Y("d")&&(D=0);O=Math.max(D,O);x||ka(r)};if(h.destroy=function(){sa();m.off({change:Nb,blur:blur,keydown:K,keyup:sb,focus:d.allowInputToggle?sa:""});b.is("input")?m.off({focus:F}):p&&(p.off("click",ra),p.off("mousedown",!1));b.removeData("DateTimePicker");b.removeData("date")},h.toggle=ra,h.show=F,h.hide=sa,h.disable=function(){return sa(),p&&p.hasClass("btn")&&p.addClass("disabled"),m.prop("disabled",!0),h},h.enable=function(){return p&&p.hasClass("btn")&&p.removeClass("disabled"),
m.prop("disabled",!1),h},h.ignoreReadonly=function(b){if(0===arguments.length)return d.ignoreReadonly;if("boolean"!=typeof b)throw new TypeError("ignoreReadonly () expects a boolean parameter");return d.ignoreReadonly=b,h},h.options=function(b){if(0===arguments.length)return f.extend(!0,{},d);if(!(b instanceof Object))throw new TypeError("options() options parameter should be an object");return f.extend(!0,d,b),f.each(d,function(d,b){if(void 0===h[d])throw new TypeError("option "+d+" is not recognized!");
h[d](b)}),h},h.date=function(d){if(0===arguments.length)return x?null:r.clone();if(!(null===d||"string"==typeof d||k.isMoment(d)||d instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return ka(null===d?null:Oa(d)),h},h.format=function(b){if(0===arguments.length)return d.format;if("string"!=typeof b&&("boolean"!=typeof b||!1!==b))throw new TypeError("format() expects a string or boolean:false parameter "+b);return d.format=b,E&&l(),h},h.timeZone=
function(b){if(0===arguments.length)return d.timeZone;if("string"!=typeof b)throw new TypeError("newZone() expects a string parameter");return d.timeZone=b,h},h.dayViewHeaderFormat=function(b){if(0===arguments.length)return d.dayViewHeaderFormat;if("string"!=typeof b)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return d.dayViewHeaderFormat=b,h},h.extraFormats=function(b){if(0===arguments.length)return d.extraFormats;if(!1!==b&&!(b instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");
return d.extraFormats=b,Q&&l(),h},h.disabledDates=function(b){if(0===arguments.length)return d.disabledDates?f.extend({},d.disabledDates):d.disabledDates;if(!b)return d.disabledDates=!1,ba(),h;if(!(b instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return d.disabledDates=Cb(b),d.enabledDates=!1,ba(),h},h.enabledDates=function(b){if(0===arguments.length)return d.enabledDates?f.extend({},d.enabledDates):d.enabledDates;if(!b)return d.enabledDates=!1,ba(),h;if(!(b instanceof
Array))throw new TypeError("enabledDates() expects an array parameter");return d.enabledDates=Cb(b),d.disabledDates=!1,ba(),h},h.daysOfWeekDisabled=function(b){if(0===arguments.length)return d.daysOfWeekDisabled.splice(0);if("boolean"==typeof b&&!b)return d.daysOfWeekDisabled=!1,ba(),h;if(!(b instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(d.daysOfWeekDisabled=b.reduce(function(d,b){return 6<(b=parseInt(b,10))||0>b||isNaN(b)?d:(-1===d.indexOf(b)&&d.push(b),
d)},[]).sort(),d.useCurrent&&!d.keepInvalid){for(var f=0;!V(r,"d");){if(r.add(1,"d"),31===f)throw"Tried 31 times to find a valid date";f++}ka(r)}return ba(),h},h.maxDate=function(b){if(0===arguments.length)return d.maxDate?d.maxDate.clone():d.maxDate;if("boolean"==typeof b&&!1===b)return d.maxDate=!1,ba(),h;"string"==typeof b&&("now"!==b&&"moment"!==b||(b=ia()));var f=Oa(b);if(!f.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+b);if(d.minDate&&f.isBefore(d.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+
f.format(E));return d.maxDate=f,d.useCurrent&&!d.keepInvalid&&r.isAfter(b)&&ka(d.maxDate),J.isAfter(f)&&(J=f.clone().subtract(d.stepping,"m")),ba(),h},h.minDate=function(b){if(0===arguments.length)return d.minDate?d.minDate.clone():d.minDate;if("boolean"==typeof b&&!1===b)return d.minDate=!1,ba(),h;"string"==typeof b&&("now"!==b&&"moment"!==b||(b=ia()));var f=Oa(b);if(!f.isValid())throw new TypeError("minDate() Could not parse date parameter: "+b);if(d.maxDate&&f.isAfter(d.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+
f.format(E));return d.minDate=f,d.useCurrent&&!d.keepInvalid&&r.isBefore(b)&&ka(d.minDate),J.isBefore(f)&&(J=f.clone().add(d.stepping,"m")),ba(),h},h.defaultDate=function(b){if(0===arguments.length)return d.defaultDate?d.defaultDate.clone():d.defaultDate;if(!b)return d.defaultDate=!1,h;"string"==typeof b&&(b="now"===b||"moment"===b?ia():ia(b));var f=Oa(b);if(!f.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+b);if(!V(f))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");
return d.defaultDate=f,(d.defaultDate&&d.inline||""===m.val().trim())&&ka(d.defaultDate),h},h.locale=function(b){if(0===arguments.length)return d.locale;if(!k.localeData(b))throw new TypeError("locale() locale "+b+" is not loaded from moment locales!");return d.locale=b,r.locale(d.locale),J.locale(d.locale),E&&l(),q&&(sa(),F()),h},h.stepping=function(b){return 0===arguments.length?d.stepping:(b=parseInt(b,10),(isNaN(b)||1>b)&&(b=1),d.stepping=b,h)},h.useCurrent=function(b){var f=["year","month","day",
"hour","minute"];if(0===arguments.length)return d.useCurrent;if("boolean"!=typeof b&&"string"!=typeof b)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof b&&-1===f.indexOf(b.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+f.join(", "));return d.useCurrent=b,h},h.collapse=function(b){if(0===arguments.length)return d.collapse;if("boolean"!=typeof b)throw new TypeError("collapse() expects a boolean parameter");return d.collapse===
b?h:(d.collapse=b,q&&(sa(),F()),h)},h.icons=function(b){if(0===arguments.length)return f.extend({},d.icons);if(!(b instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return f.extend(d.icons,b),q&&(sa(),F()),h},h.tooltips=function(b){if(0===arguments.length)return f.extend({},d.tooltips);if(!(b instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return f.extend(d.tooltips,b),q&&(sa(),F()),h},h.useStrict=function(b){if(0===arguments.length)return d.useStrict;
if("boolean"!=typeof b)throw new TypeError("useStrict() expects a boolean parameter");return d.useStrict=b,h},h.sideBySide=function(b){if(0===arguments.length)return d.sideBySide;if("boolean"!=typeof b)throw new TypeError("sideBySide() expects a boolean parameter");return d.sideBySide=b,q&&(sa(),F()),h},h.viewMode=function(b){if(0===arguments.length)return d.viewMode;if("string"!=typeof b)throw new TypeError("viewMode() expects a string parameter");if(-1===fa.indexOf(b))throw new TypeError("viewMode() parameter must be one of ("+
fa.join(", ")+") value");return d.viewMode=b,O=Math.max(fa.indexOf(b),D),Ba(),h},h.toolbarPlacement=function(b){if(0===arguments.length)return d.toolbarPlacement;if("string"!=typeof b)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===M.indexOf(b))throw new TypeError("toolbarPlacement() parameter must be one of ("+M.join(", ")+") value");return d.toolbarPlacement=b,q&&(sa(),F()),h},h.widgetPositioning=function(b){if(0===arguments.length)return f.extend({},d.widgetPositioning);
if("[object Object]"!=={}.toString.call(b))throw new TypeError("widgetPositioning() expects an object variable");if(b.horizontal){if("string"!=typeof b.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(b.horizontal=b.horizontal.toLowerCase(),-1===y.indexOf(b.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+y.join(", ")+")");d.widgetPositioning.horizontal=b.horizontal}if(b.vertical){if("string"!=typeof b.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");
if(b.vertical=b.vertical.toLowerCase(),-1===R.indexOf(b.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+R.join(", ")+")");d.widgetPositioning.vertical=b.vertical}return ba(),h},h.calendarWeeks=function(b){if(0===arguments.length)return d.calendarWeeks;if("boolean"!=typeof b)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return d.calendarWeeks=b,ba(),h},h.showTodayButton=function(b){if(0===arguments.length)return d.showTodayButton;
if("boolean"!=typeof b)throw new TypeError("showTodayButton() expects a boolean parameter");return d.showTodayButton=b,q&&(sa(),F()),h},h.showClear=function(b){if(0===arguments.length)return d.showClear;if("boolean"!=typeof b)throw new TypeError("showClear() expects a boolean parameter");return d.showClear=b,q&&(sa(),F()),h},h.widgetParent=function(b){if(0===arguments.length)return d.widgetParent;if("string"==typeof b&&(b=f(b)),null!==b&&"string"!=typeof b&&!(b instanceof f))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");
return d.widgetParent=b,q&&(sa(),F()),h},h.keepOpen=function(b){if(0===arguments.length)return d.keepOpen;if("boolean"!=typeof b)throw new TypeError("keepOpen() expects a boolean parameter");return d.keepOpen=b,h},h.focusOnShow=function(b){if(0===arguments.length)return d.focusOnShow;if("boolean"!=typeof b)throw new TypeError("focusOnShow() expects a boolean parameter");return d.focusOnShow=b,h},h.inline=function(b){if(0===arguments.length)return d.inline;if("boolean"!=typeof b)throw new TypeError("inline() expects a boolean parameter");
return d.inline=b,h},h.clear=function(){return yc(),h},h.keyBinds=function(b){return 0===arguments.length?d.keyBinds:(d.keyBinds=b,h)},h.getMoment=function(b){return ia(b)},h.debug=function(b){if("boolean"!=typeof b)throw new TypeError("debug() expects a boolean parameter");return d.debug=b,h},h.allowInputToggle=function(b){if(0===arguments.length)return d.allowInputToggle;if("boolean"!=typeof b)throw new TypeError("allowInputToggle() expects a boolean parameter");return d.allowInputToggle=b,h},h.showClose=
function(b){if(0===arguments.length)return d.showClose;if("boolean"!=typeof b)throw new TypeError("showClose() expects a boolean parameter");return d.showClose=b,h},h.keepInvalid=function(b){if(0===arguments.length)return d.keepInvalid;if("boolean"!=typeof b)throw new TypeError("keepInvalid() expects a boolean parameter");return d.keepInvalid=b,h},h.datepickerInput=function(b){if(0===arguments.length)return d.datepickerInput;if("string"!=typeof b)throw new TypeError("datepickerInput() expects a string parameter");
return d.datepickerInput=b,h},h.parseInputDate=function(b){if(0===arguments.length)return d.parseInputDate;if("function"!=typeof b)throw new TypeError("parseInputDate() sholud be as function");return d.parseInputDate=b,h},h.disabledTimeIntervals=function(b){if(0===arguments.length)return d.disabledTimeIntervals?f.extend({},d.disabledTimeIntervals):d.disabledTimeIntervals;if(!b)return d.disabledTimeIntervals=!1,ba(),h;if(!(b instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");
return d.disabledTimeIntervals=b,ba(),h},h.disabledHours=function(b){if(0===arguments.length)return d.disabledHours?f.extend({},d.disabledHours):d.disabledHours;if(!b)return d.disabledHours=!1,ba(),h;if(!(b instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(d.disabledHours=Xb(b),d.enabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var l=0;!V(r,"h");){if(r.add(1,"h"),24===l)throw"Tried 24 times to find a valid date";l++}ka(r)}return ba(),h},h.enabledHours=function(b){if(0===
arguments.length)return d.enabledHours?f.extend({},d.enabledHours):d.enabledHours;if(!b)return d.enabledHours=!1,ba(),h;if(!(b instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(d.enabledHours=Xb(b),d.disabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var l=0;!V(r,"h");){if(r.add(1,"h"),24===l)throw"Tried 24 times to find a valid date";l++}ka(r)}return ba(),h},h.viewDate=function(b){if(0===arguments.length)return J.clone();if(!b)return J=r.clone(),h;if(!("string"==
typeof b||k.isMoment(b)||b instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return J=Oa(b),Ta(),h},b.is("input"))var m=b;else if(0===(m=b.find(d.datepickerInput)).length)m=b.find("input");else if(!m.is("input"))throw Error('CSS class "'+d.datepickerInput+'" cannot be applied to non input element');if(b.hasClass("input-group")&&(p=0===b.find(".datepickerbutton").length?b.find(".input-group-addon"):b.find(".datepickerbutton")),!d.inline&&!m.is("input"))throw Error("Could not initialize DateTimePicker without an input element");
return r=ia(),J=r.clone(),f.extend(!0,d,function(){var l,z={};return(l=b.is("input")||d.inline?b.data():b.find("input").data()).dateOptions&&l.dateOptions instanceof Object&&(z=f.extend(!0,z,l.dateOptions)),f.each(d,function(b){var d="date"+b.charAt(0).toUpperCase()+b.slice(1);void 0!==l[d]&&(z[b]=l[d])}),z}()),h.options(d),l(),m.on({change:Nb,blur:d.debug?"":sa,keydown:K,keyup:sb,focus:d.allowInputToggle?F:""}),b.is("input")?m.on({focus:F}):p&&(p.on("click",ra),p.on("mousedown",!1)),m.prop("disabled")&&
h.disable(),m.is("input")&&0!==m.val().trim().length?ka(Oa(m.val().trim())):d.defaultDate&&void 0===m.attr("placeholder")&&ka(d.defaultDate),d.inline&&F(),h};return f.fn.datetimepicker=function(b){b=b||{};var d,r=Array.prototype.slice.call(arguments,1),k=!0,z=["destroy","hide","show","toggle"];if("object"==typeof b)return this.each(function(){var d,z=f(this);z.data("DateTimePicker")||(d=f.extend(!0,{},f.fn.datetimepicker.defaults,b),z.data("DateTimePicker",y(z,d)))});if("string"==typeof b)return this.each(function(){var z=
f(this).data("DateTimePicker");if(!z)throw Error('bootstrap-datetimepicker("'+b+'") method was called on an element that is not using DateTimePicker');d=z[b].apply(z,r);k=d===z}),k||-1<f.inArray(b,z)?this:d;throw new TypeError("Invalid arguments for DateTimePicker: "+b);},f.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:k.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"fa fa-clock-o",
date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-crosshairs",clear:"fa fa-trash-o",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",
prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,
showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(b){if(b){var d=this.date()||this.getMoment();b.find(".datepicker").is(":visible")?this.date(d.clone().subtract(7,"d")):this.date(d.clone().add(this.stepping(),"m"))}},down:function(b){if(b){var d=this.date()||this.getMoment();b.find(".datepicker").is(":visible")?this.date(d.clone().add(7,
"d")):this.date(d.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(b){if(b){var d=this.date()||this.getMoment();b.find(".datepicker").is(":visible")?this.date(d.clone().subtract(1,"y")):this.date(d.clone().add(1,"h"))}},"control down":function(b){if(b){var d=this.date()||this.getMoment();b.find(".datepicker").is(":visible")?this.date(d.clone().add(1,"y")):this.date(d.clone().subtract(1,"h"))}},left:function(b){if(b){var d=this.date()||this.getMoment();b.find(".datepicker").is(":visible")&&
this.date(d.clone().subtract(1,"d"))}},right:function(b){if(b){var d=this.date()||this.getMoment();b.find(".datepicker").is(":visible")&&this.date(d.clone().add(1,"d"))}},pageUp:function(b){if(b){var d=this.date()||this.getMoment();b.find(".datepicker").is(":visible")&&this.date(d.clone().subtract(1,"M"))}},pageDown:function(b){if(b){var d=this.date()||this.getMoment();b.find(".datepicker").is(":visible")&&this.date(d.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},
"control space":function(b){b&&b.find(".timepicker").is(":visible")&&b.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},f.fn.datetimepicker});"use strict";
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));
!function(f){if("function"==typeof define&&define.amd)define(["jquery"],f);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){try{var k=require("jquery")}catch(y){k=null}module.exports=f(k)}else window&&(window.Slider=f(window.jQuery))}(function(f){windowIsDefined&&!window.console&&(window.console={});windowIsDefined&&!window.console.log&&(window.console.log=function(){});windowIsDefined&&!window.console.warn&&(window.console.warn=function(){});var k;return function(f){function b(){}
var d=Array.prototype.slice;(function(f){function r(b){b.prototype.option||(b.prototype.option=function(b){f.isPlainObject(b)&&(this.options=f.extend(!0,this.options,b))})}function z(b,z){f.fn[b]=function(h){if("string"==typeof h){for(var x=d.call(arguments,1),p=0,q=this.length;q>p;p++){var D=f.data(this[p],b);if(D)if(f.isFunction(D[h])&&"_"!==h.charAt(0)){var A=D[h].apply(D,x);if(void 0!==A&&A!==D)return A}else E("no such method '"+h+"' for "+b+" instance");else E("cannot call methods on "+b+" prior to initialization; attempted to call '"+
h+"'")}return this}x=this.map(function(){var d=f.data(this,b);return d?(d.option(h),d._init()):(d=new z(this,h),f.data(this,b,d)),f(this)});return!x||1<x.length?x:x[0]}}if(f){var E="undefined"==typeof console?b:function(b){console.error(b)};return f.bridget=function(b,d){r(d);z(b,d)},f.bridget}})(f)}(f),function(f){function b(b,d){function z(b,d){d="data-slider-"+d.replace(/_/g,"-");b=b.getAttribute(d);try{return JSON.parse(b)}catch(Y){return b}}this._state={value:null,enabled:null,offset:null,size:null,
percentage:null,inDrag:!1,over:!1};this.ticksCallbackMap={};this.handleCallbackMap={};"string"==typeof b?this.element=document.querySelector(b):b instanceof HTMLElement&&(this.element=b);d=d?d:{};b=Object.keys(this.defaultOptions);for(var E=0;E<b.length;E++){var h=b[E],x=d[h];x="undefined"!=typeof x?x:z(this.element,h);x=null!==x?x:this.defaultOptions[h];this.options||(this.options={});this.options[h]=x}"auto"===this.options.rtl&&(d=window.getComputedStyle(this.element),null!=d?this.options.rtl="rtl"===
d.direction:this.options.rtl="rtl"===this.element.style.direction);"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";d=this.element.style.width;b=!1;h=this.element.parentNode;if(this.sliderElem)b=
!0;else{this.sliderElem=document.createElement("div");this.sliderElem.className="slider";x=document.createElement("div");x.className="slider-track";var p=document.createElement("div");p.className="slider-track-low";var q=document.createElement("div");q.className="slider-selection";var D=document.createElement("div");D.className="slider-track-high";var A=document.createElement("div");A.className="slider-handle min-slider-handle";A.setAttribute("role","slider");A.setAttribute("aria-valuemin",this.options.min);
A.setAttribute("aria-valuemax",this.options.max);var k=document.createElement("div");k.className="slider-handle max-slider-handle";k.setAttribute("role","slider");k.setAttribute("aria-valuemin",this.options.min);k.setAttribute("aria-valuemax",this.options.max);x.appendChild(p);x.appendChild(q);x.appendChild(D);this.rangeHighlightElements=[];E=this.options.rangeHighlights;if(Array.isArray(E)&&0<E.length)for(var J=0;J<E.length;J++){var y=document.createElement("div");y.className="slider-rangeHighlight slider-selection "+
(E[J]["class"]||"");this.rangeHighlightElements.push(y);x.appendChild(y)}E=Array.isArray(this.options.labelledby);if(E&&this.options.labelledby[0]&&A.setAttribute("aria-labelledby",this.options.labelledby[0]),E&&this.options.labelledby[1]&&k.setAttribute("aria-labelledby",this.options.labelledby[1]),!E&&this.options.labelledby&&(A.setAttribute("aria-labelledby",this.options.labelledby),k.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&0<this.options.ticks.length){this.ticksContainer=
document.createElement("div");this.ticksContainer.className="slider-tick-container";for(E=0;E<this.options.ticks.length;E++){J=document.createElement("div");if(J.className="slider-tick",this.options.ticks_tooltip){var M=this._addTickListener();y=M.addMouseEnter(this,J,E);M=M.addMouseLeave(this,J);this.ticksCallbackMap[E]={mouseEnter:y,mouseLeave:M}}this.ticks.push(J);this.ticksContainer.appendChild(J)}q.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&
0<this.options.ticks_labels.length)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",E=0;E<this.options.ticks_labels.length;E++)J=document.createElement("div"),y=0===this.options.ticks_positions.length,y=this.options.reversed&&y?this.options.ticks_labels.length-(E+1):E,J.className="slider-tick-label",J.innerHTML=this.options.ticks_labels[y],this.tickLabels.push(J),this.tickLabelContainer.appendChild(J);E=function(b){var d=document.createElement("div");
d.className="tooltip-arrow";var f=document.createElement("div");f.className="tooltip-inner";b.appendChild(d);b.appendChild(f)};J=document.createElement("div");J.className="tooltip tooltip-main";J.setAttribute("role","presentation");E(J);y=document.createElement("div");y.className="tooltip tooltip-min";y.setAttribute("role","presentation");E(y);M=document.createElement("div");M.className="tooltip tooltip-max";M.setAttribute("role","presentation");E(M);this.sliderElem.appendChild(x);this.sliderElem.appendChild(J);
this.sliderElem.appendChild(y);this.sliderElem.appendChild(M);this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer);this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer);this.sliderElem.appendChild(A);this.sliderElem.appendChild(k);h.insertBefore(this.sliderElem,this.element);this.element.style.display="none"}if(f&&(this.$element=f(this.element),this.$sliderElem=f(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable=
"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),
r[this.options.scale]&&(this.options.scale=r[this.options.scale]),!0===b&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(b){this._removeProperty(this.trackLow,b);this._removeProperty(this.trackSelection,b);this._removeProperty(this.trackHigh,
b)},this),[this.handle1,this.handle2].forEach(function(b){this._removeProperty(b,"left");this._removeProperty(b,"right");this._removeProperty(b,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(b){this._removeProperty(b,"left");this._removeProperty(b,"right");this._removeProperty(b,"top");this._removeClass(b,"right");this._removeClass(b,"left");this._removeClass(b,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),
this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=d,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="clientX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&0<this.options.ticks.length&&(this.options.max=Math.max.apply(Math,this.options.ticks),
this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=p||this.trackLow,this.trackSelection=q||this.trackSelection,this.trackHigh=D||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,
"hide")):("after"===this.options.selection||"before"===this.options.selection)&&(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=A||this.handle1,this.handle2=k||this.handle2,!0===b)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),E=0;E<this.ticks.length;E++)this._removeClass(this.ticks[E],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,
this.options.handle),this._addClass(this.handle2,this.options.handle),E=0;E<this.ticks.length;E++)this._addClass(this.ticks[E],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),
this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var ea=!1;try{var da=Object.defineProperty({},"passive",{get:function(){ea=!0}});window.addEventListener("test",null,da)}catch(qa){}q=ea?{passive:!0}:!1;this.sliderElem.addEventListener("touchstart",this.touchstart,q);this.sliderElem.addEventListener("touchmove",this.touchmove,q)}(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=
this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):((this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip)?(q=this._addTickListener(),p=q.addMouseEnter(this,this.handle1),D=q.addMouseLeave(this,
this.handle1),this.handleCallbackMap.handle1={mouseEnter:p,mouseLeave:D},p=q.addMouseEnter(this,this.handle2),D=q.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:p,mouseLeave:D}):(this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1)),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,
!1),this.handle2.addEventListener("blur",this.hideTooltip,!1));this.options.enabled?this.enable():this.disable()}var d={formatInvalidInputErrorMsg:function(b){return"Invalid input value '"+b+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},r={linear:{toValue:function(b){var d=b/100*(this.options.max-this.options.min),
f=!0;if(0<this.options.ticks_positions.length){d=0;for(f=1;f<this.options.ticks_positions.length;f++)if(b<=this.options.ticks_positions[f]){var z=this.options.ticks[f-1];var h=this.options.ticks_positions[f-1];var x=this.options.ticks[f];d=this.options.ticks_positions[f];break}d=z+(b-h)/(d-h)*(x-z);f=!1}b=(f?this.options.min:0)+Math.round(d/this.options.step)*this.options.step;return b<this.options.min?this.options.min:b>this.options.max?this.options.max:b},toPercentage:function(b){if(this.options.max===
this.options.min)return 0;if(0<this.options.ticks_positions.length){for(var d,f,z,h=0,x=0;x<this.options.ticks.length;x++)if(b<=this.options.ticks[x]){d=0<x?this.options.ticks[x-1]:0;z=0<x?this.options.ticks_positions[x-1]:0;f=this.options.ticks[x];h=this.options.ticks_positions[x];break}if(0<x)return z+(b-d)/(f-d)*(h-z)}return 100*(b-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(b){var d=1-this.options.min,f=Math.log(this.options.min+d),z=Math.log(this.options.max+
d);b=Math.exp(f+(z-f)*b/100)-d;return Math.round(b)===z?z:(b=this.options.min+Math.round((b-this.options.min)/this.options.step)*this.options.step,b<this.options.min?this.options.min:b>this.options.max?this.options.max:b)},toPercentage:function(b){if(this.options.max===this.options.min)return 0;var d=1-this.options.min,f=Math.log(this.options.min+d);return 100*(Math.log(b+d)-f)/(Math.log(this.options.max+d)-f)}}};if(k=function(d,f){return b.call(this,d,f),this},k.prototype={_init:function(){},constructor:k,
defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(b){return Array.isArray(b)?b[0]+" : "+b[1]:b},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?
this._state.value:this._state.value[0]},setValue:function(b,d,f){b||(b=0);var z=this.getValue();this._state.value=this._validateInputValue(b);b=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=b(this._state.value[0]),this._state.value[1]=b(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=b(this._state.value),
this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min);this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100];this._layout();b=this.options.range?
this._state.value:this._state.value[0];this._setDataVal(b);!0===d&&this._trigger("slide",b);d=!1;return d=Array.isArray(b)?z[0]!==b[0]&&z[1]!==b[1]:z!==b,d&&!0===f&&this._trigger("change",{oldValue:z,newValue:b}),this},destroy:function(){this._removeSliderEventHandlers();this.sliderElem.parentNode.removeChild(this.sliderElem);this.element.style.display="";this._cleanUpEventCallbacksMap();this.element.removeAttribute("data");f&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},
disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),
this},isEnabled:function(){return this._state.enabled},on:function(b,d){return this._bindNonQueryEventHandler(b,d),this},off:function(b,d){f?(this.$element.off(b,d),this.$sliderElem.off(b,d)):this._unbindNonQueryEventHandler(b,d)},getAttribute:function(b){return b?this.options[b]:this.options},setAttribute:function(b,d){return this.options[b]=d,this},refresh:function(){return this._removeSliderEventHandlers(),b.call(this,this.element,this.options),f&&f.data(this.element,"slider",this),this},relayout:function(){return this._resize(),
this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var b=this.ticksContainer.getElementsByClassName("slider-tick"),d=0;d<b.length;d++)b[d].removeEventListener("mouseenter",this.ticksCallbackMap[d].mouseEnter,!1),b[d].removeEventListener("mouseleave",this.ticksCallbackMap[d].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,
!1);this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1);this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1);this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.ticksCallbackMap=this.handleCallbackMap=null;this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1));this.hideTooltip&&(this.handle1.removeEventListener("blur",
this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1));this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1);this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1);this.sliderElem.removeEventListener("touchstart",this.touchstart,!1);this.sliderElem.removeEventListener("touchmove",this.touchmove,!1);this.sliderElem.removeEventListener("mousedown",this.mousedown,!1);window.removeEventListener("resize",this.resize,
!1)},_bindNonQueryEventHandler:function(b,d){void 0===this.eventToCallbackMap[b]&&(this.eventToCallbackMap[b]=[]);this.eventToCallbackMap[b].push(d)},_unbindNonQueryEventHandler:function(b,d){b=this.eventToCallbackMap[b];if(void 0!==b)for(var f=0;f<b.length;f++)if(b[f]===d){b.splice(f,1);break}},_cleanUpEventCallbacksMap:function(){for(var b=Object.keys(this.eventToCallbackMap),d=0;d<b.length;d++)delete this.eventToCallbackMap[b[d]]},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,
"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none");this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in"));this._state.over=!1},_setToolTipOnMouseOver:function(b){function d(b,d){return d?[100-
b.percentage[0],this.options.range?100-b.percentage[1]:b.percentage[1]]:[b.percentage[0],b.percentage[1]]}var f=this.options.formatter(b?b.value[0]:this._state.value[0]);b=b?d(b,this.options.reversed):d(this._state,this.options.reversed);this._setText(this.tooltipInner,f);this.tooltip.style[this.stylePos]=b[0]+"%"},_copyState:function(){return{value:[this._state.value[0],this._state.value[1]],enabled:this._state.enabled,offset:this._state.offset,size:this._state.size,percentage:[this._state.percentage[0],
this._state.percentage[1],this._state.percentage[2]],inDrag:this._state.inDrag,over:this._state.over,dragged:this._state.dragged,keyCtrl:this._state.keyCtrl}},_addTickListener:function(){return{addMouseEnter:function(b,d,f){var z=function(){var d=b._copyState(),z=parseInt(0<=f?f:this.attributes["aria-valuenow"].value,10);d.value[0]=z;d.percentage[0]=b.options.ticks_positions[z];b._setToolTipOnMouseOver(d);b._showTooltip()};return d.addEventListener("mouseenter",z,!1),z},addMouseLeave:function(b,d){var f=
function(){b._hideTooltip()};return d.addEventListener("mouseleave",f,!1),f}}},_layout:function(){var b,d;if(b=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=b[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),d=this.options.formatter(this._state.value[0]),isNaN(d)?this.handle1.setAttribute("aria-valuetext",d):
this.handle1.removeAttribute("aria-valuetext"),this.handle2.style[this.stylePos]=b[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),d=this.options.formatter(this._state.value[1]),isNaN(d)?this.handle2.setAttribute("aria-valuetext",d):this.handle2.removeAttribute("aria-valuetext"),0<this.rangeHighlightElements.length&&Array.isArray(this.options.rangeHighlights)&&0<this.options.rangeHighlights.length)for(d=0;d<this.options.rangeHighlights.length;d++){var f=this._toPercentage(this.options.rangeHighlights[d].start),
r=this._toPercentage(this.options.rangeHighlights[d].end);if(this.options.reversed){var h=100-r;r=100-f;f=h}(f=this._createHighlightRange(f,r))?"vertical"===this.options.orientation?(this.rangeHighlightElements[d].style.top=f.start+"%",this.rangeHighlightElements[d].style.height=f.size+"%"):(this.options.rtl?this.rangeHighlightElements[d].style.right=f.start+"%":this.rangeHighlightElements[d].style.left=f.start+"%",this.rangeHighlightElements[d].style.width=f.size+"%"):this.rangeHighlightElements[d].style.display=
"none"}if(Array.isArray(this.options.ticks)&&0<this.options.ticks.length){f="vertical"===this.options.orientation?"height":"width";d="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";r=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var x=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[d]=-r/2+"px"),x=this.tickLabelContainer.offsetHeight;else for(h=0;h<this.tickLabelContainer.childNodes.length;h++)this.tickLabelContainer.childNodes[h].offsetHeight>
x&&(x=this.tickLabelContainer.childNodes[h].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=x+"px")}for(h=0;h<this.options.ticks.length;h++)x=this.options.ticks_positions[h]||this._toPercentage(this.options.ticks[h]),this.options.reversed&&(x=100-x),this.ticks[h].style[this.stylePos]=x+"%",this._removeClass(this.ticks[h],"in-selection"),this.options.range?x>=b[0]&&x<=b[1]&&this._addClass(this.ticks[h],"in-selection"):"after"===this.options.selection&&x>=
b[0]?this._addClass(this.ticks[h],"in-selection"):"before"===this.options.selection&&x<=b[0]&&this._addClass(this.ticks[h],"in-selection"),this.tickLabels[h]&&(this.tickLabels[h].style[f]=r+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[h]?(this.tickLabels[h].style.position="absolute",this.tickLabels[h].style[this.stylePos]=x+"%",this.tickLabels[h].style[d]=-r/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[h].style.marginRight=this.sliderElem.offsetWidth+
"px":this.tickLabels[h].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[d]=this.sliderElem.offsetWidth/2*-1+"px"),this._removeClass(this.tickLabels[h],"label-in-selection label-is-selection"),this.options.range?x>=b[0]&&x<=b[1]&&(this._addClass(this.tickLabels[h],"label-in-selection"),(x===b[0]||b[1])&&this._addClass(this.tickLabels[h],"label-is-selection")):("after"===this.options.selection&&x>=b[0]?this._addClass(this.tickLabels[h],"label-in-selection"):"before"===
this.options.selection&&x<=b[0]&&this._addClass(this.tickLabels[h],"label-in-selection"),x===b[0]&&this._addClass(this.tickLabels[h],"label-is-selection")))}this.options.range?(d=this.options.formatter(this._state.value),this._setText(this.tooltipInner,d),this.tooltip.style[this.stylePos]=(b[1]+b[0])/2+"%",d=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner_min,d),d=this.options.formatter(this._state.value[1]),this._setText(this.tooltipInner_max,d),this.tooltip_min.style[this.stylePos]=
b[0]+"%",this.tooltip_max.style[this.stylePos]=b[1]+"%"):(d=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,d),this.tooltip.style[this.stylePos]=b[0]+"%");"vertical"===this.options.orientation?(this.trackLow.style.top="0",this.trackLow.style.height=Math.min(b[0],b[1])+"%",this.trackSelection.style.top=Math.min(b[0],b[1])+"%",this.trackSelection.style.height=Math.abs(b[0]-b[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(b[0],b[1])-Math.abs(b[0]-
b[1])+"%"):("right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(b[0],b[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(b[0],b[1])+"%":this.trackSelection.style.left=Math.min(b[0],b[1])+"%",this.trackSelection.style.width=Math.abs(b[0]-b[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(b[0],b[1])-Math.abs(b[0]-b[1])+"%",b=this.tooltip_min.getBoundingClientRect(),
d=this.tooltip_max.getBoundingClientRect(),"bottom"===this.options.tooltip_position?b.right>d.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):b.right>d.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,
"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top))},_createHighlightRange:function(b,d){return this._isHighlightRange(b,d)?b>d?{start:d,size:b-d}:{start:b,size:d-b}:null},_isHighlightRange:function(b,d){return 0<=b&&100>=b&&0<=d&&100>=d?!0:!1},_resize:function(b){this._state.offset=this._offset(this.sliderElem);this._state.size=this.sliderElem[this.sizePos];this._layout()},
_removeProperty:function(b,d){b.style.removeProperty?b.style.removeProperty(d):b.style.removeAttribute(d)},_mousedown:function(b){if(!this._state.enabled)return!1;b.preventDefault&&b.preventDefault();this._state.offset=this._offset(this.sliderElem);this._state.size=this.sliderElem[this.sizePos];var d=this._getPercentage(b);this.options.range?(this._state.dragged=Math.abs(this._state.percentage[1]-d)>Math.abs(this._state.percentage[0]-d)?0:1,this._adjustPercentageForRangeSliders(d)):this._state.dragged=
0;this._state.percentage[this._state.dragged]=d;this._layout();this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1));this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1);this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1);this.mousemove=this._mousemove.bind(this);this.mouseup=this._mouseup.bind(this);this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),
document.addEventListener("touchend",this.mouseup,!1));document.addEventListener("mousemove",this.mousemove,!1);document.addEventListener("mouseup",this.mouseup,!1);this._state.inDrag=!0;d=this._calculateValue();return this._trigger("slideStart",d),this._setDataVal(d),this.setValue(d,!1,!0),b.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(b){if(void 0===b.changedTouches)return void this._mousedown(b);b=b.changedTouches[0];this.touchX=b.pageX;
this.touchY=b.pageY},_triggerFocusOnHandle:function(b){0===b&&this.handle1.focus();1===b&&this.handle2.focus()},_keydown:function(b,d){if(!this._state.enabled)return!1;switch(d.keyCode){case 37:case 40:var f=-1;break;case 39:case 38:f=1}if(f){if(this.options.natural_arrow_keys){var z="horizontal"===this.options.orientation&&this.options.reversed;("vertical"===this.options.orientation&&!this.options.reversed||z)&&(f=-f)}f=this._state.value[b]+f*this.options.step;z=f/this.options.max*100;(this._state.keyCtrl=
b,this.options.range)?(this._adjustPercentageForRangeSliders(z),f=[Math.max(this.options.min,Math.min(this.options.max,this._state.keyCtrl?this._state.value[0]:f)),Math.max(this.options.min,Math.min(this.options.max,this._state.keyCtrl?f:this._state.value[1]))]):f=Math.max(this.options.min,Math.min(this.options.max,f));return this._trigger("slideStart",f),this._setDataVal(f),this.setValue(f,!0,!0),this._setDataVal(f),this._trigger("slideStop",f),this._layout(),this._pauseEvent(d),delete this._state.keyCtrl,
!1}},_pauseEvent:function(b){b.stopPropagation&&b.stopPropagation();b.preventDefault&&b.preventDefault();b.cancelBubble=!0;b.returnValue=!1},_mousemove:function(b){if(!this._state.enabled)return!1;b=this._getPercentage(b);this._adjustPercentageForRangeSliders(b);this._state.percentage[this._state.dragged]=b;this._layout();b=this._calculateValue(!0);return this.setValue(b,!0,!0),!1},_touchmove:function(b){if(void 0!==b.changedTouches){var d=b.changedTouches[0],f=d.pageX-this.touchX;d=d.pageY-this.touchY;
this._state.inDrag||("vertical"===this.options.orientation&&5>=f&&-5<=f&&(15<=d||-15>=d)?this._mousedown(b):5>=d&&-5<=d&&(15<=f||-15>=f)&&this._mousedown(b))}},_adjustPercentageForRangeSliders:function(b){if(this.options.range){var d=this._getNumDigitsAfterDecimalPlace(b);d=d?d-1:0;var f=this._applyToFixedAndParseFloat(b,d);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],d)<f?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&
this._applyToFixedAndParseFloat(this._state.percentage[0],d)>f?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<b?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>b&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(){if(!this._state.enabled)return!1;
this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1));document.removeEventListener("mousemove",this.mousemove,!1);document.removeEventListener("mouseup",this.mouseup,!1);this._state.inDrag=!1;!1===this._state.over&&this._hideTooltip();var b=this._calculateValue(!0);return this._layout(),this._setDataVal(b),this._trigger("slideStop",b),this._state.dragged=null,!1},_calculateValue:function(b){var d;return this.options.range?
(d=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(d[0]=this._toValue(this._state.percentage[0]),d[0]=this._applyPrecision(d[0])),100!==this._state.percentage[1]&&(d[1]=this._toValue(this._state.percentage[1]),d[1]=this._applyPrecision(d[1])),b&&(d[0]=this._snapToClosestTick(d[0]),d[1]=this._snapToClosestTick(d[1]))):(d=this._toValue(this._state.percentage[0]),d=parseFloat(d),d=this._applyPrecision(d),b&&(d=this._snapToClosestTick(d))),d},_snapToClosestTick:function(b){for(var d=
[b,1/0],f=0;f<this.options.ticks.length;f++){var z=Math.abs(this.options.ticks[f]-b);z<=d[1]&&(d=[this.options.ticks[f],z])}return d[1]<=this.options.ticks_snap_bounds?d[0]:b},_applyPrecision:function(b){var d=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(b,d)},_getNumDigitsAfterDecimalPlace:function(b){return(b=(""+b).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(b[1]?b[1].length:0)-(b[2]?+b[2]:0)):0},_applyToFixedAndParseFloat:function(b,
d){b=b.toFixed(d);return parseFloat(b)},_getPercentage:function(b){!this.touchCapable||"touchstart"!==b.type&&"touchmove"!==b.type||(b=b.touches[0]);b=b[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(b=-b);b=b/this._state.size*100;return b=Math.round(b/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(b=100-b),Math.max(0,Math.min(100,b))},_validateInputValue:function(b){if(isNaN(+b)){if(Array.isArray(b))return this._validateArray(b),b;throw Error(d.formatInvalidInputErrorMsg(b));
}return+b},_validateArray:function(b){for(var f=0;f<b.length;f++){var z=b[f];if("number"!=typeof z)throw Error(d.formatInvalidInputErrorMsg(z));}},_setDataVal:function(b){this.element.setAttribute("data-value",b);this.element.setAttribute("value",b);this.element.value=b},_trigger:function(b,d){d=d||0===d?d:void 0;var z=this.eventToCallbackMap[b];if(z&&z.length)for(var r=0;r<z.length;r++)(0,z[r])(d);f&&this._triggerJQueryEvent(b,d)},_triggerJQueryEvent:function(b,d){b={type:b,value:d};this.$element.trigger(b);
this.$sliderElem.trigger(b)},_unbindJQueryEventHandlers:function(){this.$element.off();this.$sliderElem.off()},_setText:function(b,d){"undefined"!=typeof b.textContent?b.textContent=d:"undefined"!=typeof b.innerText&&(b.innerText=d)},_removeClass:function(b,d){d=d.split(" ");for(var f=b.className,z=0;z<d.length;z++)f=f.replace(new RegExp("(?:\\s|^)"+d[z]+"(?:\\s|$)")," ");b.className=f.trim()},_addClass:function(b,d){d=d.split(" ");for(var f=b.className,z=0;z<d.length;z++){var h=d[z];(new RegExp("(?:\\s|^)"+
h+"(?:\\s|$)")).test(f)||(f+=" "+h)}b.className=f.trim()},_offsetLeft:function(b){return b.getBoundingClientRect().left},_offsetRight:function(b){return b.getBoundingClientRect().right},_offsetTop:function(b){for(var d=b.offsetTop;(b=b.offsetParent)&&!isNaN(b.offsetTop);)d+=b.offsetTop,"BODY"!==b.tagName&&(d-=b.scrollTop);return d},_offset:function(b){return{left:this._offsetLeft(b),right:this._offsetRight(b),top:this._offsetTop(b)}},_css:function(b,d,r){f?f.style(b,d,r):(d=d.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,
function(b,d){return d.toUpperCase()}),b.style[d]=r)},_toValue:function(b){return this.options.scale.toValue.apply(this,[b])},_toPercentage:function(b){return this.options.scale.toPercentage.apply(this,[b])},_setTooltipPosition:function(){var b=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var d=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right";var f="left"===d?"right":"left";b.forEach(function(b){this._addClass(b,
d);b.style[f]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?b.forEach(function(b){this._addClass(b,"bottom");b.style.top="22px"}.bind(this)):b.forEach(function(b){this._addClass(b,"top");b.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},f&&f.fn){var J=void 0;f.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),J="bootstrapSlider"):(f.bridget("slider",
k),J="slider");f.bridget("bootstrapSlider",k);f(function(){f("input[data-provide=slider]")[J]()})}}(f),k});
+function(f){var k=function(){function f(b,d){for(var f=0;f<d.length;f++){var k=d[f];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(b,k.key,k)}}return function(b,d,r){return d&&f(b.prototype,d),r&&f(b,r),b}}();(function(f){var b=f.fn.ekkoLightbox,d={title:"",footer:"",maxWidth:9999,maxHeight:9999,showArrows:!0,wrapping:!0,type:null,alwaysShowClose:!1,loadingMessage:'<div class="ekko-lightbox-loader"><div><div></div><div></div></div></div>',leftArrow:"<span>&#10094;</span>",
rightArrow:"<span>&#10095;</span>",strings:{close:"Close",fail:"Failed to load image:",type:"Could not detect remote target type. Force the type using data-type"},doc:document,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNavigate:function(){},onContentLoaded:function(){}},r=function(){function b(z,r){var k=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._config=f.extend({},d,r);this._$modalArrows=null;this._galleryIndex=
0;this._border=this._padding=this._galleryName=null;this._footerIsShown=this._titleIsShown=!1;this._touchendX=this._touchstartX=this._wantedHeight=this._wantedWidth=0;this._modalId="ekkoLightbox-"+Math.floor(1E3*Math.random()+1);this._$element=z instanceof jQuery?z:f(z);this._isBootstrap3=3==f.fn.modal.Constructor.VERSION[0];z='<h4 class="modal-title">'+(this._config.title||"&nbsp;")+"</h4>";r='<button type="button" class="close" data-dismiss="modal" aria-label="'+this._config.strings.close+'"><span aria-hidden="true">&times;</span></button>';
z='<div class="modal-dialog" role="document"><div class="modal-content">'+('<div class="modal-header'+(this._config.title||this._config.alwaysShowClose?"":" hide")+'">'+(this._isBootstrap3?r+z:z+r)+"</div>")+'<div class="modal-body"><div class="ekko-lightbox-container"><div class="ekko-lightbox-item fade in show"></div><div class="ekko-lightbox-item fade"></div></div></div>'+('<div class="modal-footer'+(this._config.footer?"":" hide")+'">'+(this._config.footer||"&nbsp;")+"</div>")+"</div></div>";
f(this._config.doc.body).append('<div id="'+this._modalId+'" class="ekko-lightbox modal fade" tabindex="-1" tabindex="-1" role="dialog" aria-hidden="true">'+z+"</div>");this._$modal=f("#"+this._modalId,this._config.doc);this._$modalDialog=this._$modal.find(".modal-dialog").first();this._$modalContent=this._$modal.find(".modal-content").first();this._$modalBody=this._$modal.find(".modal-body").first();this._$modalHeader=this._$modal.find(".modal-header").first();this._$modalFooter=this._$modal.find(".modal-footer").first();
this._$lightboxContainer=this._$modalBody.find(".ekko-lightbox-container").first();this._$lightboxBodyOne=this._$lightboxContainer.find("> div:first-child").first();this._$lightboxBodyTwo=this._$lightboxContainer.find("> div:last-child").first();this._border=this._calculateBorders();this._padding=this._calculatePadding();(this._galleryName=this._$element.data("gallery"))&&(this._$galleryItems=f(document.body).find('*[data-gallery="'+this._galleryName+'"]'),this._galleryIndex=this._$galleryItems.index(this._$element),
f(document).on("keydown.ekkoLightbox",this._navigationalBinder.bind(this)),this._config.showArrows&&1<this._$galleryItems.length&&(this._$lightboxContainer.append('<div class="ekko-lightbox-nav-overlay"><a href="#">'+this._config.leftArrow+'</a><a href="#">'+this._config.rightArrow+"</a></div>"),this._$modalArrows=this._$lightboxContainer.find("div.ekko-lightbox-nav-overlay").first(),this._$lightboxContainer.on("click","a:first-child",function(b){return b.preventDefault(),k.navigateLeft()}),this._$lightboxContainer.on("click",
"a:last-child",function(b){return b.preventDefault(),k.navigateRight()}),this.updateNavigation()));this._$modal.on("show.bs.modal",this._config.onShow.bind(this)).on("shown.bs.modal",function(){return k._toggleLoading(!0),k._handle(),k._config.onShown.call(k)}).on("hide.bs.modal",this._config.onHide.bind(this)).on("hidden.bs.modal",function(){return k._galleryName&&(f(document).off("keydown.ekkoLightbox"),f(window).off("resize.ekkoLightbox")),k._$modal.remove(),k._config.onHidden.call(k)}).modal(this._config);
f(window).on("resize.ekkoLightbox",function(){k._resize(k._wantedWidth,k._wantedHeight)});this._$lightboxContainer.on("touchstart",function(){k._touchstartX=event.changedTouches[0].screenX}).on("touchend",function(){k._touchendX=event.changedTouches[0].screenX;k._swipeGesure()})}return k(b,null,[{key:"Default",get:function(){return d}}]),k(b,[{key:"element",value:function(){return this._$element}},{key:"modal",value:function(){return this._$modal}},{key:"navigateTo",value:function(b){return 0>b||
b>this._$galleryItems.length-1?this:(this._galleryIndex=b,this.updateNavigation(),this._$element=f(this._$galleryItems.get(this._galleryIndex)),void this._handle())}},{key:"navigateLeft",value:function(){if(this._$galleryItems&&1!==this._$galleryItems.length){if(0===this._galleryIndex){if(!this._config.wrapping)return;this._galleryIndex=this._$galleryItems.length-1}else this._galleryIndex--;return this._config.onNavigate.call(this,"left",this._galleryIndex),this.navigateTo(this._galleryIndex)}}},
{key:"navigateRight",value:function(){if(this._$galleryItems&&1!==this._$galleryItems.length){if(this._galleryIndex===this._$galleryItems.length-1){if(!this._config.wrapping)return;this._galleryIndex=0}else this._galleryIndex++;return this._config.onNavigate.call(this,"right",this._galleryIndex),this.navigateTo(this._galleryIndex)}}},{key:"updateNavigation",value:function(){if(!this._config.wrapping){var b=this._$lightboxContainer.find("div.ekko-lightbox-nav-overlay");0===this._galleryIndex?b.find("a:first-child").addClass("disabled"):
b.find("a:first-child").removeClass("disabled");this._galleryIndex===this._$galleryItems.length-1?b.find("a:last-child").addClass("disabled"):b.find("a:last-child").removeClass("disabled")}}},{key:"close",value:function(){return this._$modal.modal("hide")}},{key:"_navigationalBinder",value:function(b){return b=b||window.event,39===b.keyCode?this.navigateRight():37===b.keyCode?this.navigateLeft():void 0}},{key:"_detectRemoteType",value:function(b,d){return d=d||!1,!d&&this._isImage(b)&&(d="image"),
!d&&this._getYoutubeId(b)&&(d="youtube"),!d&&this._getVimeoId(b)&&(d="vimeo"),!d&&this._getInstagramId(b)&&(d="instagram"),(!d||0>"image youtube vimeo instagram video url".split(" ").indexOf(d))&&(d="url"),d}},{key:"_isImage",value:function(b){return b&&b.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)}},{key:"_containerToUse",value:function(){var b=this,d=this._$lightboxBodyTwo,f=this._$lightboxBodyOne;return this._$lightboxBodyTwo.hasClass("in")&&(d=this._$lightboxBodyOne,
f=this._$lightboxBodyTwo),f.removeClass("in show"),setTimeout(function(){b._$lightboxBodyTwo.hasClass("in")||b._$lightboxBodyTwo.empty();b._$lightboxBodyOne.hasClass("in")||b._$lightboxBodyOne.empty()},500),d.addClass("in show"),d}},{key:"_handle",value:function(){var b=this._containerToUse();this._updateTitleAndFooter();var d=this._$element.attr("data-remote")||this._$element.attr("href"),f=this._detectRemoteType(d,this._$element.attr("data-type")||!1);if(0>"image youtube vimeo instagram video url".split(" ").indexOf(f))return this._error(this._config.strings.type);
switch(f){case "image":this._preloadImage(d,b);this._preloadImageByIndex(this._galleryIndex,3);break;case "youtube":this._showYoutubeVideo(d,b);break;case "vimeo":this._showVimeoVideo(this._getVimeoId(d),b);break;case "instagram":this._showInstagramVideo(this._getInstagramId(d),b);break;case "video":this._showHtml5Video(d,b);break;default:this._loadRemoteContent(d,b)}return this}},{key:"_getYoutubeId",value:function(b){if(!b)return!1;b=b.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&\?]*).*/);
return!(!b||11!==b[2].length)&&b[2]}},{key:"_getVimeoId",value:function(b){return!!(b&&0<b.indexOf("vimeo"))&&b}},{key:"_getInstagramId",value:function(b){return!!(b&&0<b.indexOf("instagram"))&&b}},{key:"_toggleLoading",value:function(b){return b=b||!1,b?(this._$modalDialog.css("display","none"),this._$modal.removeClass("in show"),f(".modal-backdrop").append(this._config.loadingMessage)):(this._$modalDialog.css("display","block"),this._$modal.addClass("in show"),f(".modal-backdrop").find(".ekko-lightbox-loader").remove()),
this}},{key:"_calculateBorders",value:function(){return{top:this._totalCssByAttribute("border-top-width"),right:this._totalCssByAttribute("border-right-width"),bottom:this._totalCssByAttribute("border-bottom-width"),left:this._totalCssByAttribute("border-left-width")}}},{key:"_calculatePadding",value:function(){return{top:this._totalCssByAttribute("padding-top"),right:this._totalCssByAttribute("padding-right"),bottom:this._totalCssByAttribute("padding-bottom"),left:this._totalCssByAttribute("padding-left")}}},
{key:"_totalCssByAttribute",value:function(b){return parseInt(this._$modalDialog.css(b),10)+parseInt(this._$modalContent.css(b),10)+parseInt(this._$modalBody.css(b),10)}},{key:"_updateTitleAndFooter",value:function(){var b=this._$element.data("title")||"",d=this._$element.data("footer")||"";return this._titleIsShown=!1,b||this._config.alwaysShowClose?(this._titleIsShown=!0,this._$modalHeader.css("display","").find(".modal-title").html(b||"&nbsp;")):this._$modalHeader.css("display","none"),this._footerIsShown=
!1,d?(this._footerIsShown=!0,this._$modalFooter.css("display","").html(d)):this._$modalFooter.css("display","none"),this}},{key:"_showYoutubeVideo",value:function(b,d){var f=this._getYoutubeId(b);b=0<b.indexOf("&")?b.substr(b.indexOf("&")):"";var r=this._$element.data("width")||560,h=this._$element.data("height")||r/(560/315);return this._showVideoIframe("//www.youtube.com/embed/"+f+"?badge=0&autoplay=1&html5=1"+b,r,h,d)}},{key:"_showVimeoVideo",value:function(b,d){var f=this._$element.data("width")||
500,r=this._$element.data("height")||f/(560/315);return this._showVideoIframe(b+"?autoplay=1",f,r,d)}},{key:"_showInstagramVideo",value:function(b,d){var f=this._$element.data("width")||612,r=f+80;return b="/"!==b.substr(-1)?b+"/":b,d.html('<iframe width="'+f+'" height="'+r+'" src="'+b+'embed/" frameborder="0" allowfullscreen></iframe>'),this._resize(f,r),this._config.onContentLoaded.call(this),this._$modalArrows&&this._$modalArrows.css("display","none"),this._toggleLoading(!1),this}},{key:"_showVideoIframe",
value:function(b,d,f,r){return f=f||d,r.html('<div class="embed-responsive embed-responsive-16by9"><iframe width="'+d+'" height="'+f+'" src="'+b+'" frameborder="0" allowfullscreen class="embed-responsive-item"></iframe></div>'),this._resize(d,f),this._config.onContentLoaded.call(this),this._$modalArrows&&this._$modalArrows.css("display","none"),this._toggleLoading(!1),this}},{key:"_showHtml5Video",value:function(b,d){var f=this._$element.data("width")||560,r=this._$element.data("height")||f/(560/
315);return d.html('<div class="embed-responsive embed-responsive-16by9"><video width="'+f+'" height="'+r+'" src="'+b+'" preload="auto" autoplay controls class="embed-responsive-item"></video></div>'),this._resize(f,r),this._config.onContentLoaded.call(this),this._$modalArrows&&this._$modalArrows.css("display","none"),this._toggleLoading(!1),this}},{key:"_loadRemoteContent",value:function(b,d){var r=this,k=this._$element.data("width")||560,h=this._$element.data("height")||560,x=this._$element.data("disableExternalCheck")||
!1;return this._toggleLoading(!1),x||this._isExternal(b)?(d.html('<iframe src="'+b+'" frameborder="0" allowfullscreen></iframe>'),this._config.onContentLoaded.call(this)):d.load(b,f.proxy(function(){return r._$element.trigger("loaded.bs.modal")})),this._$modalArrows&&this._$modalArrows.css("display","none"),this._resize(k,h),this}},{key:"_isExternal",value:function(b){b=b.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof b[1]&&0<b[1].length&&b[1].toLowerCase()!==
location.protocol||"string"==typeof b[2]&&0<b[2].length&&b[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host}},{key:"_error",value:function(b){return console.error(b),this._containerToUse().html(b),this._resize(300,300),this}},{key:"_preloadImageByIndex",value:function(b,d){if(this._$galleryItems){var r=f(this._$galleryItems.get(b),!1);if("undefined"!=typeof r){var k=r.attr("data-remote")||r.attr("href");return("image"===r.attr("data-type")||this._isImage(k))&&
this._preloadImage(k,!1),0<d?this._preloadImageByIndex(b+1,d-1):void 0}}}},{key:"_preloadImage",value:function(b,d){var r=this;d=d||!1;var k=new Image;return d&&!function(){var h=setTimeout(function(){d.append(r._config.loadingMessage)},200);k.onload=function(){h&&clearTimeout(h);h=null;var b=f("<img />");return b.attr("src",k.src),b.addClass("img-fluid"),b.css("width","100%"),d.html(b),r._$modalArrows&&r._$modalArrows.css("display",""),r._resize(k.width,k.height),r._toggleLoading(!1),r._config.onContentLoaded.call(r)};
k.onerror=function(){return r._toggleLoading(!1),r._error(r._config.strings.fail+("  "+b))}}(),k.src=b,k}},{key:"_swipeGesure",value:function(){return this._touchendX<this._touchstartX?this.navigateRight():this._touchendX>this._touchstartX?this.navigateLeft():void 0}},{key:"_resize",value:function(b,d){d=d||b;this._wantedWidth=b;this._wantedHeight=d;var r=b/d,k=this._padding.left+this._padding.right+this._border.left+this._border.right,h=575<this._config.doc.body.clientWidth?0:20,x=Math.min(b+k,this._config.doc.body.clientWidth-
(575<this._config.doc.body.clientWidth?20:0),this._config.maxWidth);b+k>x?(d=(x-k-h)/r,b=x):b+=k;x=h=0;this._footerIsShown&&(x=this._$modalFooter.outerHeight(!0)||55);this._titleIsShown&&(h=this._$modalHeader.outerHeight(!0)||67);var p=this._padding.top+this._padding.bottom+this._border.bottom+this._border.top,q=parseFloat(this._$modalDialog.css("margin-top"))+parseFloat(this._$modalDialog.css("margin-bottom"));h=Math.min(d,f(window).height()-p-q-h-x,this._config.maxHeight-p-h-x);d>h&&(b=Math.ceil(h*
r)+k);this._$lightboxContainer.css("height",h);this._$modalDialog.css("flex",1).css("maxWidth",b);if(b=this._$modal.data("bs.modal"))try{b._handleUpdate()}catch(D){b.handleUpdate()}return this}}],[{key:"_jQueryInterface",value:function(d){var r=this;return d=d||{},this.each(function(){var k=f(r);k=f.extend({},b.Default,k.data(),"object"==typeof d&&d);new b(r,k)})}}]),b}();return f.fn.ekkoLightbox=r._jQueryInterface,f.fn.ekkoLightbox.Constructor=r,f.fn.ekkoLightbox.noConflict=function(){return f.fn.ekkoLightbox=
b,r._jQueryInterface},r})(jQuery)}(jQuery);!function(f){f.fn.horizBarChart=function(k){var y=f.extend({selector:".bar",speed:3E3},k);return this.each(function(){var b=0;f(this).find(f(y.selector)).each(function(){var d=f(this).data("number");d>b&&(b=d)});f(this).find(f(y.selector)).each(function(){var d=f(this).data("number");d=Math.round(d/b*100)+"%";f(this).animate({width:d},y.speed);f(this).next(".number").animate({left:d},y.speed)})})}}(jQuery);
!function(f){"function"==typeof define&&define.amd?define(["jquery"],f):"object"==typeof module&&module.exports?module.exports=f(require("jquery")):f(jQuery)}(function(f){f.extend(f.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var d=f.data(this[0],"validator");return d?d:(this.attr("novalidate","novalidate"),d=new f.validator(b,this[0]),f.data(this[0],"validator",d),d.settings.onsubmit&&(this.on("click.validate",
":submit",function(b){d.submitButton=b.currentTarget;f(this).hasClass("cancel")&&(d.cancelSubmit=!0);void 0!==f(this).attr("formnovalidate")&&(d.cancelSubmit=!0)}),this.on("submit.validate",function(b){function r(){var r,k;return d.submitButton&&(d.settings.submitHandler||d.formSubmitted)&&(r=f("<input type='hidden'/>").attr("name",d.submitButton.name).val(f(d.submitButton).val()).appendTo(d.currentForm)),!d.settings.submitHandler||(k=d.settings.submitHandler.call(d,d.currentForm,b),r&&r.remove(),
void 0!==k&&k)}return d.settings.debug&&b.preventDefault(),d.cancelSubmit?(d.cancelSubmit=!1,r()):d.form()?d.pendingRequest?(d.formSubmitted=!0,!1):r():(d.focusInvalid(),!1)})),d)},valid:function(){var b,d,r;return f(this[0]).is("form")?b=this.validate().form():(r=[],b=!0,d=f(this[0].form).validate(),this.each(function(){(b=d.element(this)&&b)||(r=r.concat(d.errorList))}),d.errorList=r),b},rules:function(b,d){var r,k,z,E,y,O,h=this[0];if(null!=h&&(!h.form&&h.hasAttribute("contenteditable")&&(h.form=
this.closest("form")[0],h.name=this.attr("name")),null!=h.form)){if(b)switch(r=f.data(h.form,"validator").settings,k=r.rules,z=f.validator.staticRules(h),b){case "add":f.extend(z,f.validator.normalizeRule(d));delete z.messages;k[h.name]=z;d.messages&&(r.messages[h.name]=f.extend(r.messages[h.name],d.messages));break;case "remove":return d?(O={},f.each(d.split(/\s/),function(b,d){O[d]=z[d];delete z[d]}),O):(delete k[h.name],z)}return E=f.validator.normalizeRules(f.extend({},f.validator.classRules(h),
f.validator.attributeRules(h),f.validator.dataRules(h),f.validator.staticRules(h)),h),E.required&&(y=E.required,delete E.required,E=f.extend({required:y},E)),E.remote&&(y=E.remote,delete E.remote,E=f.extend(E,{remote:y})),E}}});f.extend(f.expr.pseudos||f.expr[":"],{blank:function(b){return!f.trim(""+f(b).val())},filled:function(b){b=f(b).val();return null!==b&&!!f.trim(""+b)},unchecked:function(b){return!f(b).prop("checked")}});f.validator=function(b,d){this.settings=f.extend(!0,{},f.validator.defaults,
b);this.currentForm=d;this.init()};f.validator.format=function(b,d){return 1===arguments.length?function(){var d=f.makeArray(arguments);return d.unshift(b),f.validator.format.apply(this,d)}:void 0===d?b:(2<arguments.length&&d.constructor!==Array&&(d=f.makeArray(arguments).slice(1)),d.constructor!==Array&&(d=[d]),f.each(d,function(d,f){b=b.replace(new RegExp("\\{"+d+"\\}","g"),function(){return f})}),b)};f.extend(f.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",
validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:f([]),errorLabelContainer:f([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(b){this.lastActive=b;this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(b)))},onfocusout:function(b){this.checkable(b)||!(b.name in this.submitted)&&this.optional(b)||this.element(b)},onkeyup:function(b,
d){var r=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===d.which&&""===this.elementValue(b)||-1!==f.inArray(d.keyCode,r)||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(b){b.name in this.submitted?this.element(b):b.parentNode.name in this.submitted&&this.element(b.parentNode)},highlight:function(b,d,r){"radio"===b.type?this.findByName(b.name).addClass(d).removeClass(r):f(b).addClass(d).removeClass(r)},unhighlight:function(b,d,r){"radio"===b.type?this.findByName(b.name).removeClass(d).addClass(r):
f(b).removeClass(d).addClass(r)}},setDefaults:function(b){f.extend(f.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:f.validator.format("Please enter no more than {0} characters."),
minlength:f.validator.format("Please enter at least {0} characters."),rangelength:f.validator.format("Please enter a value between {0} and {1} characters long."),range:f.validator.format("Please enter a value between {0} and {1}."),max:f.validator.format("Please enter a value less than or equal to {0}."),min:f.validator.format("Please enter a value greater than or equal to {0}."),step:f.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){!this.form&&
this.hasAttribute("contenteditable")&&(this.form=f(this).closest("form")[0],this.name=f(this).attr("name"));var d=f.data(this.form,"validator"),r="on"+b.type.replace(/^validate/,""),k=d.settings;k[r]&&!f(this).is(k.ignore)&&k[r].call(d,this,b)}this.labelContainer=f(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||f(this.currentForm);this.containers=f(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache=
{};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var d=this.groups={};f.each(this.settings.groups,function(b,r){"string"==typeof r&&(r=r.split(/\s/));f.each(r,function(f,r){d[r]=b})});var r=this.settings.rules;f.each(r,function(b,d){r[b]=f.validator.normalizeRule(d)});f(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",
b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b);this.settings.invalidHandler&&f(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),f.extend(this.submitted,this.errorMap),this.invalid=f.extend({},this.errorMap),this.valid()||f(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var b=0,d=this.currentElements=this.elements();d[b];b++)this.check(d[b]);
return this.valid()},element:function(b){var d,r,k=this.clean(b),z=this.validationTargetFor(k),E=this,y=!0;return void 0===z?delete this.invalid[k.name]:(this.prepareElement(z),this.currentElements=f(z),r=this.groups[z.name],r&&f.each(this.groups,function(b,d){d===r&&b!==z.name&&(k=E.validationTargetFor(E.clean(E.findByName(b))),k&&k.name in E.invalid&&(E.currentElements.push(k),y=E.check(k)&&y))}),d=!1!==this.check(z),y=y&&d,d?this.invalid[z.name]=!1:this.invalid[z.name]=!0,this.numberOfInvalids()||
(this.toHide=this.toHide.add(this.containers)),this.showErrors(),f(b).attr("aria-invalid",!d)),y},showErrors:function(b){if(b){var d=this;f.extend(this.errorMap,b);this.errorList=f.map(this.errorMap,function(b,f){return{message:b,element:d.findByName(f)[0]}});this.successList=f.grep(this.successList,function(d){return!(d.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){f.fn.resetForm&&f(this.currentForm).resetForm();
this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var b=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(b)},resetElements:function(b){var d;if(this.settings.unhighlight)for(d=0;b[d];d++)this.settings.unhighlight.call(this,b[d],this.settings.errorClass,""),this.findByName(b[d].name).removeClass(this.settings.validClass);else b.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},
objectLength:function(b){var d,f=0;for(d in b)void 0!==b[d]&&null!==b[d]&&!1!==b[d]&&f++;return f},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(b){b.not(this.containers).text("");this.addWrapper(b).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{f(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},
findLastActive:function(){var b=this.lastActive;return b&&1===f.grep(this.errorList,function(d){return d.element.name===b.name}).length&&b},elements:function(){var b=this,d={};return f(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var r=this.name||f(this).attr("name");return!r&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&
(this.form=f(this).closest("form")[0],this.name=r),!(r in d||!b.objectLength(f(this).rules()))&&(d[r]=!0,!0)})},clean:function(b){return f(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return f(this.settings.errorElement+"."+b,this.errorContext)},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=f([]);this.toHide=f([])},reset:function(){this.resetInternals();this.currentElements=f([])},prepareForm:function(){this.reset();this.toHide=
this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},elementValue:function(b){var d,r,k=f(b),z=b.type;return"radio"===z||"checkbox"===z?this.findByName(b.name).filter(":checked").val():"number"===z&&"undefined"!=typeof b.validity?b.validity.badInput?"NaN":k.val():(d=b.hasAttribute("contenteditable")?k.text():k.val(),"file"===z?"C:\\fakepath\\"===d.substr(0,12)?d.substr(12):(r=d.lastIndexOf("/"),0<=r?d.substr(r+1):(r=d.lastIndexOf("\\"),0<=r?d.substr(r+
1):d)):"string"==typeof d?d.replace(/\r/g,""):d)},check:function(b){b=this.validationTargetFor(this.clean(b));var d,r,k,z=f(b).rules(),E=f.map(z,function(b,d){return d}).length,y=!1,O=this.elementValue(b);if("function"==typeof z.normalizer?k=z.normalizer:"function"==typeof this.settings.normalizer&&(k=this.settings.normalizer),k){if(O=k.call(b,O),"string"!=typeof O)throw new TypeError("The normalizer should return a string value.");delete z.normalizer}for(r in z){k={method:r,parameters:z[r]};try{if(d=
f.validator.methods[r].call(this,O,b,k.parameters),"dependency-mismatch"===d&&1===E)y=!0;else{if(y=!1,"pending"===d)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!d)return this.formatAndAdd(b,k),!1}}catch(h){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+k.method+"' method.",h),h instanceof TypeError&&(h.message+=".  Exception occurred when checking element "+b.id+", check the '"+k.method+"' method."),h;}}if(!y)return this.objectLength(z)&&
this.successList.push(b),!0},customDataMessage:function(b,d){return f(b).data("msg"+d.charAt(0).toUpperCase()+d.substring(1).toLowerCase())||f(b).data("msg")},customMessage:function(b,d){return(b=this.settings.messages[b])&&(b.constructor===String?b:b[d])},findDefined:function(){for(var b=0;b<arguments.length;b++)if(void 0!==arguments[b])return arguments[b]},defaultMessage:function(b,d){"string"==typeof d&&(d={method:d});var r=this.findDefined(this.customMessage(b.name,d.method),this.customDataMessage(b,
d.method),!this.settings.ignoreTitle&&b.title||void 0,f.validator.messages[d.method],"<strong>Warning: No message defined for "+b.name+"</strong>"),k=/\$?\{(\d+)\}/g;return"function"==typeof r?r=r.call(this,d.parameters,b):k.test(r)&&(r=f.validator.format(r.replace(k,"{$1}"),d.parameters)),r},formatAndAdd:function(b,d){var f=this.defaultMessage(b,d);this.errorList.push({message:f,element:b,method:d.method});this.errorMap[b.name]=f;this.submitted[b.name]=f},addWrapper:function(b){return this.settings.wrapper&&
(b=b.add(b.parent(this.settings.wrapper))),b},defaultShowErrors:function(){var b;for(b=0;this.errorList[b];b++){var d=this.errorList[b];this.settings.highlight&&this.settings.highlight.call(this,d.element,this.settings.errorClass,this.settings.validClass);this.showLabel(d.element,d.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(b=0;this.successList[b];b++)this.showLabel(this.successList[b]);if(this.settings.unhighlight)for(b=0,d=this.validElements();d[b];b++)this.settings.unhighlight.call(this,
d[b],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return f(this.errorList).map(function(){return this.element})},showLabel:function(b,d){var r,k,z,E,y=this.errorsFor(b),O=this.idOrName(b),h=f(b).attr("aria-describedby");y.length?(y.removeClass(this.settings.validClass).addClass(this.settings.errorClass),
y.html(d)):(y=f("<"+this.settings.errorElement+">").attr("id",O+"-error").addClass(this.settings.errorClass).html(d||""),r=y,this.settings.wrapper&&(r=y.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement.call(this,r,f(b)):r.insertAfter(b),y.is("label")?y.attr("for",O):0===y.parents("label[for='"+this.escapeCssMeta(O)+"']").length&&(z=y.attr("id"),h?h.match(new RegExp("\\b"+
this.escapeCssMeta(z)+"\\b"))||(h+=" "+z):h=z,f(b).attr("aria-describedby",h),k=this.groups[b.name],k&&(E=this,f.each(E.groups,function(b,d){d===k&&f("[name='"+E.escapeCssMeta(b)+"']",E.currentForm).attr("aria-describedby",y.attr("id"))}))));!d&&this.settings.success&&(y.text(""),"string"==typeof this.settings.success?y.addClass(this.settings.success):this.settings.success(y,b));this.toShow=this.toShow.add(y)},errorsFor:function(b){var d=this.escapeCssMeta(this.idOrName(b));b=f(b).attr("aria-describedby");
d="label[for='"+d+"'], label[for='"+d+"'] *";return b&&(d=d+", #"+this.escapeCssMeta(b).replace(/\s+/g,", #")),this.errors().filter(d)},escapeCssMeta:function(b){return b.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),f(b).not(this.settings.ignore)[0]},checkable:function(b){return/radio|checkbox/i.test(b.type)},
findByName:function(b){return f(this.currentForm).find("[name='"+this.escapeCssMeta(b)+"']")},getLength:function(b,d){switch(d.nodeName.toLowerCase()){case "select":return f("option:selected",d).length;case "input":if(this.checkable(d))return this.findByName(d.name).filter(":checked").length}return b.length},depend:function(b,d){return!this.dependTypes[typeof b]||this.dependTypes[typeof b](b,d)},dependTypes:{"boolean":function(b){return b},string:function(b,d){return!!f(b,d.form).length},"function":function(b,
d){return b(d)}},optional:function(b){var d=this.elementValue(b);return!f.validator.methods.required.call(this,d,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,f(b).addClass(this.settings.pendingClass),this.pending[b.name]=!0)},stopRequest:function(b,d){this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=0);delete this.pending[b.name];f(b).removeClass(this.settings.pendingClass);d&&0===this.pendingRequest&&this.formSubmitted&&this.form()?
(f(this.currentForm).submit(),this.submitButton&&f("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!d&&0===this.pendingRequest&&this.formSubmitted&&(f(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b,d){return d="string"==typeof d&&d||"remote",f.data(b,"previousValue")||f.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,{method:d})})},destroy:function(){this.resetForm();
f(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,d){b.constructor===String?this.classRuleSettings[b]=d:f.extend(this.classRuleSettings,b)},classRules:function(b){var d={};b=f(b).attr("class");return b&&
f.each(b.split(" "),function(){this in f.validator.classRuleSettings&&f.extend(d,f.validator.classRuleSettings[this])}),d},normalizeAttributeRule:function(b,d,f,k){/min|max|step/.test(f)&&(null===d||/number|range|text/.test(d))&&(k=Number(k),isNaN(k)&&(k=void 0));k||0===k?b[f]=k:d===f&&"range"!==d&&(b[f]=!0)},attributeRules:function(b){var d,k,y={},z=f(b),E=b.getAttribute("type");for(d in f.validator.methods)"required"===d?(k=b.getAttribute(d),""===k&&(k=!0),k=!!k):k=z.attr(d),this.normalizeAttributeRule(y,
E,d,k);return y.maxlength&&/-1|2147483647|524288/.test(y.maxlength)&&delete y.maxlength,y},dataRules:function(b){var d,k={},y=f(b),z=b.getAttribute("type");for(d in f.validator.methods)b=y.data("rule"+d.charAt(0).toUpperCase()+d.substring(1).toLowerCase()),this.normalizeAttributeRule(k,z,d,b);return k},staticRules:function(b){var d={},k=f.data(b.form,"validator");return k.settings.rules&&(d=f.validator.normalizeRule(k.settings.rules[b.name])||{}),d},normalizeRules:function(b,d){return f.each(b,function(k,
y){if(!1===y)return void delete b[k];if(y.param||y.depends){var r=!0;switch(typeof y.depends){case "string":r=!!f(y.depends,d.form).length;break;case "function":r=y.depends.call(d,d)}r?b[k]=void 0===y.param||y.param:(f.data(d.form,"validator").resetElements(f(d)),delete b[k])}}),f.each(b,function(k,y){b[k]=f.isFunction(y)&&"normalizer"!==k?y(d):y}),f.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),f.each(["rangelength","range"],function(){var d;b[this]&&(f.isArray(b[this])?
b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(d=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(d[0]),Number(d[1])]))}),f.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var d={};f.each(b.split(/\s/),function(){d[this]=!0});b=d}return b},
addMethod:function(b,d,k){f.validator.methods[b]=d;f.validator.messages[b]=void 0!==k?k:f.validator.messages[b];3>d.length&&f.validator.addClassRules(b,f.validator.normalizeRule(b))},methods:{required:function(b,d,k){return this.depend(k,d)?"select"===d.nodeName.toLowerCase()?(b=f(d).val())&&0<b.length:this.checkable(d)?0<this.getLength(b,d):0<b.length:"dependency-mismatch"},email:function(b,d){return this.optional(d)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(b)},
url:function(b,d){return this.optional(d)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(b)},
date:function(b,d){return this.optional(d)||!/Invalid|NaN/.test((new Date(b)).toString())},dateISO:function(b,d){return this.optional(d)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(b)},number:function(b,d){return this.optional(d)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(b)},digits:function(b,d){return this.optional(d)||/^\d+$/.test(b)},minlength:function(b,d,k){b=f.isArray(b)?b.length:this.getLength(b,d);return this.optional(d)||b>=k},maxlength:function(b,d,k){b=
f.isArray(b)?b.length:this.getLength(b,d);return this.optional(d)||b<=k},rangelength:function(b,d,k){b=f.isArray(b)?b.length:this.getLength(b,d);return this.optional(d)||b>=k[0]&&b<=k[1]},min:function(b,d,f){return this.optional(d)||b>=f},max:function(b,d,f){return this.optional(d)||b<=f},range:function(b,d,f){return this.optional(d)||b>=f[0]&&b<=f[1]},step:function(b,d,k){var r,z=f(d).attr("type"),y="Step attribute on input type "+z+" is not supported.",Q=["text","number","range"],O=new RegExp("\\b"+
z+"\\b"),h=function(b){return(b=(""+b).match(/(?:\.(\d+))?$/))&&b[1]?b[1].length:0},x=!0;if(z&&!O.test(Q.join()))throw Error(y);return r=h(k),(h(b)>r||0!==Math.round(b*Math.pow(10,r))%Math.round(k*Math.pow(10,r)))&&(x=!1),this.optional(d)||x},equalTo:function(b,d,k){k=f(k);return this.settings.onfocusout&&k.not(".validate-equalTo-blur").length&&k.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){f(d).valid()}),b===k.val()},remote:function(b,d,k,y){if(this.optional(d))return"dependency-mismatch";
y="string"==typeof y&&y||"remote";var r,E,J,O=this.previousValue(d,y);return this.settings.messages[d.name]||(this.settings.messages[d.name]={}),O.originalMessage=O.originalMessage||this.settings.messages[d.name][y],this.settings.messages[d.name][y]=O.message,k="string"==typeof k&&{url:k}||k,J=f.param(f.extend({data:b},k.data)),O.old===J?O.valid:(O.old=J,r=this,this.startRequest(d),E={},E[d.name]=b,f.ajax(f.extend(!0,{mode:"abort",port:"validate"+d.name,dataType:"json",data:E,context:r.currentForm,
success:function(f){var h,k,q,D=!0===f||"true"===f;r.settings.messages[d.name][y]=O.originalMessage;D?(q=r.formSubmitted,r.resetInternals(),r.toHide=r.errorsFor(d),r.formSubmitted=q,r.successList.push(d),r.invalid[d.name]=!1,r.showErrors()):(h={},k=f||r.defaultMessage(d,{method:y,parameters:b}),h[d.name]=O.message=k,r.invalid[d.name]=!0,r.showErrors(h));O.valid=D;r.stopRequest(d,D)}},k)),"pending")}}});var k,y={};return f.ajaxPrefilter?f.ajaxPrefilter(function(b,d,f){d=b.port;"abort"===b.mode&&(y[d]&&
y[d].abort(),y[d]=f)}):(k=f.ajax,f.ajax=function(b){var d=("port"in b?b:f.ajaxSettings).port;return"abort"===("mode"in b?b:f.ajaxSettings).mode?(y[d]&&y[d].abort(),y[d]=k.apply(this,arguments),y[d]):k.apply(this,arguments)}),f});
!function(f){"function"==typeof define&&define.amd?define([],f):"object"==typeof exports?module.exports=f():window.noUiSlider=f()}(function(){function f(b){b.preventDefault()}function k(b){return"number"==typeof b&&!isNaN(b)&&isFinite(b)}function y(b,d,f){0<f&&(r(b,d),setTimeout(function(){J(b,d)},f))}function b(b){return Array.isArray(b)?b:[b]}function d(b){b=String(b).split(".");return 1<b.length?b[1].length:0}function r(b,d){b.classList?b.classList.add(d):b.className+=" "+d}function J(b,d){b.classList?
b.classList.remove(d):b.className=b.className.replace(new RegExp("(^|\\b)"+d.split(" ").join("|")+"(\\b|$)","gi")," ")}function z(b){var d=void 0!==window.pageXOffset,f="CSS1Compat"===(b.compatMode||"");return{x:d?window.pageXOffset:f?b.documentElement.scrollLeft:b.body.scrollLeft,y:d?window.pageYOffset:f?b.documentElement.scrollTop:b.body.scrollTop}}function E(b,d){return 100*d/(b[1]-b[0])}function Q(b,d){for(var f=1;b>=d[f];)f+=1;return f}function O(b,d,f){if("number"==typeof d&&(d=[d]),!Array.isArray(d))throw Error("noUiSlider (12.1.0): 'range' contains invalid value.");
if(!k(b="min"===b?0:"max"===b?100:parseFloat(b))||!k(d[0]))throw Error("noUiSlider (12.1.0): 'range' value isn't numeric.");f.xPct.push(b);f.xVal.push(d[0]);b?f.xSteps.push(!isNaN(d[1])&&d[1]):isNaN(d[1])||(f.xSteps[0]=d[1]);f.xHighestCompleteStep.push(0)}function h(b,d,f){if(!d)return!0;f.xSteps[b]=E([f.xVal[b],f.xVal[b+1]],d)/(100/(f.xPct[b+1]-f.xPct[b]));d=Math.ceil(Number(((f.xVal[b+1]-f.xVal[b])/f.xNumSteps[b]).toFixed(3))-1);f.xHighestCompleteStep[b]=f.xVal[b]+f.xNumSteps[b]*d}function x(b,
d,f){var k;this.xPct=[];this.xVal=[];this.xSteps=[f||!1];this.xNumSteps=[!1];this.xHighestCompleteStep=[];this.snap=d;d=[];for(k in b)b.hasOwnProperty(k)&&d.push([b[k],k]);d.length&&"object"==typeof d[0][0]?d.sort(function(b,d){return b[0][0]-d[0][0]}):d.sort(function(b,d){return b[0]-d[0]});for(k=0;k<d.length;k++)O(d[k][1],d[k][0],this);this.xNumSteps=this.xSteps.slice(0);for(k=0;k<this.xNumSteps.length;k++)h(k,this.xNumSteps[k],this)}function p(b){if("object"==typeof(d=b)&&"function"==typeof d.to&&
"function"==typeof d.from)return!0;var d;throw Error("noUiSlider (12.1.0): 'format' requires 'to' and 'from' methods.");}function q(b,d){if(!k(d))throw Error("noUiSlider (12.1.0): 'step' is not numeric.");b.singleStep=d}function D(b,d){if("object"!=typeof d||Array.isArray(d))throw Error("noUiSlider (12.1.0): 'range' is not an object.");if(void 0===d.min||void 0===d.max)throw Error("noUiSlider (12.1.0): Missing 'min' or 'max' in 'range'.");if(d.min===d.max)throw Error("noUiSlider (12.1.0): 'range' 'min' and 'max' cannot be equal.");
b.spectrum=new x(d,b.snap,b.singleStep)}function A(d,f){if(f=b(f),!Array.isArray(f)||!f.length)throw Error("noUiSlider (12.1.0): 'start' option is incorrect.");d.handles=f.length;d.start=f}function fa(b,d){if("boolean"!=typeof(b.snap=d))throw Error("noUiSlider (12.1.0): 'snap' option must be a boolean.");}function R(b,d){if("boolean"!=typeof(b.animate=d))throw Error("noUiSlider (12.1.0): 'animate' option must be a boolean.");}function pa(b,d){if("number"!=typeof(b.animationDuration=d))throw Error("noUiSlider (12.1.0): 'animationDuration' option must be a number.");
}function M(b,d){var f,h=[!1];if("lower"===d?d=[!0,!1]:"upper"===d&&(d=[!1,!0]),!0===d||!1===d){for(f=1;f<b.handles;f++)h.push(d);h.push(!1)}else{if(!Array.isArray(d)||!d.length||d.length!==b.handles+1)throw Error("noUiSlider (12.1.0): 'connect' option doesn't match handle count.");h=d}b.connect=h}function ea(b,d){switch(d){case "horizontal":b.ort=0;break;case "vertical":b.ort=1;break;default:throw Error("noUiSlider (12.1.0): 'orientation' option is invalid.");}}function da(b,d){if(!k(d))throw Error("noUiSlider (12.1.0): 'margin' option must be numeric.");
if(0!==d&&(b.margin=b.spectrum.getMargin(d),!b.margin))throw Error("noUiSlider (12.1.0): 'margin' option is only supported on linear sliders.");}function qa(b,d){if(!k(d))throw Error("noUiSlider (12.1.0): 'limit' option must be numeric.");if(b.limit=b.spectrum.getMargin(d),!b.limit||2>b.handles)throw Error("noUiSlider (12.1.0): 'limit' option is only supported on linear sliders with 2 or more handles.");}function ia(b,d){if(!k(d)&&!Array.isArray(d))throw Error("noUiSlider (12.1.0): 'padding' option must be numeric or array of exactly 2 numbers.");
if(Array.isArray(d)&&2!==d.length&&!k(d[0])&&!k(d[1]))throw Error("noUiSlider (12.1.0): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==d){if(Array.isArray(d)||(d=[d,d]),!(b.padding=[b.spectrum.getMargin(d[0]),b.spectrum.getMargin(d[1])])===b.padding[0]||!1===b.padding[1])throw Error("noUiSlider (12.1.0): 'padding' option is only supported on linear sliders.");if(0>b.padding[0]||0>b.padding[1])throw Error("noUiSlider (12.1.0): 'padding' option must be a positive number(s).");
if(100<=b.padding[0]+b.padding[1])throw Error("noUiSlider (12.1.0): 'padding' option must not exceed 100% of the range.");}}function Y(b,d){switch(d){case "ltr":b.dir=0;break;case "rtl":b.dir=1;break;default:throw Error("noUiSlider (12.1.0): 'direction' option was not recognized.");}}function P(b,d){if("string"!=typeof d)throw Error("noUiSlider (12.1.0): 'behaviour' must be a string containing options.");var f=0<=d.indexOf("tap"),h=0<=d.indexOf("drag"),k=0<=d.indexOf("fixed"),p=0<=d.indexOf("snap"),
q=0<=d.indexOf("hover");d=0<=d.indexOf("unconstrained");if(k){if(2!==b.handles)throw Error("noUiSlider (12.1.0): 'fixed' behaviour must be used with 2 handles");da(b,b.start[1]-b.start[0])}if(d&&(b.margin||b.limit))throw Error("noUiSlider (12.1.0): 'unconstrained' behaviour cannot be used with margin or limit");b.events={tap:f||p,drag:h,fixed:k,snap:p,hover:q,unconstrained:d}}function va(d,f){if(!1!==f)if(!0===f)for(d.tooltips=[],f=0;f<d.handles;f++)d.tooltips.push(!0);else{if(d.tooltips=b(f),d.tooltips.length!==
d.handles)throw Error("noUiSlider (12.1.0): must pass a formatter for all handles.");d.tooltips.forEach(function(b){if("boolean"!=typeof b&&("object"!=typeof b||"function"!=typeof b.to))throw Error("noUiSlider (12.1.0): 'tooltips' must be passed a formatter or 'false'.");})}}function Da(b,d){p(b.ariaFormat=d)}function Aa(b,d){p(b.format=d)}function Xa(b,d){if("boolean"!=typeof(b.keyboardSupport=d))throw Error("noUiSlider (12.1.0): 'keyboardSupport' option must be a boolean.");}function jb(b,d){b.documentElement=
d}function Ya(b,d){if("string"!=typeof d&&!1!==d)throw Error("noUiSlider (12.1.0): 'cssPrefix' must be a string or `false`.");b.cssPrefix=d}function ma(b,d){if("object"!=typeof d)throw Error("noUiSlider (12.1.0): 'cssClasses' must be an object.");if("string"==typeof b.cssPrefix)for(var f in b.cssClasses={},d)d.hasOwnProperty(f)&&(b.cssClasses[f]=b.cssPrefix+d[f]);else b.cssClasses=d}function Ta(b){var d={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:Ea,format:Ea},f={step:{r:!1,
t:q},start:{r:!0,t:A},connect:{r:!0,t:M},direction:{r:!0,t:Y},snap:{r:!1,t:fa},animate:{r:!1,t:R},animationDuration:{r:!1,t:pa},range:{r:!0,t:D},orientation:{r:!1,t:ea},margin:{r:!1,t:da},limit:{r:!1,t:qa},padding:{r:!1,t:ia},behaviour:{r:!0,t:P},ariaFormat:{r:!1,t:Da},format:{r:!1,t:Aa},tooltips:{r:!1,t:va},keyboardSupport:{r:!0,t:Xa},documentElement:{r:!1,t:jb},cssPrefix:{r:!0,t:Ya},cssClasses:{r:!0,t:ma}},h={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,
cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",
markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};b.format&&!b.ariaFormat&&(b.ariaFormat=b.format);Object.keys(f).forEach(function(k){if(null==b[k]&&void 0===h[k]){if(f[k].r)throw Error("noUiSlider (12.1.0): '"+k+"' is required.");return!0}f[k].t(d,null!=b[k]?b[k]:h[k])});d.pips=b.pips;var k=document.createElement("div"),
p=void 0!==k.style.msTransform;d.transformRule=void 0!==k.style.transform?"transform":p?"msTransform":"webkitTransform";return d.style=[["left","top"],["right","bottom"]][d.dir][d.ort],d}function Ba(d,h,k){function p(b,d){var f=Ea.createElement("div");return d&&r(f,d),b.appendChild(f),f}function q(b,d){return!!h.tooltips[d]&&p(b.firstChild,h.cssClasses.tooltip)}function A(b,d,f){function l(b,d){var f=d===h.cssClasses.value;return d+" "+(f?w:A)[h.ort]+" "+(f?k:q)[b]}var m=Ea.createElement("div"),k=
[];k[0]=h.cssClasses.valueNormal;k[1]=h.cssClasses.valueLarge;k[2]=h.cssClasses.valueSub;var q=[];q[0]=h.cssClasses.markerNormal;q[1]=h.cssClasses.markerLarge;q[2]=h.cssClasses.markerSub;var w=[h.cssClasses.valueHorizontal,h.cssClasses.valueVertical],A=[h.cssClasses.markerHorizontal,h.cssClasses.markerVertical];return r(m,h.cssClasses.pips),r(m,0===h.ort?h.cssClasses.pipsHorizontal:h.cssClasses.pipsVertical),Object.keys(b).forEach(function(k){var q=b[k][0],w=b[k][1];if(-1!==(w=d?d(q,w):w)){var A=
p(m,!1);A.className=l(w,h.cssClasses.marker);A.style[h.style]=k+"%";0<w&&((A=p(m,!1)).className=l(w,h.cssClasses.value),A.setAttribute("data-value",q),A.style[h.style]=k+"%",A.innerHTML=f.to(q))}!0}),m}function D(){var b;U&&((b=U).parentElement.removeChild(b),U=null)}function x(b){D();var d,f,l,h,m,k,p,q=b.mode,w=b.density||1,r=b.filter||!1,x=(d=function(b,d,f){if("range"===b||"steps"===b)return ta.xVal;if("count"===b){if(2>d)throw Error("noUiSlider (12.1.0): 'values' (>= 2) required for mode 'count'.");
b=d-1;var l=100/b;for(d=[];b--;)d[b]=b*l;d.push(100);b="positions"}return"positions"===b?d.map(function(b){return ta.fromStepping(f?ta.getStep(b):b)}):"values"===b?f?d.map(function(b){return ta.fromStepping(ta.getStep(ta.toStepping(b)))}):d:void 0}(q,b.values||!1,b.stepped||!1),f={},l=ta.xVal[0],h=ta.xVal[ta.xVal.length-1],k=m=!1,p=0,(d=d.slice().sort(function(b,d){return b-d}).filter(function(b){return!this[b]&&(this[b]=!0)},{}))[0]!==l&&(d.unshift(l),m=!0),d[d.length-1]!==h&&(d.push(h),k=!0),d.forEach(function(b,
l){var h,A,r,x,D=d[l+1],T="steps"===q;if(T&&(h=ta.xNumSteps[l]),h||(h=D-b),!1!==b&&void 0!==D)for(h=Math.max(h,1e-7);b<=D;b=(b+h).toFixed(7)/1){var P=(A=(r=ta.toStepping(b))-p)/w;var F=A/(P=Math.round(P));for(A=1;A<=P;A+=1)f[(x=p+A*F).toFixed(5)]=[ta.fromStepping(x),0];A=-1<d.indexOf(b)?1:T?2:0;!l&&m&&(A=0);b===D&&k||(f[r.toFixed(5)]=[b,A]);p=r}}),f);return U=ma.appendChild(A(x,r,b.format||{to:Math.round}))}function P(){var b=pa.getBoundingClientRect(),d="offset"+["Width","Height"][h.ort];return 0===
h.ort?b.width||pa[d]:b.height||pa[d]}function T(b,d,f,l){var m=function(m){return!!(m=function(b,d,f){var l=0===b.type.indexOf("touch"),h=0===b.type.indexOf("mouse"),m=0===b.type.indexOf("pointer");0===b.type.indexOf("MSPointer")&&(m=!0);if(l){var k=function(b){return b.target===f||f.contains(b.target)};if("touchstart"===b.type){var p=Array.prototype.filter.call(b.touches,k);if(1<p.length)return!1;k=p[0].pageX;p=p[0].pageY}else{p=Array.prototype.find.call(b.changedTouches,k);if(!p)return!1;k=p.pageX;
p=p.pageY}}d=d||z(Ea);(h||m)&&(k=b.clientX+d.x,p=b.clientY+d.y);return b.pageOffset=d,b.points=[k,p],b.cursor=h||m,b}(m,l.pageOffset,l.target||d))&&!(ma.hasAttribute("disabled")&&!l.doNotReject)&&(k=ma,p=h.cssClasses.tap,!((k.classList?k.classList.contains(p):(new RegExp("\\b"+p+"\\b")).test(k.className))&&!l.doNotReject)&&!(b===xa.start&&void 0!==m.buttons&&1<m.buttons)&&(!l.hover||!m.buttons)&&(Ya||m.preventDefault(),m.calcPoint=m.points[h.ort],void f(m,l)));var k,p},k=[];return b.split(" ").forEach(function(b){d.addEventListener(b,
m,!!Ya&&{passive:!0});k.push([b,m])}),k}function Z(b){var d,f,l,m,k,p;b=100*(b-(d=pa,f=h.ort,l=d.getBoundingClientRect(),m=d.ownerDocument,k=m.documentElement,p=z(m),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(p.x=0),f?l.top+p.y-k.clientTop:l.left+p.x-k.clientLeft))/P();return b=Math.max(Math.min(b,100),0),h.dir?100-b:b}function F(b,d){"mouseout"===b.type&&"HTML"===b.target.nodeName&&null===b.relatedTarget&&fa(b,d)}function M(b,d){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===b.buttons&&
0!==d.buttonsProperty)return fa(b,d);b=(h.dir?-1:1)*(b.calcPoint-d.startCalcPoint);ea(0<b,100*b/d.baseSize,d.locations,d.handleNumbers)}function fa(b,d){d.handle&&(J(d.handle,h.cssClasses.active),--Ba);d.listeners.forEach(function(b){Uc.removeEventListener(b[0],b[1])});0===Ba&&(J(ma,h.cssClasses.drag),va(),b.cursor&&(ub.style.cursor="",ub.removeEventListener("selectstart",f)));d.handleNumbers.forEach(function(b){l("change",b);l("set",b);l("end",b)})}function R(b,d){if(1===d.handleNumbers.length){var m=
V[d.handleNumbers[0]];if(m.hasAttribute("disabled"))return!1;var k=m.children[0];Ba+=1;r(k,h.cssClasses.active)}b.stopPropagation();m=[];var p=T(xa.move,Uc,M,{target:b.target,handle:k,listeners:m,startCalcPoint:b.calcPoint,baseSize:P(),pageOffset:b.pageOffset,handleNumbers:d.handleNumbers,buttonsProperty:b.buttons,locations:wa.slice()}),q=T(xa.end,Uc,fa,{target:b.target,handle:k,listeners:m,doNotReject:!0,handleNumbers:d.handleNumbers});k=T("mouseout",Uc,F,{target:b.target,handle:k,listeners:m,doNotReject:!0,
handleNumbers:d.handleNumbers});m.push.apply(m,p.concat(q,k));b.cursor&&(ub.style.cursor=getComputedStyle(b.target).cursor,1<V.length&&r(ma,h.cssClasses.drag),ub.addEventListener("selectstart",f,!1));d.handleNumbers.forEach(function(b){l("start",b)})}function E(b){b.stopPropagation();var d,f,m=Z(b.calcPoint),k=(f=!(d=100),V.forEach(function(b,l){b.hasAttribute("disabled")||(b=Math.abs(wa[l]-m),(b<d||100===b&&100===d)&&(f=l,d=b))}),f);if(!1===k)return!1;h.events.snap||y(ma,h.cssClasses.tap,h.animationDuration);
da(k,m,!0,!0);va();l("slide",k,!0);l("update",k,!0);l("change",k,!0);l("set",k,!0);h.events.snap&&R(b,{handleNumbers:[k]})}function O(b){b=Z(b.calcPoint);b=ta.getStep(b);var d=ta.fromStepping(b);Object.keys(Pa).forEach(function(b){"hover"===b.split(".")[0]&&Pa[b].forEach(function(b){b.call(Q,d)})})}function ia(b,d){Pa[b]=Pa[b]||[];Pa[b].push(d);"update"===b.split(".")[0]&&V.forEach(function(b,d){l("update",d)})}function l(b,d,f){Object.keys(Pa).forEach(function(l){var m=l.split(".")[0];b===m&&Pa[l].forEach(function(b){b.call(Q,
Qa.map(h.format.to),d,Qa.slice(),f||!1,wa.slice())})})}function m(b,d,f,l,m,k){return 1<V.length&&!h.events.unconstrained&&(l&&0<d&&(f=Math.max(f,b[d-1]+h.margin)),m&&d<V.length-1&&(f=Math.min(f,b[d+1]-h.margin))),1<V.length&&h.limit&&(l&&0<d&&(f=Math.min(f,b[d-1]+h.limit)),m&&d<V.length-1&&(f=Math.max(f,b[d+1]-h.limit))),h.padding&&(0===d&&(f=Math.max(f,h.padding[0])),d===V.length-1&&(f=Math.min(f,100-h.padding[1]))),!((f=Math.max(Math.min(f=ta.getStep(f),100),0))===b[d]&&!k)&&f}function w(b,d){var f=
h.ort;return(f?d:b)+", "+(f?b:d)}function ea(b,d,f,h){var k=f.slice(),p=[!b,b],q=[b,!b];h=h.slice();b&&h.reverse();1<h.length?h.forEach(function(b,f){f=m(k,b,k[b]+d,p[f],q[f],!1);!1===f?d=0:(d=f-k[b],k[b]=f)}):p=q=[!0];var w=!1;h.forEach(function(b,l){w=da(b,f[b]+d,p[l],q[l])||w});w&&h.forEach(function(b){l("update",b);l("slide",b)})}function va(){Ia.forEach(function(b){V[b].style.zIndex=3+(V.length+(50<wa[b]?-1:1)*b)})}function da(b,d,f,l){if(f=!1!==(d=m(wa,b,d,f,l,!1)))wa[b]=d,Qa[b]=ta.fromStepping(d),
d="translate("+w((h.dir?100-d:d)-Vc+"%","0")+")",V[b].style[h.transformRule]=d,Da(b),Da(b+1),f=!0;return f}function Da(b){if(qa[b]){var d=0,f=100;0!==b&&(d=wa[b-1]);b!==qa.length-1&&(f=wa[b]);f-=d;d="translate("+w((h.dir?100-d-f:d)+"%","0")+")";f="scale("+w(f/100,"1")+")";qa[b].style[h.transformRule]=d+" "+f}}function Y(d,f){var m=b(d);d=void 0===wa[0];f=void 0===f||!!f;h.animate&&!d&&y(ma,h.cssClasses.tap,h.animationDuration);Ia.forEach(function(b){var d;da(b,(d=m[b],null===d||!1===d||void 0===d?
wa[b]:("number"==typeof d&&(d=String(d)),d=h.format.from(d),!1===(d=ta.toStepping(d))||isNaN(d)?wa[b]:d)),!0,!1)});Ia.forEach(function(b){da(b,wa[b],!0,!0)});va();Ia.forEach(function(b){l("update",b);null!==m[b]&&f&&l("set",b)})}function Aa(){var b=Qa.map(h.format.to);return 1===b.length?b[0]:b}var pa,V,qa,Q,U,Xa,jb,Lb,xa=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:
{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},Ya=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var b=!1;try{var d=Object.defineProperty({},"passive",{get:function(){b=!0}});window.addEventListener("test",null,d)}catch(qe){}return b}(),ma=d,wa=[],Ia=[],Ba=0,ta=h.spectrum,Qa=[],Pa={},Ea=d.ownerDocument,Uc=h.documentElement||Ea.documentElement,ub=Ea.body,Vc="rtl"===Ea.dir||1===h.ort?0:100;return r(Xa=ma,h.cssClasses.target),0===h.dir?r(Xa,
h.cssClasses.ltr):r(Xa,h.cssClasses.rtl),0===h.ort?r(Xa,h.cssClasses.horizontal):r(Xa,h.cssClasses.vertical),pa=p(Xa,h.cssClasses.base),function(b,d){var f,l,m,k=p(d,h.cssClasses.connects);V=[];(qa=[]).push(!!b[0]&&p(k,h.cssClasses.connect));for(var q=0;q<h.handles;q++)V.push((f=q,m=void 0,l=p(d,h.cssClasses.origin),(m=p(l,h.cssClasses.handle)).setAttribute("data-handle",f),h.keyboardSupport&&m.setAttribute("tabindex","0"),m.setAttribute("role","slider"),m.setAttribute("aria-orientation",h.ort?"vertical":
"horizontal"),0===f?r(m,h.cssClasses.handleLower):f===h.handles-1&&r(m,h.cssClasses.handleUpper),l)),Ia[q]=q,qa.push(!!b[q+1]&&p(k,h.cssClasses.connect))}(h.connect,pa),(jb=h.events).fixed||V.forEach(function(b,d){T(xa.start,b.children[0],R,{handleNumbers:[d]})}),jb.tap&&T(xa.start,pa,E,{}),jb.hover&&T(xa.move,pa,O,{hover:!0}),jb.drag&&qa.forEach(function(b,d){if(!1!==b&&0!==d&&d!==qa.length-1){var f=V[d-1],l=V[d],m=[b];r(b,h.cssClasses.draggable);jb.fixed&&(m.push(f.children[0]),m.push(l.children[0]));
m.forEach(function(b){T(xa.start,b,R,{handles:[f,l],handleNumbers:[d-1,d]})})}}),Y(h.start),Q={destroy:function(){for(var b in h.cssClasses)h.cssClasses.hasOwnProperty(b)&&J(ma,h.cssClasses[b]);for(;ma.firstChild;)ma.removeChild(ma.firstChild);delete ma.noUiSlider},steps:function(){return wa.map(function(b,d){var f=ta.getNearbySteps(b),l=Qa[d];d=f.thisStep.step;!1!==d&&l+d>f.stepAfter.startValue&&(d=f.stepAfter.startValue-l);f=l>f.thisStep.startValue?f.thisStep.step:!1!==f.stepBefore.step&&l-f.stepBefore.highestStep;
100===b?d=null:0===b&&(f=null);b=ta.countStepDecimals();return null!==d&&!1!==d&&(d=Number(d.toFixed(b))),null!==f&&!1!==f&&(f=Number(f.toFixed(b))),[f,d]})},on:ia,off:function(b){var d=b&&b.split(".")[0],f=d&&b.substring(d.length);Object.keys(Pa).forEach(function(b){var l=b.split(".")[0],m=b.substring(l.length);d&&d!==l||f&&f!==m||delete Pa[b]})},get:Aa,set:Y,setHandle:function(b,d,f){var l=[];if(!(0<=(b=Number(b))&&b<Ia.length))throw Error("noUiSlider (12.1.0): invalid handle number, got: "+b);
for(var m=0;m<Ia.length;m++)l[m]=null;l[b]=d;Y(l,f)},reset:function(b){Y(h.start,b)},__moveHandles:function(b,d,f){ea(b,d,wa,f)},options:k,updateOptions:function(b,d){var f=Aa(),l="margin limit padding range animate snap step format".split(" ");l.forEach(function(d){void 0!==b[d]&&(k[d]=b[d])});var m=Ta(k);l.forEach(function(d){void 0!==b[d]&&(h[d]=m[d])});ta=m.spectrum;h.margin=m.margin;h.limit=m.limit;h.padding=m.padding;h.pips&&x(h.pips);wa=[];Y(b.start||f,d)},target:ma,removePips:D,pips:x},h.pips&&
x(h.pips),h.tooltips&&(Lb=V.map(q),ia("update",function(b,d,f){Lb[d]&&(b=b[d],!0!==h.tooltips[d]&&(b=h.tooltips[d].to(f[d])),Lb[d].innerHTML=b)})),ia("update",function(b,d,f,l,k){Ia.forEach(function(b){var d=V[b],l=m(wa,b,0,!0,!0,!0),p=m(wa,b,100,!0,!0,!0),q=k[b];b=h.ariaFormat.to(f[b]);l=ta.fromStepping(l).toFixed(1);p=ta.fromStepping(p).toFixed(1);q=ta.fromStepping(q).toFixed(1);d.children[0].setAttribute("aria-valuemin",l);d.children[0].setAttribute("aria-valuemax",p);d.children[0].setAttribute("aria-valuenow",
q);d.children[0].setAttribute("aria-valuetext",b)})}),Q}x.prototype.getMargin=function(b){var d=this.xNumSteps[0];if(d&&0!=b/d%1)throw Error("noUiSlider (12.1.0): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&E(this.xVal,b)};x.prototype.toStepping=function(b){var d=this.xVal,f=this.xPct;if(b>=d.slice(-1)[0])b=100;else{var h,k=Q(b,d),p=f[k-1];f=f[k];b=p+E(h=[d[k-1],d[k]],0>h[0]?b+Math.abs(h[0]):b-h[0])/(100/(f-p))}return b};x.prototype.fromStepping=function(b){var d=
this.xVal,f=this.xPct;if(100<=b)b=d.slice(-1)[0];else{var h,k=Q(b,f),p=f[k-1];f=f[k];b=(h=[d[k-1],d[k]],100/(f-p)*(b-p)*(h[1]-h[0])/100+h[0])}return b};x.prototype.getStep=function(b){var d=this.xPct,f=this.xSteps,h=this.snap;if(100!==b){var k,p,q=Q(b,d),A=d[q-1],r=d[q];b=h?(r-A)/2<b-A?r:A:f[q-1]?d[q-1]+(k=b-d[q-1],p=f[q-1],Math.round(k/p)*p):b}return b};x.prototype.getNearbySteps=function(b){b=Q(b,this.xPct);return{stepBefore:{startValue:this.xVal[b-2],step:this.xNumSteps[b-2],highestStep:this.xHighestCompleteStep[b-
2]},thisStep:{startValue:this.xVal[b-1],step:this.xNumSteps[b-1],highestStep:this.xHighestCompleteStep[b-1]},stepAfter:{startValue:this.xVal[b],step:this.xNumSteps[b],highestStep:this.xHighestCompleteStep[b]}}};x.prototype.countStepDecimals=function(){var b=this.xNumSteps.map(d);return Math.max.apply(null,b)};x.prototype.convert=function(b){return this.getStep(this.toStepping(b))};var Ea={to:function(b){return void 0!==b&&b.toFixed(2)},from:Number};return{__spectrum:x,version:"12.1.0",create:function(b,
d){if(!b||!b.nodeName)throw Error("noUiSlider (12.1.0): create requires a single element, got: "+b);if(b.noUiSlider)throw Error("noUiSlider (12.1.0): Slider was already initialized.");d=Ba(b,Ta(d),d);return b.noUiSlider=d}}});
!function(f,k){function y(b,d){this.element=b;this.settings=f.extend({},f.fn.rate.settings,d);this.set_faces={};this.build()}f.fn.textWidth=function(){var b=f("<span>"+f(this).html()+"</span>");b.css("font-size",f(this).css("font-size")).hide();b.prependTo("body");var d=b.width();if(b.remove(),0==d){var k=0;return f(this).eq(0).children().each(function(){k+=f(this).textWidth()}),k}return d};f.fn.textHeight=function(){var b=f("<span>"+f(this).html()+"</span>");b.css("font-size",f(this).css("font-size")).hide();
b.prependTo("body");var d=b.height();return b.remove(),d};Array.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)};String.prototype.getCodePointLength=function(){return this.length-this.split(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g).length+1};String.fromCodePoint=function(){for(var b=Array.prototype.slice.call(arguments),d=b.length;0<d--;){var f=b[d]-65536;0<=f&&b.splice(d,1,55296+(f>>10),56320+(1023&f))}return String.fromCharCode.apply(null,b)};f.fn.rate=function(b){if(void 0===
b||"object"==typeof b)return this.each(function(){f.data(this,"rate")||f.data(this,"rate",new y(this,b))});if("string"==typeof b){var d,k=arguments;return this.each(function(){var r=f.data(this,"rate");r instanceof y&&"function"==typeof r[b]&&(d=r[b].apply(r,Array.prototype.slice.call(k,1)));"destroy"===b&&(f(r.element).off(),f.data(this,"rate",null))}),void 0!==d?d:this}};y.prototype.build=function(){this.layers={};this.value=0;this.raise_select_layer=!1;this.settings.initial_value&&(this.value=
this.settings.initial_value);f(this.element).attr("data-rate-value")&&(this.value=f(this.element).attr("data-rate-value"));var b=this.value/this.settings.max_value*100;if("string"==typeof this.settings.symbols[this.settings.selected_symbol_type]){var d=this.settings.symbols[this.settings.selected_symbol_type];this.settings.symbols[this.settings.selected_symbol_type]={};this.settings.symbols[this.settings.selected_symbol_type].base=d;this.settings.symbols[this.settings.selected_symbol_type].selected=
d;this.settings.symbols[this.settings.selected_symbol_type].hover=d}d=this.addLayer("base-layer",100,this.settings.symbols[this.settings.selected_symbol_type].base,!0);var k=this.addLayer("select-layer",b,this.settings.symbols[this.settings.selected_symbol_type].selected,!0),y=this.addLayer("hover-layer",0,this.settings.symbols[this.settings.selected_symbol_type].hover,!1);this.layers.base_layer=d;this.layers.select_layer=k;this.layers.hover_layer=y;f(this.element).on("mousemove",f.proxy(this.hover,
this));f(this.element).on("click",f.proxy(this.select,this));f(this.element).on("mouseleave",f.proxy(this.mouseout,this));f(this.element).css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"});this.value=this.toValue(b*f(d).textWidth());this.settings.hasOwnProperty("update_input_field_name")&&this.settings.update_input_field_name.val(this.value)};y.prototype.addLayer=function(b,d,k,y){for(var r=
"<div>",E=0;E<this.settings.max_value;E++)Array.isArray(k)?(this.settings.convert_to_utf8&&(k[E]=String.fromCodePoint(k[E])),r+="<span>"+k[E]+"</span>"):(this.settings.convert_to_utf8&&(k=String.fromCodePoint(k)),r+="<span>"+k+"</span>");b=f(r+"</div>").addClass("rate-"+b).appendTo(this.element);return f(b).css({width:d+"%",height:f(b).children().eq(0).textHeight(),overflow:"hidden",position:"absolute",top:0,display:y?"block":"none","white-space":"nowrap"}),f(this.element).css({width:f(b).textWidth()+
"px",height:f(b).height(),position:"relative",cursor:this.settings.cursor}),b};y.prototype.updateServer=function(){void 0!=this.settings.url&&f.ajax({url:this.settings.url,type:this.settings.ajax_method,data:f.extend({},{value:this.getValue()},this.settings.additional_data),success:f.proxy(function(b){f(this.element).trigger("updateSuccess",[b])},this),error:f.proxy(function(b,d,k){f(this.element).trigger("updateError",[b,d,k])},this)})};y.prototype.getValue=function(){return this.value};y.prototype.hover=
function(b){var d=parseInt(f(this.element).css("padding-left").replace("px",""));b=b.pageX-f(this.element).offset().left-d;b=this.toValue(b,!0);(b!=this.value&&(this.raise_select_layer=!1),this.raise_select_layer||this.settings.readonly)||(d=this.toWidth(b),(this.layers.select_layer.css({display:"none"}),this.settings.only_select_one_symbol)?(b=Math.floor(b),this.layers.hover_layer.css({width:"100%",display:"block"}),this.layers.hover_layer.children("span").css({visibility:"hidden"}),this.layers.hover_layer.children("span").eq(0!=
b?b-1:0).css({visibility:"visible"})):this.layers.hover_layer.css({width:d+"%",display:"block"}))};y.prototype.select=function(b){if(!this.settings.readonly){var d=(this.getValue(),parseInt(f(this.element).css("padding-left").replace("px","")));b=b.pageX-f(this.element).offset().left-d;b=this.toWidth(this.toValue(b,!0));this.setValue(this.toValue(b));this.raise_select_layer=!0}};y.prototype.mouseout=function(){this.layers.hover_layer.css({display:"none"});this.layers.select_layer.css({display:"block"})};
y.prototype.toWidth=function(b){return b/this.settings.max_value*100};y.prototype.toValue=function(b,d){b=d?b/this.layers.base_layer.textWidth()*this.settings.max_value:b/100*this.settings.max_value;d=b/this.settings.step_size;return.00005>d-Math.floor(d)&&(b=Math.round(b/this.settings.step_size)*this.settings.step_size),b=Math.ceil(b/this.settings.step_size)*this.settings.step_size,b>this.settings.max_value?this.settings.max_value:b};y.prototype.getElement=function(b,d){return f(this.element).find(".rate-"+
b+" span").eq(d-1)};y.prototype.getLayers=function(){return this.layers};y.prototype.setFace=function(b,d){this.set_faces[b]=d};y.prototype.setAdditionalData=function(b){this.settings.additional_data=b};y.prototype.getAdditionalData=function(){return this.settings.additional_data};y.prototype.removeFace=function(b){delete this.set_faces[b]};y.prototype.setValue=function(b){if(!this.settings.readonly){0>b?b=0:b>this.settings.max_value&&(b=this.settings.max_value);var d=this.getValue();this.value=b;
f(this.element).trigger("change",{from:d,to:this.value});f(this.element).find(".rate-face").remove();f(this.element).find("span").css({visibility:"visible"});b=Math.ceil(this.value);if(this.set_faces.hasOwnProperty(b)){var k="<div>"+this.set_faces[b]+"</div>",y=this.getElement("base-layer",b),z=this.getElement("select-layer",b),E=this.getElement("hover-layer",b),Q=y.textWidth()*(b-1)+(y.textWidth()-f(k).textWidth())/2;f(k).appendTo(this.element).css({display:"inline-block",position:"absolute",left:Q}).addClass("rate-face");
y.css({visibility:"hidden"});z.css({visibility:"hidden"});E.css({visibility:"hidden"})}this.settings.only_select_one_symbol?(k=this.toWidth(this.settings.max_value),this.layers.select_layer.css({display:"block",width:k+"%",height:this.layers.base_layer.css("height")}),this.layers.hover_layer.css({display:"none",height:this.layers.base_layer.css("height")}),this.layers.select_layer.children("span").css({visibility:"hidden"}),this.layers.select_layer.children("span").eq(0!=b?b-1:0).css({visibility:"visible"})):
(k=this.toWidth(this.value),this.layers.select_layer.css({display:"block",width:k+"%",height:this.layers.base_layer.css("height")}),this.layers.hover_layer.css({display:"none",height:this.layers.base_layer.css("height")}));f(this.element).attr("data-rate-value",this.value);this.settings.change_once&&(this.settings.readonly=!0);this.updateServer();f(this.element).trigger("afterChange",{from:d,to:this.value});this.settings.hasOwnProperty("update_input_field_name")&&this.settings.update_input_field_name.val(this.value)}};
y.prototype.increment=function(){this.setValue(this.getValue()+this.settings.step_size)};y.prototype.decrement=function(){this.setValue(this.getValue()-this.settings.step_size)};f.fn.rate.settings={max_value:5,step_size:.5,initial_value:0,symbols:{utf8_star:{base:"\u2606",hover:"\u2605",selected:"\u2605"},utf8_hexagon:{base:"\u2b21",hover:"\u2b22",selected:"\u2b22"},hearts:"&hearts;",fontawesome_beer:'<i class="fa fa-beer"></i>',fontawesome_star:{base:'<i class="fa fa-star-o"></i>',hover:'<i class="fa fa-star"></i>',
selected:'<i class="fa fa-star"></i>'},utf8_emoticons:{base:[128549,128531,128530,128516],hover:[128549,128531,128530,128516],selected:[128549,128531,128530,128516]}},selected_symbol_type:"utf8_star",convert_to_utf8:!1,cursor:"default",readonly:!1,change_once:!1,only_select_one_symbol:!1,ajax_method:"POST",additional_data:{}}}(jQuery,window);
!function(){function f(){var a=[];return function n(e,g){return a.push(e+" ")>na.cacheLength&&delete n[a.shift()],n[e+" "]=g}}function k(a){return a[Fa]=!0,a}function y(a,c){var e=c&&a,g=e&&1===a.nodeType&&1===c.nodeType&&(~c.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(g)return g;if(e)for(;e=e.nextSibling;)if(e===c)return-1;return a?1:-1}function b(a){return function(c){return"input"===c.nodeName.toLowerCase()&&c.type===a}}function d(a){return function(c){var e=c.nodeName.toLowerCase();
return("input"===e||"button"===e)&&c.type===a}}function r(a){return k(function(c){return c=+c,k(function(e,g){for(var n,b=a([],e.length,c),d=b.length;d--;)e[n=b[d]]&&(e[n]=!(g[n]=e[n]))})})}function J(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function z(){}function E(a){for(var c=0,e=a.length,g="";c<e;c++)g+=a[c].value;return g}function Q(a,c,e){var g=c.dir,n=e&&"parentNode"===g,b=po++;return c.first?function(c,e,b){for(;c=c[g];)if(1===c.nodeType||n)return a(c,e,b)}:function(c,e,
d){var t,u,v=[Db,b];if(d)for(;c=c[g];){if((1===c.nodeType||n)&&a(c,e,d))return!0}else for(;c=c[g];)if(1===c.nodeType||n){if((t=(u=c[Fa]||(c[Fa]={}))[g])&&t[0]===Db&&t[1]===b)return v[2]=t[2];if((u[g]=v)[2]=a(c,e,d))return!0}}}function O(a){return 1<a.length?function(c,e,g){for(var n=a.length;n--;)if(!a[n](c,e,g))return!1;return!0}:a[0]}function h(a,c,e,g,n){for(var b,d=[],v=0,f=a.length,L=null!=c;v<f;v++)(b=a[v])&&(e&&!e(b,g,n)||(d.push(b),L&&c.push(v)));return d}function x(a,c,e,g,n,b){return g&&
!g[Fa]&&(g=x(g)),n&&!n[Fa]&&(n=x(n,b)),k(function(b,d,t,f){var u,v=[],G=[],L=d.length,l;if(!(l=b)){l=c||"*";for(var m=t.nodeType?[t]:t,k=[],p=0,Ra=m.length;p<Ra;p++)ja(l,m[p],k);l=k}l=!a||!b&&c?l:h(l,v,a,t,f);m=e?n||(b?a:L||g)?[]:d:l;if(e&&e(l,m,t,f),g){var q=h(m,G);g(q,[],t,f);for(t=q.length;t--;)(u=q[t])&&(m[G[t]]=!(l[G[t]]=u))}if(b){if(n||a){if(n){q=[];for(t=m.length;t--;)(u=m[t])&&q.push(l[t]=u);n(null,m=[],q,f)}for(t=m.length;t--;)(u=m[t])&&-1<(q=n?zc.call(b,u):v[t])&&(b[q]=!(d[q]=u))}}else m=
h(m===d?m.splice(L,m.length):m),n?n(null,d,m,f):$b.apply(d,m)})}function p(a){var c,e,g=a.length,n=na.relative[a[0].type];var b=n||na.relative[" "];for(var d=n?1:0,v=Q(function(a){return a===c},b,!0),f=Q(function(a){return-1<zc.call(c,a)},b,!0),L=[function(a,e,g){return!n&&(g||e!==te)||((c=e).nodeType?v(a,e,g):f(a,e,g))}];d<g;d++)if(b=na.relative[a[d].type])L=[Q(O(L),b)];else{if((b=na.filter[a[d].type].apply(null,a[d].matches))[Fa]){for(e=++d;e<g&&!na.relative[a[e].type];e++);return x(1<d&&O(L),1<
d&&E(a.slice(0,d-1).concat({value:" "===a[d-2].type?"*":""})).replace(ue,"$1"),b,d<e&&p(a.slice(d,e)),e<g&&p(a=a.slice(e)),e<g&&E(a))}L.push(b)}return O(L)}function q(a,c){var e=a,g=function(a,e,g,b){if(a){if(!b&&a[e])return a[e];if(a!==c){if(e=a[g])return e;for(a=a.parentNode;a&&a!==c;a=a.parentNode)if(e=a[g])return e}}};this.current=function(){return e};this.next=function(a){return e=g(e,"firstChild","nextSibling",a)};this.prev=function(a){return e=g(e,"lastChild","previousSibling",a)};this.prev2=
function(a){var g;a:{var b;if(e){if(g=e.previousSibling,c&&g===c){g=void 0;break a}if(g){if(!a)for(a=g.lastChild;a;a=a.lastChild)if(!a.lastChild){g=a;break a}break a}if((b=e.parentNode)&&b!==c){g=b;break a}}g=void 0}return e=g}}function D(a){var c={},e={},g=[],b={},d={},u=function(c,e,g){var b=a[c];return b?b=Wc(b,/[, ]/,Wc(b.toUpperCase(),/[, ]/)):(b=ac[c])||(b=Wc(e," ",Wc(e.toUpperCase()," ")),b=mg(b,g),ac[c]=b),b};var v=so((a=a||{}).schema);!1===a.verify_html&&(a.valid_elements="*[*]");var f=ng(a.valid_styles);
var L=ng(a.invalid_styles,"map");var aa=ng(a.valid_classes,"map");var l=u("whitespace_elements","pre script noscript style textarea video audio iframe object code");var m=u("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");var h=u("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");var k=u("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");
var p=u("non_empty_elements","td th iframe video audio object script pre code",h);var la=u("move_caret_before_on_enter_elements","table",p);var q=u("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure");var Ra=u("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",q);var w=u("text_inline_elements",
"span strong b em i font strike u var cite dfn code mark q sup sub samp");La((a.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(a){d[a]=new RegExp("</"+a+"[^>]*>","gi")});var A=function(a){return new RegExp("^"+a.replace(/([?+*])/g,".$1")+"$")},x=function(a){var e,b,n,d,t,u,v,f,G,L,aa,l,m,h,xb,Eb,qo=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Zb=/[*?+]/;if(a){a=Ca(a,",");c["@"]&&(h=c["@"].attributes,
xb=c["@"].attributesOrder);var Ra=0;for(e=a.length;Ra<e;Ra++)if(n=qo.exec(a[Ra])){if(l=n[1],v=n[2],m=n[3],u=n[5],d={attributes:L={},attributesOrder:aa=[]},"#"===l&&(d.paddEmpty=!0),"-"===l&&(d.removeEmpty=!0),"!"===n[4]&&(d.removeEmptyAttrs=!0),h){for(Eb in h)L[Eb]=h[Eb];aa.push.apply(aa,xb)}if(u){var la=0;for(b=(u=Ca(u,"|")).length;la<b;la++)if(n=k.exec(u[la]))(t={},G=n[1],f=n[2].replace(/[\\:]:/g,":"),l=n[3],n=n[4],"!"===G&&(d.attributesRequired=d.attributesRequired||[],d.attributesRequired.push(f),
t.required=!0),"-"===G)?(delete L[f],aa.splice(uo(aa,f),1)):(l&&("="===l&&(d.attributesDefault=d.attributesDefault||[],d.attributesDefault.push({name:f,value:n}),t.defaultValue=n),":"===l&&(d.attributesForced=d.attributesForced||[],d.attributesForced.push({name:f,value:n}),t.forcedValue=n),"<"===l&&(t.validValues=Wc(n,"?"))),Zb.test(f)?(d.attributePatterns=d.attributePatterns||[],t.pattern=A(f),d.attributePatterns.push(t)):(L[f]||aa.push(f),L[f]=t))}h||"@"!==v||(h=L,xb=aa);m&&(d.outputName=v,c[m]=
d);Zb.test(v)?(d.pattern=A(v),g.push(d)):c[v]=d}}};u=function(a){c={};g=[];x(a);La(v,function(a,c){e[c]=a.children})};var D=function(a){var g=/^(~)?(.+)$/;a&&(ac.text_block_elements=ac.block_elements=null,La(Ca(a,","),function(a){a=g.exec(a);var n="~"===a[1],d=n?"span":"div",t=a[2];(e[t]=e[d],b[t]=d,n||(Ra[t.toUpperCase()]={},Ra[t]={}),c[t])||(a=c[d],delete (a=mg({},a)).removeEmptyAttrs,delete a.removeEmpty,c[t]=a);La(e,function(a,c){a[d]&&(e[c]=a=mg({},e[c]),a[t]=a[d])})}))},r=function(c){var g=
/^([+\-]?)(\w+)\[([^\]]+)\]$/;ac[a.schema]=null;c&&La(Ca(c,","),function(a){var c,b;(a=g.exec(a))&&(b=a[1],c=b?e[a[2]]:e[a[2]]={"#comment":{}},c=e[a[2]],La(Ca(a[3],"|"),function(a){"-"===b?delete c[a]:c[a]={}}))})},T=function(a){var e,b=c[a];if(b)return b;for(e=g.length;e--;)if((b=g[e]).pattern.test(a))return b};return a.valid_elements?u(a.valid_elements):(La(v,function(a,g){c[g]={attributes:a.attributes,attributesOrder:a.attributesOrder};e[g]=a.children}),"html5"!==a.schema&&La(Ca("strong/b em/i"),
function(a){a=Ca(a,"/");c[a[1]].outputName=a[0]}),La(Ca("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){c[a]&&(c[a].removeEmpty=!0)}),La(Ca("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(a){c[a].paddEmpty=!0}),La(Ca("span"),function(a){c[a].removeEmptyAttrs=!0})),D(a.custom_elements),r(a.valid_children),x(a.extended_valid_elements),r("+ol[ul|ol],+ul[ul|ol]"),La({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",
tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(a,e){c[e]&&(c[e].parentsRequired=Ca(a))}),a.invalid_elements&&La(Ai(a.invalid_elements),function(a){c[a]&&delete c[a]}),T("span")||x("span[!data-mce-type|*]"),{children:e,elements:c,getValidStyles:function(){return f},getValidClasses:function(){return aa},getBlockElements:function(){return Ra},getInvalidStyles:function(){return L},getShortEndedElements:function(){return h},getTextBlockElements:function(){return q},getTextInlineElements:function(){return w},
getBoolAttrs:function(){return k},getElementRule:T,getSelfClosingElements:function(){return m},getNonEmptyElements:function(){return p},getMoveCaretBeforeOnEnterElements:function(){return la},getWhiteSpaceElements:function(){return l},getSpecialElements:function(){return d},isValidChild:function(a,c){a=e[a.toLowerCase()];return!(!a||!a[c.toLowerCase()])},isValid:function(a,c){var e;if(e=T(a)){if(!c||e.attributes[c])return!0;if(c=e.attributePatterns)for(e=c.length;e--;)if(c[e].pattern.test(a))return!0}return!1},
getCustomElements:function(){return b},addValidElements:x,setValidElements:u,addCustomElements:D,addValidChildren:r}}function A(a,c){var e,g,b,d=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*"([^"]+)"\s*\))|(?:\(\s*'([^']+)'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:'([^']+)')|(?:"([^"]+)")/gi,v=/\s*([^:]+):\s*([^;]+);?/g,f=/\s+$/,L={};a=a||{};c&&(g=c.getValidStyles(),b=c.getInvalidStyles());c="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(e=0;e<c.length;e++)L[c[e]]="\ufeff"+
e,L["\ufeff"+e]=c[e];return{toHex:function(a){return a.replace(d,Bi)},parse:function(c){var g,b,n,t,G={},aa=a.url_converter,l=a.url_converter_scope||this,m=function(a,c,g){var b,n,d,t;if((b=G[a+"-top"+c])&&(n=G[a+"-right"+c])&&(d=G[a+"-bottom"+c])&&(t=G[a+"-left"+c])){b=[b,n,d,t];for(e=b.length-1;e--&&b[e]===b[e+1];);-1<e&&g||(G[a+c]=-1===e?b[0]:b.join(" "),delete G[a+"-top"+c],delete G[a+"-right"+c],delete G[a+"-bottom"+c],delete G[a+"-left"+c])}},h=function(a){var c,e=G[a];if(e){for(c=(e=e.split(" ")).length;c--;)if(e[c]!==
e[0])return!1;return G[a]=e[0],!0}},k=function(a){return t=!0,L[a]},p=function(a,c){return t&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return L[a]})),c||(a=a.replace(/\\(['";:])/g,"$1")),a},q=function(a){return String.fromCharCode(parseInt(a.slice(1),16))},w=function(c,e,g,b,n,d){if(n=n||d)return"'"+p(n).replace(/'/g,"\\'")+"'";if(e=p(e||g||b),!a.allow_script_urls)if(c=e.replace(/[\s\r\n]+/g,""),/(java|vb)script:/i.test(c)||!a.allow_svg_data_urls&&/^data:image\/svg/i.test(c))return"";return aa&&(e=
aa.call(l,e,"style")),"url('"+e.replace(/'/g,"\\'")+"')"};if(c){for(c=(c=c.replace(/[\u0000-\u001F]/g,"")).replace(/\\["';:\uFEFF]/g,k).replace(/"[^"]+"|'[^']+'/g,function(a){return a.replace(/[;:]/g,k)});g=v.exec(c);)(v.lastIndex=g.index+g[0].length,b=g[1].replace(f,"").toLowerCase(),n=g[2].replace(f,""),b&&n)&&(b=b.replace(/\\[0-9a-f]+/gi,q),n=n.replace(/\\[0-9a-f]+/gi,q),-1===b.indexOf("\ufeff")&&-1===b.indexOf('"'))&&(a.allow_script_urls||"behavior"!==b&&!/expression\s*\(|\/\*|\*\//.test(n))&&
("font-weight"===b&&"700"===n?n="bold":"color"!==b&&"background-color"!==b||(n=n.toLowerCase()),n=(n=n.replace(d,Bi)).replace(u,w),G[b]=t?p(n,!0):n);m("border","",!0);m("border","-width");m("border","-color");m("border","-style");m("padding","");m("margin","");h("border-width")&&h("border-style")&&h("border-color")&&(G.border=G["border-width"]+" "+G["border-style"]+" "+G["border-color"],delete G["border-width"],delete G["border-style"],delete G["border-color"]);"medium none"===G.border&&delete G.border;
"none"===G["border-image"]&&delete G["border-image"]}return G},serialize:function(a,c){var e,n,d,t,u,v="",f=function(c){var e,b,n;if(e=g[c]){var d=0;for(b=e.length;d<b;d++)c=e[d],(n=a[c])&&(v+=(0<v.length?" ":"")+c+": "+n+";")}};if(c&&g)f("*"),f(c);else for(e in a)!(n=a[e])||b&&(d=e,t=c,u=void 0,(u=b["*"])&&u[d]||(u=b[t])&&u[d])||(v+=(0<v.length?" ":"")+e+": "+n+";");return v}}}function fa(a,c){var e,g=this;void 0===c&&(c={});var b={},d=window,u={},v=0,f=function(a,c){void 0===c&&(c={});var e=0,g=
{};var b=c.maxLoadTime||5E3;var n=function(c){a.getElementsByTagName("head")[0].appendChild(c)},d=function(d,t,u){var v,f,G,L,aa=function(){for(var a=L.passed,c=a.length;c--;)a[c]();L.status=2;L.passed=[];L.failed=[]},l=function(){for(var a=L.failed,c=a.length;c--;)a[c]();L.status=3;L.passed=[];L.failed=[]},m=function(a,c){a()||((new Date).getTime()-G<b?Za.setTimeout(c):l())},h=function(){m(function(){for(var c,e,g=a.styleSheets,b=g.length;b--;)if((e=(c=g[b]).ownerNode?c.ownerNode:c.owningElement)&&
e.id===v.id)return aa(),!0},h)},xb=function(){m(function(){try{var a=f.sheet.cssRules;return aa(),!!a}catch(ju){}},xb)};if(d=C._addCacheSuffix(d),g[d]?L=g[d]:(L={passed:[],failed:[]},g[d]=L),t&&L.passed.push(t),u&&L.failed.push(u),1!==L.status)if(2!==L.status)if(3!==L.status){if(L.status=1,(v=a.createElement("link")).rel="stylesheet",v.type="text/css",v.id="u"+e++,v.async=!1,v.defer=!1,G=(new Date).getTime(),c.contentCssCors&&(v.crossOrigin="anonymous"),"onload"in v&&!((Eb=navigator.userAgent.match(/WebKit\/(\d*)/))&&
536>parseInt(Eb[1],10)))v.onload=h,v.onerror=l;else{if(0<navigator.userAgent.indexOf("Firefox"))return(f=a.createElement("style")).textContent='@import "'+d+'"',xb(),void n(f);h()}var Eb;n(v);v.href=d}else l();else aa()},t=function(a){return Ci.nu(function(c){d(a,Z(c,F(Di.value(a))),Z(c,F(Di.error(a))))})},u=function(a){return a.fold(ra,ra)};return{load:d,loadAll:function(a,c,e){xo(Ja(a,t),Ci.nu).get(function(a){a=yi(a,function(a){return a.isValue()});0<a.fail.length?e(a.fail.map(u)):c(a.pass.map(u))})}}}(a,
{contentCssCors:c.contentCssCors}),L=[],aa=c.schema?c.schema:D({}),l=A({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope},c.schema),m=c.ownEvents?new Ob(c.proxy):Ob.Event,h=aa.getBlockElements(),k=N.overrideDefaults(function(){return{context:a,element:Aa.getRoot()}}),p=function(c){if(c&&a&&"string"==typeof c){var e=a.getElementById(c);return e&&e.id!==c?a.getElementsByName(c)[1]:e}return c},la=function(a){return"string"==typeof a&&(a=p(a)),k(a)},w=function(a,c,g){var b,n;a=
la(a);return a.length&&(n=(b=e[c])&&b.get?b.get(a,c):a.attr(c)),void 0===n&&(n=g||""),n},Ra=function(a){return(a=p(a))?a.attributes:[]},x=function(a,g,b){var n;""===b&&(b=null);var d=la(a);a=d.attr(g);d.length&&((n=e[g])&&n.set?n.set(d,b,g):d.attr(g,b),a!==b&&c.onSetAttrib&&c.onSetAttrib({attrElm:d,attrName:g,attrValue:b}))},r=function(){return c.root_element||a.body},T=function(c,e){return yo.getPos(a.body,p(c),e)},P=function(a,c,e){a=la(a);return e?a.css(c):("float"===(c=c.replace(/-(\D)/g,function(a,
c){return c.toUpperCase()}))&&(c=S.ie&&12>S.ie?"styleFloat":"cssFloat"),a[0]&&a[0].style?a[0].style[c]:void 0)},y=function(a){var c,e;return a=p(a),c=P(a,"width"),e=P(a,"height"),-1===c.indexOf("px")&&(c=0),-1===e.indexOf("px")&&(e=0),{w:parseInt(c,10)||a.offsetWidth||a.clientWidth,h:parseInt(e,10)||a.offsetHeight||a.clientHeight}},z=function(a,c){if(!a)return!1;if(!Array.isArray(a)){if("*"===c)return 1===a.nodeType;if(zo.test(c)){c=c.toLowerCase().split(/,/);var e=a.nodeName.toLowerCase();for(a=
c.length-1;0<=a;a--)if(c[a]===e)return!0;return!1}if(a.nodeType&&1!==a.nodeType)return!1}a=Array.isArray(a)?a:[a];return 0<ja(c,a[0].ownerDocument||a[0],null,a).length},M=function(a,c,e,g){var b,n=[];a=p(a);g=void 0===g;e=e||("BODY"!==r().nodeName?r().parentNode:null);for(C.is(c,"string")&&(c="*"===(b=c)?function(a){return 1===a.nodeType}:function(a){return z(a,b)});a&&a!==e&&a.nodeType&&9!==a.nodeType;){if(!c||"function"==typeof c&&c(a)){if(!g)return[a];n.push(a)}a=a.parentNode}return g?n:null},
R=function(a,c,e){var g=c;if(a)for("string"==typeof c&&(g=function(a){return z(a,c)}),a=a[e];a;a=a[e])if("function"==typeof g&&g(a))return a;return null},K=function(a,c,e){var b;return(a="string"==typeof a?p(a):a)?C.isArray(a)&&(a.length||0===a.length)?(b=[],Xc(a,function(a,g){a&&("string"==typeof a&&(a=p(a)),b.push(c.call(e,a,g)))}),b):c.call(e||g,a):!1},E=function(a,c){la(a).each(function(a,e){Xc(c,function(a,c){x(e,c,a)})})},O=function(a,c){a=la(a);Ei?a.each(function(a,e){if(!1!==e.canHaveHTML){for(;e.firstChild;)e.removeChild(e.firstChild);
try{e.innerHTML="<br>"+c,e.removeChild(e.firstChild)}catch(hu){N("<div></div>").html("<br>"+c).contents().slice(1).appendTo(e)}return c}}):a.html(c)},H=function(c,e,g,b,n){return K(c,function(c){var d="string"==typeof e?a.createElement(e):e;return E(d,g),b&&("string"!=typeof b&&b.nodeType?d.appendChild(b):"string"==typeof b&&O(d,b)),n?d:c.appendChild(d)})},ia=function(c,e,g){return H(a.createElement(c),c,e,g,!0)},I=Ac.encodeAllRaw,da=function(a,c){a=la(a);return c?a.each(function(){for(var a;a=this.firstChild;)3===
a.nodeType&&0===a.data.length?this.removeChild(a):this.parentNode.insertBefore(a,this)}).remove():a.remove(),1<a.length?a.toArray():a[0]},va=function(a,c,e){la(a).toggleClass(c,e).each(function(){""===this.className&&N(this).attr("class",null)})},ea=function(a,c,e){return K(c,function(c){return C.is(c,"array")&&(a=a.cloneNode(!0)),e&&Xc(Ao(c.childNodes),function(c){a.appendChild(c)}),c.parentNode.replaceChild(a,c)})},J=function(){return a.createRange()},Y=function(e,g,b,n){if(C.isArray(e)){for(var t=
e.length;t--;)e[t]=Y(e[t],g,b,n);return e}return!c.collect||e!==a&&e!==d||L.push([e,g,b,n]),m.bind(e,g,b,n||Aa)},Da=function(c,e,g){var b;if(C.isArray(c)){for(b=c.length;b--;)c[b]=Da(c[b],e,g);return c}if(L&&(c===a||c===d))for(b=L.length;b--;){var n=L[b];c!==n[0]||e&&e!==n[1]||g&&g!==n[2]||m.unbind(n[0],n[1],n[2])}return m.unbind(c,e,g)},pa=function(a){if(a&&B.isElement(a)){var c=a.getAttribute("data-mce-contenteditable");return c&&"inherit"!==c?c:"inherit"!==a.contentEditable?a.contentEditable:null}return null},
Aa={doc:a,settings:c,win:d,files:u,stdMode:!0,boxModel:!0,styleSheetLoader:f,boundEvents:L,styles:l,schema:aa,events:m,isBlock:function(a){if("string"==typeof a)return!!h[a];if(a){var c=a.nodeType;if(c)return!(1!==c||!h[a.nodeName])}return!1},$:k,$$:la,root:null,clone:function(c,e){if(!Ei||1!==c.nodeType||e)return c.cloneNode(e);if(!e){var g=a.createElement(c.nodeName);return Xc(Ra(c),function(a){x(g,a.nodeName,w(c,a.nodeName))}),g}return null},getRoot:r,getViewPort:function(a){a=a||d;var c=a.document.documentElement;
return{x:a.pageXOffset||c.scrollLeft,y:a.pageYOffset||c.scrollTop,w:a.innerWidth||c.clientWidth,h:a.innerHeight||c.clientHeight}},getRect:function(a){var c,e;return a=p(a),c=T(a),e=y(a),{x:c.x,y:c.y,w:e.w,h:e.h}},getSize:y,getParent:function(a,c,e){return(a=M(a,c,e,!1))&&0<a.length?a[0]:null},getParents:M,get:p,getNext:function(a,c){return R(a,c,"nextSibling")},getPrev:function(a,c){return R(a,c,"previousSibling")},select:function(e,g){return ja(e,p(g)||c.root_element||a,[])},is:z,add:H,create:ia,
createHTML:function(a,c,e){var g,b="";for(g in b+="<"+a,c)c.hasOwnProperty(g)&&null!==c[g]&&"undefined"!=typeof c[g]&&(b+=" "+g+'="'+I(c[g])+'"');return void 0!==e?b+">"+e+"</"+a+">":b+" />"},createFragment:function(c){var e=a.createElement("div"),g=a.createDocumentFragment();for(c&&(e.innerHTML=c);c=e.firstChild;)g.appendChild(c);return g},remove:da,setStyle:function(a,e,g){a=la(a).css(e,g);c.update_styles&&Fi(l,a)},getStyle:P,setStyles:function(a,e){a=la(a).css(e);c.update_styles&&Fi(l,a)},removeAllAttribs:function(a){return K(a,
function(a){var c,e=a.attributes;for(c=e.length-1;0<=c;c--)a.removeAttributeNode(e.item(c))})},setAttrib:x,setAttribs:E,getAttrib:w,getPos:T,parseStyle:function(a){return l.parse(a)},serializeStyle:function(a,c){return l.serialize(a,c)},addStyle:function(c){var e,g;if(Aa!==fa.DOM&&a===document){if(b[c])return;b[c]=!0}(g=a.getElementById("mceDefaultStyles"))||((g=a.createElement("style")).id="mceDefaultStyles",g.type="text/css",(e=a.getElementsByTagName("head")[0]).firstChild?e.insertBefore(g,e.firstChild):
e.appendChild(g));g.styleSheet?g.styleSheet.cssText+=c:g.appendChild(a.createTextNode(c))},loadCSS:function(c){var e;Aa===fa.DOM||a!==document?(c||(c=""),e=a.getElementsByTagName("head")[0],Xc(c.split(","),function(a){var c;a=C._addCacheSuffix(a);u[a]||(u[a]=!0,c=ia("link",{rel:"stylesheet",href:a}),e.appendChild(c))})):fa.DOM.loadCSS(c)},addClass:function(a,c){la(a).addClass(c)},removeClass:function(a,c){va(a,c,!1)},hasClass:function(a,c){return la(a).hasClass(c)},toggleClass:va,show:function(a){la(a).show()},
hide:function(a){la(a).hide()},isHidden:function(a){return"none"===la(a).css("display")},uniqueId:function(a){return(a||"mce_")+v++},setHTML:O,getOuterHTML:function(a){a="string"==typeof a?p(a):a;return B.isElement(a)?a.outerHTML:N("<div></div>").append(N(a).clone()).html()},setOuterHTML:function(a,c){la(a).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=c)}catch(gu){}da(N(this).html(c),!0)})},decode:Ac.decode,encode:I,insertAfter:function(a,c){var e=p(c);return K(a,function(a){var c,
g;return c=e.parentNode,(g=e.nextSibling)?c.insertBefore(a,g):c.appendChild(a),a})},replace:ea,rename:function(a,c){var e;return a.nodeName!==c.toUpperCase()&&(e=ia(c),Xc(Ra(a),function(c){x(e,c.nodeName,w(a,c.nodeName))}),ea(e,a,!0)),e||a},findCommonAncestor:function(a,c){for(var e,g=a;g;){for(e=c;e&&g!==e;)e=e.parentNode;if(g===e)break;g=g.parentNode}return!g&&a.ownerDocument?a.ownerDocument.documentElement:g},toHex:function(a){return l.toHex(C.trim(a))},run:K,getAttribs:Ra,isEmpty:function(a,c){var e,
g,b,n,d=0;if(a=a.firstChild){var t=new q(a,a.parentNode);c=c||(aa?aa.getNonEmptyElements():null);var u=aa?aa.getWhiteSpaceElements():{};do{if(b=a.nodeType,B.isElement(a)){if(e=a.getAttribute("data-mce-bogus")){a=t.next("all"===e);continue}if(n=a.nodeName.toLowerCase(),c&&c[n]){if("br"===n){d++;a=t.next();continue}return!1}for(e=(g=Ra(a)).length;e--;)if("name"===(n=g[e].nodeName)||"data-mce-bookmark"===n)return!1}if(8===b||3===b&&!Gi.test(a.nodeValue)||3===b&&a.parentNode&&u[a.parentNode.nodeName]&&
Gi.test(a.nodeValue))return!1;a=t.next()}while(a)}return 1>=d},createRng:J,nodeIndex:Yc,split:function(a,c,e){var g,b,n,d=J();if(a&&c)return d.setStart(a.parentNode,Yc(a)),d.setEnd(c.parentNode,Yc(c)),g=d.extractContents(),(d=J()).setStart(c.parentNode,Yc(c)+1),d.setEnd(a.parentNode,Yc(a)+1),b=d.extractContents(),(n=a.parentNode).insertBefore(Hi.trimNode(Aa,g),a),e?n.insertBefore(e,a):n.insertBefore(c,a),n.insertBefore(Hi.trimNode(Aa,b),a),da(a),e||c},bind:Y,unbind:Da,fire:function(a,c,e){return m.fire(a,
c,e)},getContentEditable:pa,getContentEditableParent:function(a){for(var c=r(),e=null;a&&a!==c&&null===(e=pa(a));a=a.parentNode);return e},destroy:function(){if(L)for(var a=L.length;a--;){var c=L[a];m.unbind(c[0],c[1],c[2])}ja.setDocument&&ja.setDocument()},isChildOf:function(a,c){for(;a;){if(c===a)return!0;a=a.parentNode}return!1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset}};
return e=Bo(l,c,function(){return Aa}),Aa}function R(){var a=this,c=[],e={},g={},b=[],d=function(a){var c;return g[a]&&(c=g[a].dependencies),c||[]},u=function(a,c){return"object"==typeof c?c:"string"==typeof a?{prefix:"",resource:c,suffix:""}:{prefix:a.prefix,resource:c,suffix:a.suffix}},v=function(a,c,e,g){a=d(a);og(a,function(a){a=u(c,a);f(a.resource,a,void 0,void 0)});e&&(g?e.call(g):e.call(Pb))},f=function(a,c,b,n,d){if(!e[a]){var t="string"==typeof c?c:c.prefix+c.resource+c.suffix;0!==t.indexOf("/")&&
-1===t.indexOf("://")&&(t=R.baseURL+"/"+t);e[a]=t.substring(0,t.lastIndexOf("/"));g[a]?v(a,c,b,n):Pb.ScriptLoader.add(t,function(){return v(a,c,b,n)},n,d)}};return{items:c,urls:e,lookup:g,_listeners:b,get:function(a){return g[a]?g[a].instance:void 0},dependencies:d,requireLangPack:function(a,c){var g=R.language;if(g&&!1!==R.languageLoad){if(c)if(-1!==(c=","+c+",").indexOf(","+g.substr(0,2)+","))g=g.substr(0,2);else if(-1===c.indexOf(","+g+","))return;Pb.ScriptLoader.add(e[a]+"/langs/"+g+".js")}},
add:function(a,e,n){c.push(e);g[a]={instance:e,dependencies:n};n=yi(b,function(c){return c.name===a});return b=n.fail,og(n.pass,function(a){a.callback()}),e},remove:function(a){delete e[a];delete g[a]},createUrl:u,addComponents:function(c,e){var g=a.urls[c];og(e,function(a){Pb.ScriptLoader.add(g+"/"+a)})},load:f,waitFor:function(a,c){g.hasOwnProperty(a)?c():b.push({name:a,callback:c})}}}function pa(a,c,e,g,b){return a(e,g)?m.some(e):Mb(b)&&b(e)?m.none():c(e,g,b)}function M(a,c,e){var g=function(){return e||
(e=Co(M(a,c))),e};return{container:Ga.constant(a),offset:Ga.constant(c),toRange:function(){var e;return(e=pg(a.ownerDocument)).setStart(a,c),e.setEnd(a,c),e},getClientRects:g,isVisible:function(){return 0<g().length},isAtStart:function(){return Ed(a),0===c},isAtEnd:function(){return Ed(a)?c>=a.data.length:c>=a.childNodes.length},isEqual:function(e){return e&&a===e.container()&&c===e.offset()},getNode:function(e){return ve(a,e?c-1:c)}}}function ea(a){var c,e=(c={},{register:function(a,e){c[a]={name:a,
settings:e}},lookup:function(a){return c.hasOwnProperty(a)?m.from(c[a]).map(function(a){return a.settings}):m.none()}});Do(a,e);var g=Eo(a);return{register:function(a,c){e.register(a,c)},annotate:function(c,g){e.lookup(c).each(function(e){Fo(a,c,e,g)})},annotationChanged:function(a,c){g.addListener(a,c)},remove:function(c){Ii(a,m.some(c)).each(function(a){U(a.elements,Ji)})},getAll:function(c){var e,g,b,n;c=(e=H.fromDom(a.getBody()),g=$a(e,"["+Fd()+'="'+c+'"]'),b={},U(g,function(a){var c=we(a,xe()),
e=b.hasOwnProperty(c)?b[c]:[];b[c]=e.concat([a])}),b);return n=function(a){return Ja(a,function(a){return a.dom()})},Go(c,function(a,c,e){return{k:c,v:n(a,c,e)}})}}}function da(a){var c,e,g,b,d,u=[];return c=(a=a||{}).indent,e=Ki(a.indent_before||""),g=Ki(a.indent_after||""),b=Ac.getEncodeFunc(a.entity_encoding||"raw",a.entities),d="html"===a.element_format,{start:function(a,n,t){var v,f;if(c&&e[a]&&0<u.length&&0<(f=u[u.length-1]).length&&"\n"!==f&&u.push("\n"),u.push("<",a),n){var G=0;for(v=n.length;G<
v;G++){var L=n[G];u.push(" ",L.name,'="',b(L.value,!0),'"')}}u[u.length]=!t||d?">":" />";t&&c&&g[a]&&0<u.length&&0<(f=u[u.length-1]).length&&"\n"!==f&&u.push("\n")},end:function(a){var e;u.push("</",a,">");c&&g[a]&&0<u.length&&0<(e=u[u.length-1]).length&&"\n"!==e&&u.push("\n")},text:function(a,c){0<a.length&&(u[u.length]=c?a:b(a))},cdata:function(a){u.push("<![CDATA[",a,"]]\x3e")},comment:function(a){u.push("\x3c!--",a,"--\x3e")},pi:function(a,e){e?u.push("<?",a," ",b(e),"?>"):u.push("<?",a,"?>");
c&&u.push("\n")},doctype:function(a){u.push("<!DOCTYPE",a,">",c?"\n":"")},reset:function(){u.length=0},getContent:function(){return u.join("").replace(/\n$/,"")}}}function qa(a,c){void 0===c&&(c=D());var e=da(a);return(a=a||{}).validate=!("validate"in a)||a.validate,{serialize:function(g){var b=a.validate;var d={3:function(a){e.text(a.value,a.raw)},8:function(a){e.comment(a.value)},7:function(a){e.pi(a.name,a.value)},10:function(a){e.doctype(a.value)},4:function(a){e.cdata(a.value)},11:function(a){if(a=
a.firstChild)for(;u(a),a=a.next;);}};e.reset();var u=function(a){var g,n,t,f,v,l,m,h;if(g=d[a.type])g(a);else{if(g=a.name,n=a.shortEnded,t=a.attributes,b&&t&&1<t.length&&((l=[]).map={},h=c.getElementRule(a.name))){var k=0;for(m=h.attributesOrder.length;k<m;k++)(f=h.attributesOrder[k])in t.map&&(v=t.map[f],l.map[f]=v,l.push({name:f,value:v}));k=0;for(m=t.length;k<m;k++)(f=t[k].name)in l.map||(v=t.map[f],l.map[f]=v,l.push({name:f,value:v}));t=l}if(e.start(a.name,t,n),!n){if(a=a.firstChild)for(;u(a),
a=a.next;);e.end(g)}}};return 1!==g.type||a.inner?d[11](g):u(g),e.getContent()}}}function ia(a){var c,e,g,b,d={state:{},exec:{},value:{}},u=a.settings;a.on("PreInit",function(){c=a.dom;e=a.selection;u=a.settings;g=a.formatter});var f=function(c){var e;if(!a.quirks.isHidden()&&!a.removed){if(c=c.toLowerCase(),e=d.state[c])return e(c);try{return a.getDoc().queryCommandState(c)}catch(ro){}return!1}},G=function(a,c){c=c||"exec";ye(a,function(a,e){ye(e.toLowerCase().split(","),function(e){d[c][e]=a})})},
L=function(c,e,g){c=c.toLowerCase();d.value[c]=function(){return e.call(g||a)}};Ho(this,{execCommand:function(c,e,g,b){var n,t=!1;if(!a.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(c)||b&&b.skip_focus?Io(a):a.focus(),(b=a.fire("BeforeExecCommand",{command:c,ui:e,value:g})).isDefaultPrevented())return!1;if(n=c.toLowerCase(),b=d.exec[n])return b(n,e,g),a.fire("ExecCommand",{command:c,ui:e,value:g}),!0;if(ye(a.plugins,function(b){if(b.execCommand&&b.execCommand(c,
e,g))return a.fire("ExecCommand",{command:c,ui:e,value:g}),!(t=!0)}),t)return t;if(a.theme&&a.theme.execCommand&&a.theme.execCommand(c,e,g))return a.fire("ExecCommand",{command:c,ui:e,value:g}),!0;try{t=a.getDoc().execCommand(c,e,g)}catch(zi){}return!!t&&(a.fire("ExecCommand",{command:c,ui:e,value:g}),!0)}},queryCommandState:f,queryCommandValue:function(c){var e;if(!a.quirks.isHidden()&&!a.removed){if(c=c.toLowerCase(),e=d.value[c])return e(c);try{return a.getDoc().queryCommandValue(c)}catch(ro){}}},
queryCommandSupported:function(c){if(c=c.toLowerCase(),d.exec[c])return!0;try{return a.getDoc().queryCommandSupported(c)}catch(Zb){}return!1},addCommands:G,addCommand:function(c,e,g){c=c.toLowerCase();d.exec[c]=function(c,b,n,d){return e.call(g||a,b,n,d)}},addQueryStateHandler:function(c,e,g){c=c.toLowerCase();d.state[c]=function(){return e.call(g||a)}},addQueryValueHandler:L,hasCustomCommand:function(a){return a=a.toLowerCase(),!!d.exec[a]}});var l=function(c,e,g){return void 0===e&&(e=!1),void 0===
g&&(g=null),a.getDoc().execCommand(c,e,g)},m=function(c,e){g.toggle(c,e?{value:e}:void 0);a.nodeChanged()};G({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){a.undoManager.add()},"Cut,Copy,Paste":function(c){var e=a.getDoc();try{l(c)}catch(la){var g=!0}if("paste"!==c||e.queryCommandEnabled(c)||(g=!0),g||!e.queryCommandSupported(c))c=a.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),
S.mac&&(c=c.replace(/Ctrl\+/g,"\u2318+")),a.notificationManager.open({text:c,type:"error"})},unlink:function(){if(e.isCollapsed()){var c=a.dom.getParent(a.selection.getStart(),"a");c&&a.dom.remove(c,!0)}else g.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(a){var c=a.substring(7);"full"===c&&(c="justify");ye(["left","center","right","justify"],function(a){c!==a&&g.remove("align"+a)});"none"!==c&&m("align"+c)},"InsertUnorderedList,InsertOrderedList":function(a){l(a);
if(a=c.getParent(e.getNode(),"ol,ul")){var g=a.parentNode;/^(H[1-6]|P|ADDRESS|PRE)$/.test(g.nodeName)&&(b=e.getBookmark(void 0),c.split(g,a),e.moveToBookmark(b))}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){m(a)},"ForeColor,HiliteColor":function(a,c,e){m(a,e)},FontName:function(c,e,g){a.formatter.toggle("fontname",{value:Li(a,g)});a.nodeChanged()},FontSize:function(c,e,g){a.formatter.toggle("fontsize",{value:Li(a,g)});a.nodeChanged()},RemoveFormat:function(a){g.remove(a)},
mceBlockQuote:function(){m("blockquote")},FormatBlock:function(a,c,e){return m(e||"p")},mceCleanup:function(){var c=e.getBookmark();a.setContent(a.getContent());e.moveToBookmark(c)},mceRemoveNode:function(c,g,n){c=n||e.getNode();c!==a.getBody()&&(b=e.getBookmark(void 0),a.dom.remove(c,!0),e.moveToBookmark(b))},mceSelectNodeDepth:function(g,b,n){var d=0;c.getParent(e.getNode(),function(a){if(1===a.nodeType&&d++===n)return e.select(a),!1},a.getBody())},mceSelectNode:function(a,c,g){e.select(g)},mceInsertContent:function(c,
e,g){var b;c="string"!=typeof g?(b=C.extend({paste:g.paste,data:{paste:g.paste}},g),{content:g.content,details:b}):{content:g,details:{}};Jo(a,c.content,c.details)},mceInsertRawHTML:function(c,g,b){e.setContent("tiny_mce_marker");c=a.getContent();a.setContent(c.replace(/tiny_mce_marker/g,function(){return b}))},mceToggleFormat:function(a,c,e){m(e)},mceSetContent:function(c,e,g){a.setContent(g)},"Indent,Outdent":function(c){Ko(a,c)},mceRepaint:function(){},InsertHorizontalRule:function(){a.execCommand("mceInsertContent",
!1,"<hr />")},mceToggleVisualAid:function(){a.hasVisual=!a.hasVisual;a.addVisual()},mceReplaceContent:function(c,g,b){a.execCommand("mceInsertContent",!1,b.replace(/\{\$selection\}/g,e.getContent({format:"text"})))},mceInsertLink:function(a,b,n){"string"==typeof n&&(n={href:n});a=c.getParent(e.getNode(),"a");n.href=n.href.replace(" ","%20");a&&n.href||g.remove("link");n.href&&g.apply("link",n,a)},selectAll:function(){var a=c.getParent(e.getStart(),B.isContentEditableTrue);if(a){var g=c.createRng();
g.selectNodeContents(a);e.setRng(g)}},"delete":function(){ze(a,!1)||Ae(a,!1)||Be(a,!1)||Ce(a)||De(a,!1)||(a.getDoc().execCommand("Delete",!1,null),Mi(a))},forwardDelete:function(){ze(a,!0)||Ae(a,!0)||Be(a,!0)||Ce(a)||De(a,!0)||a.getDoc().execCommand("ForwardDelete",!1,null)},mceNewDocument:function(){a.setContent("")},InsertLineBreak:function(c,e,g){return Ni(a,g),!0}});var h=function(a){return function(){var b=e.isCollapsed()?[c.getParent(e.getNode(),c.isBlock)]:e.getSelectedBlocks();b=Lo(b,function(c){return!!g.matchNode(c,
a)});return-1!==Mo(b,!0)}};G({JustifyLeft:h("alignleft"),JustifyCenter:h("aligncenter"),JustifyRight:h("alignright"),JustifyFull:h("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return g.match(a)},mceBlockQuote:function(){return g.match("blockquote")},Outdent:function(){var a;return u.inline_styles&&((a=c.getParent(e.getStart(),c.isBlock))&&0<parseInt(a.style.paddingLeft,10)||(a=c.getParent(e.getEnd(),c.isBlock))&&0<parseInt(a.style.paddingLeft,10))?!0:f("InsertUnorderedList")||
f("InsertOrderedList")||!u.inline_styles&&!!c.getParent(e.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var g=c.getParent(e.getNode(),"ul,ol");return g&&("insertunorderedlist"===a&&"UL"===g.tagName||"insertorderedlist"===a&&"OL"===g.tagName)}},"state");G({Undo:function(){a.undoManager.undo()},Redo:function(){a.undoManager.redo()}});L("FontName",function(){return Oi(c=a).fold(function(){return Pi(c).map(function(a){return Ee.getFontFamily(c.getBody(),a)}).getOr("")},
function(a){return Ee.getFontFamily(c.getBody(),a)});var c},this);L("FontSize",function(){return Oi(c=a).fold(function(){return Pi(c).map(function(a){return Ee.getFontSize(c.getBody(),a)}).getOr("")},function(a){return Ee.getFontSize(c.getBody(),a)});var c},this)}function Y(a){var c={},e=[],g=function(a){var c,e={};for(c in qg(rg(a,"+"),function(a){a in Qi?e[a]=!0:/^[0-9]{2,}$/.test(a)?e.keyCode=parseInt(a,10):(e.charCode=a.charCodeAt(0),e.keyCode=No[a]||a.toUpperCase().charCodeAt(0))}),a=[e.keyCode],
Qi)e[c]?a.push(c):e[c]=!1;return e.id=a.join(","),e.access&&(e.alt=!0,S.mac?e.ctrl=!0:e.shift=!0),e.meta&&(S.mac?e.meta=!0:(e.ctrl=!0,e.meta=!1)),e},b=function(c,e,b,n){var d;return(d=C.map(rg(c,">"),g))[d.length-1]=C.extend(d[d.length-1],{func:b,scope:n||a}),C.extend(d[0],{desc:a.translate(e),subpatterns:d.slice(1)})},d=function(a,c){return!!c&&c.ctrl===a.ctrlKey&&c.meta===a.metaKey&&c.alt===a.altKey&&c.shift===a.shiftKey&&!!(a.keyCode===c.keyCode||a.charCode&&a.charCode===c.charCode)&&(a.preventDefault(),
!0)},u=function(a){return a.func?a.func.call(a.scope):null};a.on("keyup keypress keydown",function(a){(a.altKey||a.ctrlKey||a.metaKey||"keydown"===a.type&&112<=a.keyCode&&123>=a.keyCode)&&!a.isDefaultPrevented()&&(qg(c,function(c){if(d(a,c))return e=c.subpatterns.slice(0),"keydown"===a.type&&u(c),!0}),d(a,e[0])&&(1===e.length&&"keydown"===a.type&&u(e[0]),e.shift()))});this.add=function(e,g,n,d){var t;return"string"==typeof(t=n)?n=function(){a.execCommand(t,!1,null)}:C.isArray(t)&&(n=function(){a.execCommand(t[0],
t[1],t[2])}),qg(rg(C.trim(e.toLowerCase())),function(a){a=b(a,g,n,d);c[a.id]=a}),!0};this.remove=function(a){a=b(a);return!!c[a.id]&&(delete c[a.id],!0)}}function P(a){var c=[],e=function(){var c,e=a.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():{open:c=function(){throw Error("Theme did not provide a NotificationManager implementation.");},close:c,reposition:c,getArgs:c}},g=function(){0<c.length&&e().reposition(c)},b=function(a){Tc(c,function(c){return c===a}).each(function(a){c.splice(a,
1)})},d=function(n){if(!a.removed&&Oo(a))return xa(c,function(a){return c=e().getArgs(a),g=n,!(c.type!==g.type||c.text!==g.text||c.progressBar||c.timeout||g.progressBar||g.timeout);var c,g}).getOrThunk(function(){a.editorManager.setActive(a);var d,t=e().open(n,function(){b(t);g()});return d=t,c.push(d),g(),t})};return a.on("SkinLoaded",function(){var c=a.settings.service_message;c&&d({text:c,type:"warning",timeout:0,icon:""})}),a.on("ResizeEditor ResizeWindow",function(){Za.requestAnimationFrame(g)}),
a.on("remove",function(){U(c.slice(),function(a){e().close(a)})}),{open:d,close:function(){m.from(c[0]).each(function(a){e().close(a);b(a);g()})},getNotifications:function(){return c}}}function va(a){var c=[],e=function(){var c,e=a.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():{open:c=function(){throw Error("Theme did not provide a WindowManager implementation.");},alert:c,confirm:c,close:c,getParams:c,setParams:c}},g=function(a,c){return function(){return c?c.apply(a,arguments):
void 0}},b=function(e){c.push(e);a.fire("OpenWindow",{win:e})},d=function(e){Tc(c,function(a){return a===e}).each(function(g){c.splice(g,1);a.fire("CloseWindow",{win:e});0===c.length&&a.focus()})},u=function(){return m.from(c[c.length-1])};return a.on("remove",function(){U(c.slice(0),function(a){e().close(a)})}),{windows:c,open:function(c,g){a.editorManager.setActive(a);Fe(a);c=e().open(c,g,d);return b(c),c},alert:function(a,c,n){a=e().alert(a,g(n||this,c),d);b(a)},confirm:function(a,c,n){a=e().confirm(a,
g(n||this,c),d);b(a)},close:function(){u().each(function(a){e().close(a);d(a)})},getParams:function(){return u().map(e().getParams).getOr(null)},setParams:function(a){u().each(function(c){e().setParams(c,a)})},getWindows:function(){return c}}}function Da(){return new (ub.getOrDie("XMLHttpRequest"))}function Aa(a,c){var e={},g=function(a,e,g,b){var n,d;(n=Da()).open("POST",c.url);n.withCredentials=c.credentials;n.upload.onprogress=function(a){b(a.loaded/a.total*100)};n.onerror=function(){g("Image upload failed due to a XHR Transport error. Code: "+
n.status)};n.onload=function(){var a,b,d;200>n.status||300<=n.status?g("HTTP Error: "+n.status):(a=JSON.parse(n.responseText))&&"string"==typeof a.location?e((b=c.basePath,d=a.location,b?b.replace(/\/$/,"")+"/"+d.replace(/^\//,""):d)):g("Invalid JSON: "+n.responseText)};(d=new FormData).append("file",a.blob(),a.filename());n.send(d)},b=function(a,c){return{url:"",blobInfo:a,status:!1,error:c}},d=function(a,c){C.each(e[a],function(a){a(c)});delete e[a]},u=function(g,n){return g=C.grep(g,function(c){return!a.isUploaded(c.blobUri())}),
kb.all(C.map(g,function(g){return a.isPending(g.blobUri())?(v=g.blobUri(),new kb(function(a){e[v]=e[v]||[];e[v].push(a)})):(t=g,u=c.handler,f=n,a.markPending(t.blobUri()),new kb(function(c){var e;try{u(t,function(g){e&&e.close();a.markUploaded(t.blobUri(),g);d(t.blobUri(),{url:g,blobInfo:t,status:!0});c({url:g,blobInfo:t,status:!0})},function(g){e&&e.close();a.removeFailed(t.blobUri());d(t.blobUri(),b(t,g));c(b(t,g))},function(a){0>a||100<a||(e||(e=f()),e.progressBar.value(a))})}catch(la){c(b(t,la.message))}}));
var t,u,f,v}))};return!1===Mb(c.handler)&&(c.handler=g),{upload:function(a,e){return c.url||c.handler!==g?u(a,e):new kb(function(a){a([])})}}}function Xa(a){var c,e,g,b,d,u,f,G,l,aa,m=(c=[],e=Ga.constant,g=function(a){var c,g,b;if(!a.blob||!a.base64)throw Error("blob and base64 representations of the image are required for BlobInfo to be created");return c=a.id||sg.uuid("blobid"),g=a.name||c,{id:e(c),name:e(g),filename:e(g+"."+(b=a.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif",
"image/png":"png"}[b.toLowerCase()]||"dat")),blob:e(a.blob),base64:e(a.base64),blobUri:e(a.blobUri||Vc.createObjectURL(a.blob)),uri:e(a.uri)}},{create:function(a,c,e,b){if(ib(a))return g({id:a,name:b,blob:c,base64:e});if(pe(a))return g(a);throw Error("Unknown input type");},add:function(a){b(a.id())||c.push(a)},get:b=function(a){return d(function(c){return c.id()===a})},getByUri:function(a){return d(function(c){return c.blobUri()===a})},findFirst:d=function(a){return W.filter(c,a)[0]},removeByUri:function(a){c=
W.filter(c,function(c){return c.blobUri()!==a||(Vc.revokeObjectURL(c.blobUri()),!1)})},destroy:function(){W.each(c,function(a){Vc.revokeObjectURL(a.blobUri())});c=[]}}),h=(G={},l=function(a,c){return{status:a,resultUri:c}},{hasBlobUri:aa=function(a){return a in G},getResultUri:function(a){return(a=G[a])?a.resultUri:null},isPending:function(a){return!!aa(a)&&1===G[a].status},isUploaded:function(a){return!!aa(a)&&2===G[a].status},markPending:function(a){G[a]=l(1,null)},markUploaded:function(a,c){G[a]=
l(2,c)},removeFailed:function(a){delete G[a]},destroy:function(){G={}}}),k=[],p=function(c){return function(e){return a.selection?c(e):[]}},q=function(a,c,e){for(var g=0;-1!==(g=a.indexOf(c,g))&&(a=a.substring(0,g)+e+a.substr(g+c.length),g+=e.length-c.length+1),-1!==g;);return a},la=function(a,c,e){return a=q(a,'src="'+c+'"','src="'+e+'"'),q(a,'data-mce-src="'+c+'"','data-mce-src="'+e+'"')},w=function(c,e){U(a.undoManager.data,function(a){"fragmented"===a.type?a.fragments=Ja(a.fragments,function(a){return la(a,
c,e)}):a.content=la(a.content,c,e)})},Ra=function(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},A=function(c){return u||(u=Aa(h,{url:a.getParam("images_upload_url","","string"),basePath:a.getParam("images_upload_base_path","","string"),credentials:a.getParam("images_upload_credentials",!1,"boolean"),handler:a.getParam("images_upload_handler",null,"function")})),r().then(p(function(e){var g;return g=Ja(e,function(a){return a.blobInfo}),
u.upload(g,Ra).then(p(function(g){g=Ja(g,function(c,g){g=e[g].image;if(c.status&&a.getParam("images_replace_blob_uris",!0,"boolean")){var b=c.url;m.removeByUri(g.src);w(g.src,b);a.$(g).attr({src:a.getParam("images_reuse_filename",!1,"boolean")?b+"?"+(new Date).getTime():b,"data-mce-src":a.convertURL(b,"src")})}else c.error&&tg(a,"Failed to upload image: "+c.error);return{element:g,status:c.status}});return c&&c(g),g}))}))},x=function(c){if(Ri(a))return A(c)},D=function(c){return!1!==lg(k,function(a){return a(c)})&&
(0!==c.getAttribute("src").indexOf("data:")||a.getParam("images_dataimg_filter",F(!0),"function")(c))},r=function(){var c;return f||(c={},f={findAll:function(a,e){e||(e=Ga.constant(!0));a=W.filter(a?a.getElementsByTagName("img"):[],function(a){var c=a.src;return!!S.fileApi&&!a.hasAttribute("data-mce-bogus")&&!a.hasAttribute("data-mce-placeholder")&&!(!c||c===S.transparentSrc)&&(0===c.indexOf("blob:")?!h.isUploaded(c)&&e(a):0===c.indexOf("data:")&&e(a))});a=W.map(a,function(a){if(c[a.src])return new kb(function(e){c[a.src].then(function(c){if("string"==
typeof c)return c;e({image:a,blobInfo:c.blobInfo})})});var e=(new kb(function(c,e){Po(m,a,c,e)})).then(function(a){return delete c[a.image.src],a})["catch"](function(e){return delete c[a.src],e});return c[a.src]=e});return kb.all(a)}}),f.findAll(a.getBody(),D).then(p(function(c){return c=Ka(c,function(c){return"string"!=typeof c||(Qo(a,c),!1)}),U(c,function(a){w(a.image.src,a.blobInfo.blobUri());a.image.src=a.blobInfo.blobUri();a.image.removeAttribute("data-mce-src")}),c}))},T=function(c){return c.replace(/src="(blob:[^"]+)"/g,
function(c,e){var g=h.getResultUri(e);if(g)return'src="'+g+'"';g=m.getByUri(e);return g||(g=Yb(a.editorManager.get(),function(a,c){return a||c.editorUpload&&c.editorUpload.blobCache.getByUri(e)},null)),g?'src="data:'+g.blob().type+";base64,"+g.base64()+'"':c})};return a.on("setContent",function(){Ri(a)?x():r()}),a.on("RawSaveContent",function(a){a.content=T(a.content)}),a.on("getContent",function(a){a.source_view||"raw"===a.format||(a.content=T(a.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",
function(a){U(a,function(a){var c=a.attr("src");m.getByUri(c)||(c=h.getResultUri(c))&&a.attr("src",c)})})}),{blobCache:m,addFilter:function(a){k.push(a)},uploadImages:A,uploadImagesAuto:x,scanForImages:r,destroy:function(){m.destroy();h.destroy();f=u=null}}}function jb(a){var c,e=[];"onselectionchange"in a.getDoc()||a.on("NodeChange Click MouseUp KeyUp Focus",function(e){var g;var b={startContainer:(g=a.selection.getRng()).startContainer,startOffset:g.startOffset,endContainer:g.endContainer,endOffset:g.endOffset};
"nodechange"!==e.type&&ug(b,c)||a.fire("SelectionChange");c=b});a.on("contextmenu",function(){a.fire("SelectionChange")});a.on("SelectionChange",function(){var c=a.selection.getStart(!0);if(c&&(S.range||!a.selection.isCollapsed())){var b;if(b=vg(a)){a:{var d;if((d=a.$(c).parentsUntil(a.getBody()).add(c)).length===e.length){for(b=d.length;0<=b&&d[b]===e[b];b--);if(-1===b){b=(e=d,!0);break a}}b=(e=d,!1)}b=!b}b&&a.dom.isChildOf(c,a.getBody())&&a.nodeChanged({selectionChange:!0})}});a.on("MouseUp",function(c){!c.isDefaultPrevented()&&
vg(a)&&("IMG"===a.selection.getNode().nodeName?Za.setEditorTimeout(a,function(){a.nodeChanged()}):a.nodeChanged())});this.nodeChanged=function(c){var e,g,b,d=a.selection;a.initialized&&d&&!a.settings.disable_nodechange&&!a.readonly&&(b=a.getBody(),(e=d.getStart(!0)||b).ownerDocument===a.getDoc()&&a.dom.isChildOf(e,b)||(e=b),g=[],a.dom.getParent(e,function(a){if(a===b)return!0;g.push(a)}),(c=c||{}).element=e,c.parents=g,a.fire("NodeChange",c))}}function Ya(a,c){void 0===c&&(c=D());var e=function(){};
!1!==(a=a||{}).fix_self_closing&&(a.fix_self_closing=!0);var g=a.comment?a.comment:e,b=a.cdata?a.cdata:e,d=a.text?a.text:e,u=a.start?a.start:e,f=a.end?a.end:e,G=a.pi?a.pi:e,l=a.doctype?a.doctype:e;return{parse:function(e){var n,t,v,L,aa,m,h,k,p,q,w,A,x,D,r,T,P;var F=0;var y=[],z=0,M=Ac.decode,Z=C.makeMap("src,href,data,background,formaction,poster,xlink:href"),fa=/((java|vb)script|mhtml):/i,B=function(a){var c,e;for(c=y.length;c--&&y[c].name!==a;);if(0<=c){for(e=y.length-1;c<=e;e--)(a=y[e]).valid&&
f(a.name);y.length=c}},R=function(c,e,g,b,n){var d,t,u;if(g=(e=e.toLowerCase())in ra?e:M(g||b||n||""),ia&&!m&&0==(0===(d=e).indexOf("data-")||0===d.indexOf("aria-"))){if(!(c=w[e])&&A){for(b=A.length;b--&&!(c=A[b]).pattern.test(e););-1===b&&(c=null)}if(!c||c.validValues&&!(g in c.validValues))return}if(Z[e]&&!a.allow_script_urls){c=g.replace(/[\s\u0000-\u001F]+/g,"");try{c=decodeURIComponent(c)}catch(iu){c=unescape(c)}if(fa.test(c)||(u=c,!(t=a).allow_html_data_urls&&(/^data:image\//i.test(u)?!1===
t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(u):/^data:/i.test(u))))return}m&&(e in Z||0===e.indexOf("on"))||(L.map[e]=g,L.push({name:e,value:g}))};var K=/<(?:(?:!--([\w\W]*?)--\x3e)|(?:!\[CDATA\[([\w\W]*?)\]\]>)|(?:!DOCTYPE([\w\W]*?)>)|(?:\?([^\s\/<>]+) ?([\w\W]*?)[?/]>)|(?:\/([A-Za-z][A-Za-z0-9\-_\:\.]*)>)|(?:([A-Za-z][A-Za-z0-9\-_\:\.]*)((?:\s+[^"'>]+(?:(?:"[^"]*")|(?:'[^']*')|[^>]*))*|\/|\s+)>))/g;var E=/([\w:\-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g;var O=c.getShortEndedElements();
var H=a.self_closing_elements||c.getSelfClosingElements();var ra=c.getBoolAttrs();var ia=a.validate;var I=a.remove_internals;var da=a.fix_self_closing;var va=c.getSpecialElements();for(T=e+">";n=K.exec(T);){if(F<n.index&&d(M(e.substr(F,n.index-F))),t=n[6])":"===(t=t.toLowerCase()).charAt(0)&&(t=t.substr(1)),B(t);else if(t=n[7]){if(n.index+n[0].length>e.length){d(M(e.substr(n.index)));F=n.index+n[0].length;continue}if(":"===(t=t.toLowerCase()).charAt(0)&&(t=t.substr(1)),F=t in O,da&&H[t]&&0<y.length&&
y[y.length-1].name===t&&B(t),!ia||(h=c.getElementRule(t))){if(k=!0,ia&&(w=h.attributes,A=h.attributePatterns),(q=n[8])?((m=-1!==q.indexOf("data-mce-type"))&&I&&(k=!1),(L=[]).map={},q.replace(E,R)):(L=[]).map={},ia&&!m){if(x=h.attributesRequired,D=h.attributesDefault,r=h.attributesForced,h.removeEmptyAttrs&&!L.length&&(k=!1),r)for(v=r.length;v--;){var ea=(p=r[v]).name;"{$uid}"===(P=p.value)&&(P="mce_"+z++);L.map[ea]=P;L.push({name:ea,value:P})}if(D)for(v=D.length;v--;)(ea=(p=D[v]).name)in L.map||("{$uid}"===
(P=p.value)&&(P="mce_"+z++),L.map[ea]=P,L.push({name:ea,value:P}));if(x){for(v=x.length;v--&&!(x[v]in L.map););-1===v&&(k=!1)}if(p=L.map["data-mce-bogus"]){if("all"===p){F=Si(c,e,K.lastIndex);K.lastIndex=F;continue}k=!1}}k&&u(t,L,F)}else k=!1;if(v=va[t]){v.lastIndex=F=n.index+n[0].length;(n=v.exec(e))?(k&&(aa=e.substr(F,n.index-F)),F=n.index+n[0].length):(aa=e.substr(F),F=e.length);k&&(0<aa.length&&d(aa,!0),f(t));K.lastIndex=F;continue}F||(q&&q.indexOf("/")===q.length-1?k&&f(t):y.push({name:t,valid:k}))}else(t=
n[1])?(">"===t.charAt(0)&&(t=" "+t),a.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),g(t)):(t=n[2])?b(t.replace(/\x3c!--|--\x3e/g,"")):(t=n[3])?l(t):(t=n[4])&&G(t,n[5]);F=n.index+n[0].length}F<e.length&&d(M(e.substr(F)));for(v=y.length-1;0<=v;v--)(t=y[v]).valid&&f(t.name)}}}function ma(a){var c,e,g=this,b=0,d=[],u=0,f=function(a){0===u&&(g.typing=a)},G=function(a){f(!1);g.add({},a)};return a.on("init",function(){g.add()}),a.on("BeforeExecCommand",function(a){a=a.command;
"Undo"!==a&&"Redo"!==a&&"mceRepaint"!==a&&(g.typing&&(f(!1),g.add()),g.beforeChange())}),a.on("ExecCommand",function(a){var c=a.command;"Undo"!==c&&"Redo"!==c&&"mceRepaint"!==c&&G(a)}),a.on("ObjectResizeStart Cut",function(){g.beforeChange()}),a.on("SaveContent ObjectResized blur",G),a.on("DragEnd",G),a.on("KeyUp",function(c){var b=c.keyCode;c.isDefaultPrevented()||((33<=b&&36>=b||37<=b&&40>=b||45===b||c.ctrlKey)&&(G(),a.nodeChanged()),46!==b&&8!==b||a.nodeChanged(),e&&g.typing&&!1===wg(xg(a),d[0])&&
(!1===a.isDirty()&&(a.setDirty(!0),a.fire("change",{level:d[0],lastLevel:null})),a.fire("TypingUndo"),e=!1,a.nodeChanged()))}),a.on("KeyDown",function(a){var c=a.keyCode;if(!a.isDefaultPrevented())if(33<=c&&36>=c||37<=c&&40>=c||45===c)g.typing&&G(a);else{var b=a.ctrlKey&&!a.altKey||a.metaKey;!(16>c||20<c)||224===c||91===c||g.typing||b||(g.beforeChange(),f(!0),g.add({},a),e=!0)}}),a.on("MouseDown",function(a){g.typing&&G(a)}),a.on("input",function(a){a.inputType&&("insertReplacementText"===a.inputType||
"insertText"===a.inputType&&null===a.data)&&G(a)}),a.addShortcut("meta+z","","Undo"),a.addShortcut("meta+y,meta+shift+z","","Redo"),a.on("AddUndo Undo Redo ClearUndos",function(c){c.isDefaultPrevented()||a.nodeChanged()}),g={data:d,typing:!1,beforeChange:function(){0===u&&(c=Zc.getUndoBookmark(a.selection))},add:function(e,g){var n,t,f=a.settings;if((n=xg(a),e=e||{},e=C.extend(e,n),!1===(0===u)||a.removed)||(t=d[b],a.fire("BeforeAddUndo",{level:e,lastLevel:t,originalEvent:g}).isDefaultPrevented())||
t&&wg(t,e))return null;if(d[b]&&(d[b].beforeBookmark=c),f.custom_undo_redo_levels&&d.length>f.custom_undo_redo_levels){for(n=0;n<d.length-1;n++)d[n]=d[n+1];d.length--;b=d.length}e.bookmark=Zc.getUndoBookmark(a.selection);b<d.length-1&&(d.length=b+1);d.push(e);b=d.length-1;g={level:e,lastLevel:t,originalEvent:g};a.fire("AddUndo",g);0<b&&(a.setDirty(!0),a.fire("change",g));return e},undo:function(){g.typing&&(g.add(),g.typing=!1,f(!1));if(0<b){var c=d[--b];yg(a,c,!0);a.setDirty(!0);a.fire("undo",{level:c})}return c},
redo:function(){if(b<d.length-1){var c=d[++b];yg(a,c,!1);a.setDirty(!0);a.fire("redo",{level:c})}return c},clear:function(){d=[];b=0;g.typing=!1;g.data=d;a.fire("ClearUndos")},hasUndo:function(){return 0<b||g.typing&&d[0]&&!wg(xg(a),d[0])},hasRedo:function(){return b<d.length-1&&!g.typing},transact:function(a){g.typing&&(f(!1),g.add());return g.beforeChange(),g.ignore(a),g.add()},ignore:function(a){try{u++,a()}finally{u--}},extra:function(c,e){var n,t;g.transact(c)&&(t=d[b].bookmark,n=d[b-1],yg(a,
n,!0),g.transact(e)&&(d[b-1].beforeBookmark=t))}}}function Ta(a){var c,e,g=(c={},(e=function(a,g){a&&("string"!=typeof a?C.each(a,function(a,c){e(c,a)}):(g=g.length?g:[g],C.each(g,function(a){"undefined"==typeof a.deep&&(a.deep=!a.selector);"undefined"==typeof a.split&&(a.split=!a.selector||a.inline);"undefined"==typeof a.remove&&a.selector&&!a.inline&&(a.remove="none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"==typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),c[a]=g))})(Ro.get(a.dom)),
e(a.settings.formats),{get:function(a){return a?c[a]:c},register:e,unregister:function(a){return a&&c[a]&&delete c[a],c}}),b=bc(null);return So(a),To(a),{get:g.get,register:g.register,unregister:g.unregister,apply:K(Ti.applyFormat,a),remove:K(Ui,a),toggle:K(Uo,a,g),match:K(lb.match,a),matchAll:K(lb.matchAll,a),matchNode:K(lb.matchNode,a),canApply:K(lb.canApply,a),formatChanged:K(Vo,a,b),getCssText:K(Wo,a)}}function Ba(a,c){void 0===c&&(c=D());var e={},g=[],b={},d={};(a=a||{}).validate=!("validate"in
a)||a.validate;a.root_name=a.root_name||"body";var u=function(a){var c,n,t;n in e&&((t=b[n])?t.push(a):b[n]=[a]);for(c=g.length;c--;)(n=g[c].name)in a.attributes.map&&((t=d[n])?t.push(a):d[n]=[a]);return a},f={schema:c,addAttributeFilter:function(a,c){Vi(Wi(a),function(a){var e;for(e=0;e<g.length;e++)if(g[e].name===a)return void g[e].callbacks.push(c);g.push({name:a,callbacks:[c]})})},getAttributeFilters:function(){return[].concat(g)},addNodeFilter:function(a,c){Vi(Wi(a),function(a){var g=e[a];g||
(e[a]=g=[]);g.push(c)})},getNodeFilters:function(){var a=[],c;for(c in e)e.hasOwnProperty(c)&&a.push({name:c,callbacks:e[c]});return a},filterNode:u,parse:function(n,t){var f,v,G,l,L=[];t=t||{};b={};d={};var m=Xo(Xi("script,style,head,html,body,title,meta,param"),c.getBlockElements());var h=c.getNonEmptyElements(),k=c.children,p=a.validate,q="forced_root_block"in t?t.forced_root_block:a.forced_root_block,w=c.getWhiteSpaceElements(),A=/^[ \t\r\n]+/,x=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,r=/^[ \t\r\n]+$/;
var T=w.hasOwnProperty(t.context)||w.hasOwnProperty(a.root_name);var P=function(a,c){var g;c=new ab(a,c);return a in e&&((g=b[a])?g.push(c):b[a]=[c]),c},F=function(a){var e,g=c.getBlockElements();for(a=a.prev;a&&3===a.type;){if(0<(e=a.value.replace(x,"")).length)return void(a.value=e);if(e=a.next){if(3===e.type&&e.value.length){a=a.prev;continue}if(!g[e.name]&&"script"!==e.name&&"style"!==e.name){a=a.prev;continue}}e=a.prev;a.remove();a=e}};var y=zg({validate:p,allow_script_urls:a.allow_script_urls,
allow_conditional_comments:a.allow_conditional_comments,self_closing_elements:function(a){var c,e={};for(c in a)"li"!==c&&"p"!==c&&(e[c]=a[c]);return e}(c.getSelfClosingElements()),cdata:function(a){l.append(P("#cdata",4)).value=a},text:function(a,c){var e;if(!T){a=a.replace(D," ");var g=l.lastChild;g&&(m[g.name]||"br"===g.name)&&(a=a.replace(A,""))}0!==a.length&&((e=P("#text",3)).raw=!!c,l.append(e).value=a)},comment:function(a){l.append(P("#comment",8)).value=a},pi:function(a,c){l.append(P(a,7)).value=
c;F(l)},doctype:function(a){l.append(P("#doctype",10)).value=a;F(l)},start:function(a,e,b){var n,t,u;if(n=p?c.getElementRule(a):{}){(n=P(n.outputName||a,1)).attributes=e;n.shortEnded=b;l.append(n);(t=k[l.name])&&k[n.name]&&!t[n.name]&&L.push(n);for(t=g.length;t--;)(u=g[t].name)in e.map&&((M=d[u])?M.push(n):d[u]=[n]);m[a]&&F(n);b||(l=n);!T&&w[a]&&(T=!0)}},end:function(e){var g,b,n,d;if(b=p?c.getElementRule(e):{}){if(m[e]&&!T){if((g=l.firstChild)&&3===g.type)if(0<(n=g.value.replace(A,"")).length)g.value=
n,g=g.next;else{var u=g.next;g.remove();for(g=u;g&&3===g.type;)n=g.value,u=g.next,(0===n.length||r.test(n))&&g.remove(),g=u}if((g=l.lastChild)&&3===g.type)if(0<(n=g.value.replace(x,"")).length)g.value=n;else for(u=g.prev,g.remove(),g=u;g&&3===g.type;)n=g.value,u=g.prev,(0===n.length||r.test(n))&&g.remove(),g=u}if(T&&w[e]&&(T=!1),b.removeEmpty&&Gd(c,h,w,l)&&!l.attributes.map.name&&!l.attr("id"))return d=l.parent,m[l.name]?l.empty().remove():l.unwrap(),void(l=d);if(e=b.paddEmpty)e=(e=l)&&e.firstChild&&
e.firstChild===e.lastChild&&"#text"===e.firstChild.name&&"\u00a0"===e.firstChild.value||Gd(c,h,w,l);e&&Yi(a,t,m,l);l=l.parent}}},c);var z=l=new ab(t.context||a.root_name,11);if(y.parse(n),p&&L.length&&(t.context?t.invalid=!0:function(a){var e,g,b,n,d,t,f;var v=Xi("tr,td,th,tbody,thead,tfoot,table");var G=c.getNonEmptyElements();var l=c.getWhiteSpaceElements();var L=c.getTextBlockElements();var m=c.getSpecialElements();for(e=0;e<a.length;e++)if((g=a[e]).parent&&!g.fixed)if(L[g.name]&&"li"===g.parent.name){for(f=
g.next;f&&L[f.name];)f.name="li",f.fixed=!0,g.parent.insert(f,g.parent),f=f.next;g.unwrap(g)}else{var h=[g];for(b=g.parent;b&&!c.isValidChild(b.name,g.name)&&!v[b.name];b=b.parent)h.push(b);if(b&&1<h.length){h.reverse();var aa=n=u(h[0].clone());for(t=0;t<h.length-1;t++){c.isValidChild(n.name,h[t].name)?(d=u(h[t].clone()),n.append(d)):d=n;for(n=h[t].firstChild;n&&n!==h[t+1];){var k=n.next;d.append(n);n=k}n=d}Gd(c,G,l,aa)?b.insert(g,h[0],!0):(b.insert(aa,h[0],!0),b.insert(g,aa));b=h[0];(Gd(c,G,l,b)||
b&&b.firstChild&&b.firstChild===b.lastChild&&"br"===b.firstChild.name)&&b.empty().remove()}else g.parent&&("li"===g.name?!(f=g.prev)||"ul"!==f.name&&"ul"!==f.name?!(f=g.next)||"ul"!==f.name&&"ul"!==f.name?g.wrap(u(new ab("ul",1))):f.insert(g,f.firstChild,!0):f.append(g):c.isValidChild(g.parent.name,"div")&&c.isValidChild("div",g.name)?g.wrap(u(new ab("div",1))):m[g.name]?g.empty().remove():g.unwrap())}}(L)),q&&("body"===z.name||t.isRootContent)&&function(){var e,g=z.firstChild,b=function(a){a&&((g=
a.firstChild)&&3===g.type&&(g.value=g.value.replace(A,"")),(g=a.lastChild)&&3===g.type&&(g.value=g.value.replace(x,"")))};if(c.isValidChild(z.name,q.toLowerCase())){for(;g;){var n=g.next;3===g.type||1===g.type&&"p"!==g.name&&!m[g.name]&&!g.attr("data-mce-type")?(e||((e=P(q,1)).attr(a.forced_root_block_attrs),z.insert(e,g)),e.append(g)):(b(e),e=null);g=n}b(e)}}(),!t.invalid){for(G in b){var M=e[G];for(v=(n=b[G]).length;v--;)n[v].parent||n.splice(v,1);y=0;for(f=M.length;y<f;y++)M[y](n,G,t)}y=0;for(f=
g.length;y<f;y++)if((M=g[y]).name in d){for(v=(n=d[M.name]).length;v--;)n[v].parent||n.splice(v,1);v=0;for(G=M.callbacks.length;v<G;v++)M.callbacks[v](n,M.name,t)}}return z}};return Yo(f,a),Zo.register(f,a),f}function Ea(a,c){var e,g,b,d,u=(d=["data-mce-selected"],e=c&&c.dom?c.dom:ua.DOM,g=c&&c.schema?c.schema:D(a),a.entity_encoding=a.entity_encoding||"named",a.remove_trailing_brs=!("remove_trailing_brs"in a)||a.remove_trailing_brs,b=Ba(a,g),Zi.register(b,a,e),{schema:g,addNodeFilter:b.addNodeFilter,
addAttributeFilter:b.addAttributeFilter,serialize:function(n,d){d=Hd({format:"html"},d||{});n=$o.process(c,n,d);var t=cc(d.getInner?n.innerHTML:e.getOuterHTML(n));n=d.selection||Ge(H.fromDom(n))?t:C.trim(t);t=d.selection?Hd({forced_root_block:!1},d):d;n=b.parse(n,t);n=(Zi.trimTrailingBr(n),n);"tree"===d.format?d=n:(n=qa(a,g).serialize(n),!d.no_events&&c?(d=Hd(d,{content:n}),d=c.fire("PostProcess",d).content):d=n);return d},addRules:function(a){g.addValidElements(a)},setRules:function(a){g.setValidElements(a)},
addTempAttr:K(ap,b,d),getTempAttrs:function(){return d}});return{schema:u.schema,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:u.serialize,addRules:u.addRules,setRules:u.setRules,addTempAttr:u.addTempAttr,getTempAttrs:u.getTempAttrs}}function V(a){return{getBookmark:K(bp,a),moveToBookmark:K(cp,a)}}function Lb(a){var c,e,g,b=C.each,d=ha.BACKSPACE,u=ha.DELETE,f=a.dom,G=a.selection,l=a.settings,m=a.parser,h=S.gecko,k=S.webkit,p=S.ie?"Text":"URL",q=function(c,e){try{a.getDoc().execCommand(c,
!1,e)}catch(to){}},w=function(){a.shortcuts.add("meta+a",null,"SelectAll")},la=function(){a.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===d&&G.isCollapsed()&&0===G.getRng().startOffset){var c=G.getNode().previousSibling;if(c&&c.nodeName&&"table"===c.nodeName.toLowerCase())return a.preventDefault(),!1}})},A=function(){a.inline||(a.contentStyles.push("body {min-height: 150px}"),a.on("click",function(c){if("HTML"===c.target.nodeName){if(11<S.ie)return void a.getBody().focus();c=a.selection.getRng();
a.getBody().focus();a.selection.setRng(c);a.selection.normalize();a.nodeChanged()}}))};return a.on("keydown",function(c){var e,g,b,n,d;if(!c.isDefaultPrevented()&&c.keyCode===ha.BACKSPACE&&(g=(e=G.getRng()).startContainer,b=e.startOffset,n=f.getRoot(),d=g,e.collapsed&&0===b)){for(;d&&d.parentNode&&d.parentNode.firstChild===d&&d.parentNode!==n;)d=d.parentNode;"BLOCKQUOTE"===d.tagName&&(a.formatter.toggle("blockquote",null,d),(e=f.createRng()).setStart(g,0),e.setEnd(g,0),G.setRng(e))}}),c=function(a){var c=
f.create("body");a=a.cloneContents();return c.appendChild(a),G.serializer.serialize(c,{format:"html"})},a.on("keydown",function(e){var g,b,n,t,v,G=e.keyCode;e.isDefaultPrevented()||G!==u&&G!==d||(g=a.selection.isCollapsed(),b=a.getBody(),g&&!f.isEmpty(b))||!g&&(n=a.selection.getRng(),t=c(n),(v=f.createRng()).selectNode(a.getBody()),t!==c(v))||(e.preventDefault(),a.setContent(""),b.firstChild&&f.isBlock(b.firstChild)?a.selection.setCursorLocation(b.firstChild,0):a.selection.setCursorLocation(b,0),
a.nodeChanged())}),S.windowsPhone||a.on("keyup focusin mouseup",function(a){ha.modifierPressed(a)||G.normalize()},!0),k&&(a.settings.content_editable||f.bind(a.getDoc(),"mousedown mouseup",function(c){var e;c.target===a.getDoc().documentElement&&((e=G.getRng(),a.getBody().focus(),"mousedown"===c.type)?mb(e.startContainer)||G.placeCaretAt(c.clientX,c.clientY):G.setRng(e))}),a.on("click",function(c){var e=c.target;/^(IMG|HR)$/.test(e.nodeName)&&"false"!==f.getContentEditableParent(e)&&(c.preventDefault(),
a.selection.select(e),a.nodeChanged());"A"===e.nodeName&&f.hasClass(e,"mce-item-anchor")&&(c.preventDefault(),G.select(e))}),l.forced_root_block&&a.on("init",function(){q("DefaultParagraphSeparator",l.forced_root_block)}),a.on("init",function(){a.dom.bind(a.getBody(),"submit",function(a){a.preventDefault()})}),la(),m.addNodeFilter("br",function(a){for(var c=a.length;c--;)"Apple-interchange-newline"===a[c].attr("class")&&a[c].remove()}),S.iOS?(a.inline||a.on("keydown",function(){document.activeElement===
document.body&&a.getWin().focus()}),A(),a.on("click",function(a){var c=a.target;do if("A"===c.tagName)return void a.preventDefault();while(c=c.parentNode)}),a.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):w()),11<=S.ie&&(A(),la()),S.ie&&(w(),q("AutoUrlDetect",!1),a.on("dragstart",function(c){var e,g;c.dataTransfer&&(a.selection.isCollapsed()&&"IMG"===c.target.tagName&&G.select(c.target),0<(e=a.selection.getContent()).length&&(g="data:text/mce-internal,"+escape(a.id)+","+escape(e),
c.dataTransfer.setData(p,g)))}),a.on("drop",function(c){if(!c.isDefaultPrevented()){var e=(g=c).dataTransfer&&(b=g.dataTransfer.getData(p))&&0<=b.indexOf("data:text/mce-internal,")?(b=b.substr(23).split(","),{id:unescape(b[0]),html:unescape(b[1])}):null;e&&e.id!==a.id&&(c.preventDefault(),c=Ag(c.x,c.y,a.getDoc()),G.setRng(c),e=e.html,c=!0,a.queryCommandSupported("mceInsertClipboardContent")?a.execCommand("mceInsertClipboardContent",!1,{content:e,internal:c}):a.execCommand("mceInsertContent",!1,e))}var g,
b})),h&&(a.on("keydown",function(c){if(!c.isDefaultPrevented()&&c.keyCode===d&&a.getBody().getElementsByTagName("hr").length&&G.isCollapsed()&&0===G.getRng().startOffset){var e=G.getNode(),g=e.previousSibling;if("HR"===e.nodeName)return f.remove(e),void c.preventDefault();g&&g.nodeName&&"hr"===g.nodeName.toLowerCase()&&(f.remove(g),c.preventDefault())}}),Range.prototype.getClientRects||a.on("mousedown",function(c){if(!c.isDefaultPrevented()&&"HTML"===c.target.nodeName){var e=a.getBody();e.blur();
Za.setEditorTimeout(a,function(){e.focus()})}}),e=function(){var c=f.getAttribs(G.getStart().cloneNode(!1));return function(){var e=G.getStart();e!==a.getBody()&&(f.setAttrib(e,"style",null),b(c,function(a){e.setAttributeNode(a.cloneNode(!0))}))}},g=function(){return!G.isCollapsed()&&f.getParent(G.getStart(),f.isBlock)!==f.getParent(G.getEnd(),f.isBlock)},a.on("keypress",function(c){var b;if(!c.isDefaultPrevented()&&(8===c.keyCode||46===c.keyCode)&&g())return b=e(),a.getDoc().execCommand("delete",
!1,null),b(),c.preventDefault(),!1}),f.bind(a.getDoc(),"cut",function(c){var b;!c.isDefaultPrevented()&&g()&&(b=e(),Za.setEditorTimeout(a,function(){b()}))}),l.readonly||a.on("BeforeExecCommand MouseDown",function(){q("StyleWithCSS",!1);q("enableInlineTableEditing",!1);l.object_resizing||q("enableObjectResizing",!1)}),a.on("SetContent ExecCommand",function(a){"setcontent"!==a.type&&"mceInsertLink"!==a.command||b(f.select("a"),function(a){var c=a.parentNode,e=f.getRoot();if(c.lastChild===a){for(;c&&
!f.isBlock(c);){if(c.parentNode.lastChild!==c||c===e)return;c=c.parentNode}f.add(c,"br",{"data-mce-bogus":1})}})}),a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),S.mac&&a.on("keydown",function(c){!ha.metaKeyPressed(c)||c.shiftKey||37!==c.keyCode&&39!==c.keyCode||(c.preventDefault(),a.selection.getSel().modify("move",37===c.keyCode?"backward":"forward","lineboundary"))}),la()),{refreshContentEditable:function(){},isHidden:function(){var c;return!h||
a.removed?0:!(c=a.selection.getSel())||!c.rangeCount||0===c.rangeCount}}}function Ia(a){return{walk:function(c,e){return He(a,c,e)},split:Ie,normalize:function(c){return Je(a,c).fold(F(!1),function(a){return c.setStart(a.startContainer,a.startOffset),c.setEnd(a.endContainer,a.endOffset),!0})}}}var rb,ba,ka,sa,yc,Oa,T=function(){for(var a=0;a<arguments.length;a++);},Z=function(a,c){return function(){for(var e=0;e<arguments.length;e++);return a(c.apply(null,arguments))}},F=function(a){return function(){return a}},
ra=function(a){return a},K=function(a){for(var c=1;c<arguments.length;c++);var e=Array(arguments.length-1);for(c=1;c<arguments.length;c++)e[c-1]=arguments[c];return function(){for(var c=0;c<arguments.length;c++);c=Array(arguments.length);for(var b=0;b<c.length;b++)c[b]=arguments[b];c=e.concat(c);return a.apply(null,c)}},sb=F(!1),Nb=F(!0),Cb=function(){return Xb},Xb=(sa={fold:function(a,c){return a()},is:sb,isSome:sb,isNone:Nb,getOr:ka=function(a){return a},getOrThunk:ba=function(a){return a()},getOrDie:function(a){throw Error(a||
"error: getOrDie called on none.");},getOrNull:function(){return null},getOrUndefined:function(){},or:ka,orThunk:ba,map:Cb,ap:Cb,each:function(){},bind:Cb,flatten:Cb,exists:sb,forall:Nb,filter:Cb,equals:rb=function(a){return a.isNone()},equals_:rb,toArray:function(){return[]},toString:F("none()")},Object.freeze&&Object.freeze(sa),sa),l=function(a){var c=function(){return a},e=function(){return b},g=function(c){return c(a)},b={fold:function(c,e){return e(a)},is:function(c){return a===c},isSome:Nb,
isNone:sb,getOr:c,getOrThunk:c,getOrDie:c,getOrNull:c,getOrUndefined:c,or:e,orThunk:e,map:function(c){return l(c(a))},ap:function(c){return c.fold(Cb,function(c){return l(c(a))})},each:function(c){c(a)},bind:g,flatten:c,exists:g,forall:g,filter:function(c){return c(a)?b:Xb},equals:function(c){return c.is(a)},equals_:function(c,e){return c.fold(sb,function(c){return e(a,c)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return b},m={some:l,none:Cb,from:function(a){return null===
a||void 0===a?Xb:l(a)}},w=function(a){return function(c){if(null===c)c="null";else{var e=typeof c;c="object"===e&&Array.prototype.isPrototypeOf(c)?"array":"object"===e&&String.prototype.isPrototypeOf(c)?"string":e}return c===a}},ib=w("string"),pe=w("object"),Sc=w("array"),fo=w("null"),ti=w("boolean"),Mb=w("function"),eg=w("number"),ui=void 0===(yc=Array.prototype.indexOf)?function(a,c){a:{for(var e=0,g=a.length;e<g;++e)if(a[e]===c){a=e;break a}a=-1}return a}:function(a,c){return yc.call(a,c)},se=
function(a,c){return-1<ui(a,c)},Ja=function(a,c){for(var e=a.length,g=Array(e),b=0;b<e;b++)g[b]=c(a[b],b,a);return g},U=function(a,c){for(var e=0,g=a.length;e<g;e++)c(a[e],e,a)},yi=function(a,c){for(var e=[],g=[],b=0,d=a.length;b<d;b++){var u=a[b];(c(u,b,a)?e:g).push(u)}return{pass:e,fail:g}},Ka=function(a,c){for(var e=[],g=0,b=a.length;g<b;g++){var d=a[g];c(d,g,a)&&e.push(d)}return e},Yb=function(a,c,e){return U(a,function(a){e=c(e,a)}),e},xa=function(a,c){for(var e=0,g=a.length;e<g;e++){var b=a[e];
if(c(b,e,a))return m.some(b)}return m.none()},Tc=function(a,c){for(var e=0,g=a.length;e<g;e++)if(c(a[e],e,a))return m.some(e);return m.none()},oo=Array.prototype.push,wa=function(a,c){a=Ja(a,c);c=[];for(var e=0,g=a.length;e<g;++e){if(!Array.prototype.isPrototypeOf(a[e]))throw Error("Arr.flatten item "+e+" was not an array, input: "+a);oo.apply(c,a[e])}return c},lg=function(a,c){for(var e=0,g=a.length;e<g;++e)if(!0!==c(a[e],e,a))return!1;return!0},kg=Array.prototype.slice,ta=function(a,c){return Ka(a,
function(a){return!se(c,a)})},Qa=function(a){return 0===a.length?m.none():m.some(a[0])},Pa=function(a){return 0===a.length?m.none():m.some(a[a.length-1])},go=Mb(Array.from)?Array.from:function(a){return kg.call(a)},Uc="undefined"!=typeof window?window:Function("return this;")(),ub={getOrDie:function(a,c){var e=a.split(".");c=void 0!==c&&null!==c?c:Uc;for(var g=0;g<e.length&&void 0!==c&&null!==c;++g)c=c[e[g]];e=c;if(void 0===e||null===e)throw a+" not available on this browser";return e}},Vc={createObjectURL:function(a){return ub.getOrDie("URL").createObjectURL(a)},
revokeObjectURL:function(a){ub.getOrDie("URL").revokeObjectURL(a)}},fg=navigator,tb=fg.userAgent;var qe=/Android/.test(tb);var wb=(wb=!(Oa=/WebKit/.test(tb))&&/MSIE/gi.test(tb)&&/Explorer/gi.test(fg.appName))&&/MSIE (\w+)\./.exec(tb)[1];var hg=-1!==tb.indexOf("Trident/")&&(-1!==tb.indexOf("rv:")||-1!==fg.appName.indexOf("Netscape"))&&11;var gg=-1!==tb.indexOf("Edge/")&&!wb&&!hg&&12;wb=wb||hg||gg;var ko=!Oa&&!hg&&/Gecko/.test(tb);var jo=-1!==tb.indexOf("Mac");var re=/(iPad|iPhone)/.test(tb);var vi=
"FormData"in window&&"FileReader"in window&&"URL"in window&&!!Vc.createObjectURL;var ho="matchMedia"in window&&matchMedia("only screen and (max-device-width: 480px)").matches&&(qe||re);var io="matchMedia"in window&&matchMedia("only screen and (min-width: 800px)").matches&&(qe||re);var lo=-1!==tb.indexOf("Windows Phone");gg&&(Oa=!1);var ig,S={opera:!1,webkit:Oa,ie:wb,gecko:ko,mac:jo,iOS:re,android:qe,contentEditable:!re||vi||534<=parseInt(tb.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
caretAfter:8!==wb,range:window.getSelection&&"Range"in window,documentMode:wb&&!gg?document.documentMode||7:10,fileApi:vi,ceFalse:!1===wb||8<wb,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===wb||11<wb,desktop:!ho&&!io,windowsPhone:lo},kb=window.Promise?window.Promise:function(){function a(a,c){return function(){a.apply(c,arguments)}}function c(a){var c=this;null!==this._state?l(function(){var e=c._state?a.onFulfilled:a.onRejected;if(null!==e){try{var g=
e(c._value)}catch(Zb){return void a.reject(Zb)}a.resolve(g)}else(c._state?a.resolve:a.reject)(c._value)}):this._deferreds.push(a)}function e(c){try{if(c===this)throw new TypeError("A promise cannot be resolved with itself.");if(c&&("object"==typeof c||"function"==typeof c)){var n=c.then;if("function"==typeof n)return void u(a(n,c),a(e,this),a(g,this))}this._state=!0;this._value=c;b.call(this)}catch(Eb){g.call(this,Eb)}}function g(a){this._state=!1;this._value=a;b.call(this)}function b(){for(var a=
0,e=this._deferreds.length;a<e;a++)c.call(this,this._deferreds[a]);this._deferreds=null}function d(a,c,e,g){this.onFulfilled="function"==typeof a?a:null;this.onRejected="function"==typeof c?c:null;this.resolve=e;this.reject=g}function u(a,c,e){var g=!1;try{a(function(a){g||(g=!0,c(a))},function(a){g||(g=!0,e(a))})}catch(Zb){g||(g=!0,e(Zb))}}var f=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},G=function(c){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");
if("function"!=typeof c)throw new TypeError("not a function");this._value=this._state=null;this._deferreds=[];u(c,a(e,this),a(g,this))},l=G.immediateFn||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)};return G.prototype["catch"]=function(a){return this.then(null,a)},G.prototype.then=function(a,e){var g=this;return new G(function(b,n){c.call(g,new d(a,e,b,n))})},G.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&f(arguments[0])?arguments[0]:arguments);
return new G(function(c,e){function g(n,d){try{if(d&&("object"==typeof d||"function"==typeof d)){var t=d.then;if("function"==typeof t)return void t.call(d,function(a){g(n,a)},e)}a[n]=d;0==--b&&c(a)}catch(zi){e(zi)}}if(0===a.length)return c([]);for(var b=a.length,n=0;n<a.length;n++)g(n,a[n])})},G.resolve=function(a){return a&&"object"==typeof a&&a.constructor===G?a:new G(function(c){c(a)})},G.reject=function(a){return new G(function(c,e){e(a)})},G.race=function(a){return new G(function(c,e){for(var g=
0,b=a.length;g<b;g++)a[g].then(c,e)})},G}(),jg=function(a,c){return"number"!=typeof c&&(c=0),setTimeout(a,c)},wi=function(a,c){return"number"!=typeof c&&(c=1),setInterval(a,c)},xi=function(a,c){var e,g;return(g=function(){var g=arguments;clearTimeout(e);e=jg(function(){a.apply(this,g)},c)}).stop=function(){clearTimeout(e)},g},Za={requestAnimationFrame:function(a,c){ig?ig.then(a):ig=(new kb(function(a){c||(c=document.body);(function(a,c){var e,g=window.requestAnimationFrame,b=["ms","moz","webkit"];
for(e=0;e<b.length&&!g;e++)g=window[b[e]+"RequestAnimationFrame"];g||(g=function(a){window.setTimeout(a,0)});g(a,c)})(a,c)})).then(a)},setTimeout:jg,setInterval:wi,setEditorTimeout:function(a,c,e){return jg(function(){a.removed||c()},e)},setEditorInterval:function(a,c,e){var g;return g=wi(function(){a.removed?clearInterval(g):c()},e)},debounce:xi,throttle:xi,clearInterval:function(a){return clearInterval(a)},clearTimeout:function(a){return clearTimeout(a)}},mo=/^(?:mouse|contextmenu)|click/,no={keyLocation:1,
layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},Ke=function(){return!1},Le=function(){return!0},Me=function(a,c,e,g){a.addEventListener?a.addEventListener(c,e,g||!1):a.attachEvent&&a.attachEvent("on"+c,e)},Bg=function(a,c,e,g){a.removeEventListener?a.removeEventListener(c,e,g||!1):a.detachEvent&&a.detachEvent("on"+c,e)},Id=function(a,c){var e=c||{};for(g in a)no[g]||(e[g]=a[g]);if(e.target||(e.target=e.srcElement||document),S.experimentalShadowDom&&(e.target=function(a,
c){return a.composedPath&&(a=a.composedPath())&&0<a.length?a[0]:c}(a,e.target)),a&&mo.test(a.type)&&void 0===a.pageX&&void 0!==a.clientX){var g=e.target.ownerDocument||document;c=g.documentElement;g=g.body;e.pageX=a.clientX+(c&&c.scrollLeft||g&&g.scrollLeft||0)-(c&&c.clientLeft||g&&g.clientLeft||0);e.pageY=a.clientY+(c&&c.scrollTop||g&&g.scrollTop||0)-(c&&c.clientTop||g&&g.clientTop||0)}return e.preventDefault=function(){e.isDefaultPrevented=Le;a&&(a.preventDefault?a.preventDefault():a.returnValue=
!1)},e.stopPropagation=function(){e.isPropagationStopped=Le;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)},!(e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=Le;e.stopPropagation()})==(e.isDefaultPrevented===Le||e.isDefaultPrevented===Ke)&&(e.isDefaultPrevented=Ke,e.isPropagationStopped=Ke,e.isImmediatePropagationStopped=Ke),"undefined"==typeof e.metaKey&&(e.metaKey=!1),e},dp=function(a,c,e){var g=a.document,b={type:"ready"};if(e.domLoaded)c(b);else{var d=function(){return"complete"===
g.readyState||"interactive"===g.readyState&&g.body},u=function(){e.domLoaded||(e.domLoaded=!0,c(b))},f=function(){d()&&(Bg(g,"readystatechange",f),u())},G=function(){try{g.documentElement.doScroll("left")}catch(L){return void Za.setTimeout(G)}u()};!g.addEventListener||S.ie&&11>S.ie?(Me(g,"readystatechange",f),g.documentElement.doScroll&&a.self===a.top&&G()):d()?u():Me(a,"DOMContentLoaded",u);Me(a,"load",u)}},Ob=function(){var a=this,c={};var e="mce-data-"+(+new Date).toString(32);var g="onmouseenter"in
document.documentElement;var b="onfocusin"in document.documentElement;var d={mouseenter:"mouseover",mouseleave:"mouseout"};var u=1;a.domLoaded=!1;a.events=c;var f=function(a,e){var g,b;if(e=(e=c[e])&&e[a.type]){var n=0;for(g=e.length;n<g&&((b=e[n])&&!1===b.func.call(b.scope,a)&&a.preventDefault(),!a.isImmediatePropagationStopped());n++);}};a.bind=function(n,t,v,l){var G,m,L,h,k,aa=window,p=function(a){f(Id(a||aa.event),G)};if(n&&3!==n.nodeType&&8!==n.nodeType){n[e]?G=n[e]:(G=u++,n[e]=G,c[G]={});l=
l||n;for(L=(t=t.split(" ")).length;L--;){var q=p;var xb=k=!1;"DOMContentLoaded"===(h=t[L])&&(h="ready");a.domLoaded&&"ready"===h&&"complete"===n.readyState?v.call(l,Id({type:h})):(g||(xb=d[h])&&(q=function(a){var c,e;if(c=a.currentTarget,(e=a.relatedTarget)&&c.contains)e=c.contains(e);else for(;e&&e!==c;)e=e.parentNode;e||((a=Id(a||aa.event)).type="mouseout"===a.type?"mouseleave":"mouseenter",a.target=c,f(a,G))}),b||"focusin"!==h&&"focusout"!==h||(k=!0,xb="focusin"===h?"focus":"blur",q=function(a){(a=
Id(a||aa.event)).type="focus"===a.type?"focusin":"focusout";f(a,G)}),(m=c[G][h])?"ready"===h&&a.domLoaded?v({type:h}):m.push({func:v,scope:l}):(c[G][h]=m=[{func:v,scope:l}],m.fakeName=xb,m.capture=k,m.nativeHandler=q,"ready"===h?dp(n,q,a):Me(n,xb||h,q,k)))}return n=m=0,v}};a.unbind=function(g,b,n){var d,t,u,f,v,l;if(!g||3===g.nodeType||8===g.nodeType)return a;if(d=g[e]){if(l=c[d],b)for(u=(b=b.split(" ")).length;u--;){if(t=l[v=b[u]]){if(n)for(f=t.length;f--;)if(t[f].func===n){var G=t.nativeHandler,
m=t.fakeName,h=t.capture;(t=t.slice(0,f).concat(t.slice(f+1))).nativeHandler=G;t.fakeName=m;t.capture=h;l[v]=t}n&&0!==t.length||(delete l[v],Bg(g,t.fakeName||v,t.nativeHandler,t.capture))}}else{for(v in l)t=l[v],Bg(g,t.fakeName||v,t.nativeHandler,t.capture);l={}}for(v in l)return a;delete c[d];try{delete g[e]}catch(to){g[e]=null}}return a};a.fire=function(c,g,b){var n;if(!c||3===c.nodeType||8===c.nodeType)return a;(b=Id(null,b)).type=g;for(b.target=c;(n=c[e])&&f(b,n),(c=c.parentNode||c.ownerDocument||
c.defaultView||c.parentWindow)&&!b.isPropagationStopped(););return a};a.clean=function(c){var g,b,n=a.unbind;if(!c||3===c.nodeType||8===c.nodeType)return a;if(c[e]&&n(c),c.getElementsByTagName||(c=c.document),c&&c.getElementsByTagName)for(n(c),g=(b=c.getElementsByTagName("*")).length;g--;)(c=b[g])[e]&&n(c);return a};a.destroy=function(){c={}};a.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}};Ob.Event=new Ob;Ob.Event.bind(window,"ready",function(){});var $c,ya,na,
Ne,$i,te,dc,ad,ec,nb,Oe,Fb,fc,bd,Jd,Fa="sizzle"+-new Date,yb=window.document,Db=0,po=0,aj=f(),bj=f(),cj=f(),Cg=function(a,c){return a===c&&(ad=!0),0},ep={}.hasOwnProperty,gc=[],fp=gc.pop,gp=gc.push,$b=gc.push,dj=gc.slice,zc=gc.indexOf||function(a){for(var c=0,e=this.length;c<e;c++)if(this[c]===a)return c;return-1},ue=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,hp=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ip=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,jp=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,
kp=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,lp=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Pe={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,
PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,
needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},mp=/^(?:input|select|textarea|button)$/i,np=/^h\d$/i,Dg=/^[^{]+\{\s*\[native \w/,op=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Eg=/[+~]/,pp=/'|\\/g,hc=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ic=function(a,c,e){a="0x"+c-65536;return a!=a||e?c:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{$b.apply(gc=dj.call(yb.childNodes),
yb.childNodes),gc[yb.childNodes.length].nodeType}catch(a){$b={apply:gc.length?function(a,e){gp.apply(a,dj.call(e))}:function(a,e){for(var c=a.length,b=0;a[c++]=e[b++];);a.length=c-1}}}var ja=function(a,c,e,g){var b,d,u,f,l;if((c?c.ownerDocument||c:yb)!==nb&&ec(c),e=e||[],!a||"string"!=typeof a)return e;if(1!==(f=(c=c||nb).nodeType)&&9!==f)return[];if(Fb&&!g){if(b=op.exec(a))if(u=b[1])if(9===f){if(!(d=c.getElementById(u))||!d.parentNode)return e;if(d.id===u)return e.push(d),e}else{if(c.ownerDocument&&
(d=c.ownerDocument.getElementById(u))&&Jd(c,d)&&d.id===u)return e.push(d),e}else{if(b[2])return $b.apply(e,c.getElementsByTagName(a)),e;if((u=b[3])&&ya.getElementsByClassName)return $b.apply(e,c.getElementsByClassName(u)),e}if(ya.qsa&&(!fc||!fc.test(a))){if(d=b=Fa,u=c,l=9===f&&a,1===f&&"object"!==c.nodeName.toLowerCase()){f=Qe(a);(b=c.getAttribute("id"))?d=b.replace(pp,"\\$&"):c.setAttribute("id",d);d="[id='"+d+"'] ";for(u=f.length;u--;)f[u]=d+E(f[u]);u=Eg.test(a)&&J(c.parentNode)||c;l=f.join(",")}if(l)try{return $b.apply(e,
u.querySelectorAll(l)),e}catch(L){}finally{b||c.removeAttribute("id")}}}return qp(a.replace(ue,"$1"),c,e,g)};for($c in ya=ja.support={},$i=ja.isXML=function(a){a=a&&(a.ownerDocument||a).documentElement;return!!a&&"HTML"!==a.nodeName},ec=ja.setDocument=function(a){var c,e=a?a.ownerDocument||a:yb;a=e.defaultView;if(e!==nb&&9===e.nodeType&&e.documentElement){Oe=(nb=e).documentElement;Fb=!$i(e);var g;if(g=a){a:{try{var b=a.top;break a}catch(t){}b=null}g=a!==b}b=(g&&(a.addEventListener?a.addEventListener("unload",
function(){ec()},!1):a.attachEvent&&a.attachEvent("onunload",function(){ec()})),ya.attributes=!0,ya.getElementsByTagName=!0,ya.getElementsByClassName=Dg.test(e.getElementsByClassName),ya.getById=!0,na.find.ID=function(a,c){if("undefined"!==typeof c.getElementById&&Fb)return(a=c.getElementById(a))&&a.parentNode?[a]:[]},na.filter.ID=function(a){var c=a.replace(hc,ic);return function(a){return a.getAttribute("id")===c}},na.find.TAG=ya.getElementsByTagName?function(a,c){if("undefined"!==typeof c.getElementsByTagName)return c.getElementsByTagName(a)}:
function(a,c){var e=[],g=0;c=c.getElementsByTagName(a);if("*"===a){for(;a=c[g++];)1===a.nodeType&&e.push(a);return e}return c},na.find.CLASS=ya.getElementsByClassName&&function(a,c){if(Fb)return c.getElementsByClassName(a)},bd=[],fc=[],ya.disconnectedMatch=!0,fc=fc.length&&new RegExp(fc.join("|")),bd=bd.length&&new RegExp(bd.join("|")),c=Dg.test(Oe.compareDocumentPosition),Jd=c||Dg.test(Oe.contains)?function(a,c){var e=9===a.nodeType?a.documentElement:a;c=c&&c.parentNode;return a===c||!(!c||1!==c.nodeType||
!(e.contains?e.contains(c):a.compareDocumentPosition&&16&a.compareDocumentPosition(c)))}:function(a,c){if(c)for(;c=c.parentNode;)if(c===a)return!0;return!1},Cg=c?function(a,c){if(a===c)return ad=!0,0;var g=!a.compareDocumentPosition-!c.compareDocumentPosition;return g||(1&(g=(a.ownerDocument||a)===(c.ownerDocument||c)?a.compareDocumentPosition(c):1)||!ya.sortDetached&&c.compareDocumentPosition(a)===g?a===e||a.ownerDocument===yb&&Jd(yb,a)?-1:c===e||c.ownerDocument===yb&&Jd(yb,c)?1:dc?zc.call(dc,a)-
zc.call(dc,c):0:4&g?-1:1)}:function(a,c){if(a===c)return ad=!0,0;var g=0,b=a.parentNode,n=c.parentNode,d=[a],t=[c];if(!b||!n)return a===e?-1:c===e?1:b?-1:n?1:dc?zc.call(dc,a)-zc.call(dc,c):0;if(b===n)return y(a,c);for(;a=a.parentNode;)d.unshift(a);for(a=c;a=a.parentNode;)t.unshift(a);for(;d[g]===t[g];)g++;return g?y(d[g],t[g]):d[g]===yb?-1:t[g]===yb?1:0},e)}else b=nb;return b},ja.matches=function(a,c){return ja(a,null,null,c)},ja.matchesSelector=function(a,c){if((a.ownerDocument||a)!==nb&&ec(a),c=
c.replace(jp,"='$1']"),!(!ya.matchesSelector||!Fb||bd&&bd.test(c)||fc&&fc.test(c)))try{var e=(void 0).call(a,c);if(e||ya.disconnectedMatch||a.document&&11!==a.document.nodeType)return e}catch(g){}return 0<ja(c,nb,null,[a]).length},ja.contains=function(a,c){return(a.ownerDocument||a)!==nb&&ec(a),Jd(a,c)},ja.attr=function(a,c){(a.ownerDocument||a)!==nb&&ec(a);var e=na.attrHandle[c.toLowerCase()];e=e&&ep.call(na.attrHandle,c.toLowerCase())?e(a,c,!Fb):void 0;return void 0!==e?e:ya.attributes||!Fb?a.getAttribute(c):
(e=a.getAttributeNode(c))&&e.specified?e.value:null},ja.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);},ja.uniqueSort=function(a){var c,e=[],g=0,b=0;if(ad=!ya.detectDuplicates,dc=!ya.sortStable&&a.slice(0),a.sort(Cg),ad){for(;c=a[b++];)c===a[b]&&(g=e.push(b));for(;g--;)a.splice(e[g],1)}return dc=null,a},Ne=ja.getText=function(a){var c,e="",g=0;if(c=a.nodeType)if(1===c||9===c||11===c){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)e+=
Ne(a)}else{if(3===c||4===c)return a.nodeValue}else for(;c=a[g++];)e+=Ne(c);return e},(na=ja.selectors={cacheLength:50,createPseudo:k,match:Pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(hc,ic),a[3]=(a[3]||a[4]||a[5]||"").replace(hc,ic),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===
a[1].slice(0,3)?(a[3]||ja.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ja.error(a[0]),a},PSEUDO:function(a){var c,e=!a[6]&&a[2];return Pe.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":e&&kp.test(e)&&(c=Qe(e,!0))&&(c=e.indexOf(")",e.length-c)-e.length)&&(a[0]=a[0].slice(0,c),a[2]=e.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var c=a.replace(hc,ic).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&
a.nodeName.toLowerCase()===c}},CLASS:function(a){var c=aj[a+" "];return c||(c=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),aj(a,function(a){return c.test("string"==typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,c,e){return function(g){g=ja.attr(g,a);return null==g?"!="===c:!c||(g+="","="===c?g===e:"!="===c?g!==e:"^="===c?e&&0===g.indexOf(e):"*="===c?e&&-1<g.indexOf(e):"$="===c?e&&g.slice(-e.length)===e:"~="===
c?-1<(" "+g+" ").indexOf(e):"|="===c&&(g===e||g.slice(0,e.length+1)===e+"-"))}},CHILD:function(a,c,e,g,b){var n="nth"!==a.slice(0,3),d="last"!==a.slice(-4),f="of-type"===c;return 1===g&&0===b?function(a){return!!a.parentNode}:function(c,e,t){var u,v;e=n!==d?"nextSibling":"previousSibling";var l=c.parentNode,G=f&&c.nodeName.toLowerCase();t=!t&&!f;if(l){if(n){for(;e;){for(v=c;v=v[e];)if(f?v.nodeName.toLowerCase()===G:1===v.nodeType)return!1;var m=e="only"===a&&!m&&"nextSibling"}return!0}if(m=[d?l.firstChild:
l.lastChild],d&&t){var h=(u=(t=l[Fa]||(l[Fa]={}))[a]||[])[0]===Db&&u[1];var L=u[0]===Db&&u[2];for(v=h&&l.childNodes[h];v=++h&&v&&v[e]||(L=h=0)||m.pop();)if(1===v.nodeType&&++L&&v===c){t[a]=[Db,h,L];break}}else if(t&&(u=(c[Fa]||(c[Fa]={}))[a])&&u[0]===Db)L=u[1];else for(;(v=++h&&v&&v[e]||(L=h=0)||m.pop())&&((f?v.nodeName.toLowerCase()!==G:1!==v.nodeType)||!++L||(t&&((v[Fa]||(v[Fa]={}))[a]=[Db,L]),v!==c)););return(L-=b)===g||0==L%g&&0<=L/g}}},PSEUDO:function(a,c){var e,g=na.pseudos[a]||na.setFilters[a.toLowerCase()]||
ja.error("unsupported pseudo: "+a);return g[Fa]?g(c):1<g.length?(e=[a,a,"",c],na.setFilters.hasOwnProperty(a.toLowerCase())?k(function(a,e){for(var b,n=g(a,c),d=n.length;d--;)a[b=zc.call(a,n[d])]=!(e[b]=n[d])}):function(a){return g(a,0,e)}):g}},pseudos:{not:k(function(a){var c=[],e=[],g=ej(a.replace(ue,"$1"));return g[Fa]?k(function(a,c,e,b){var n;e=g(a,null,b,[]);for(b=a.length;b--;)(n=e[b])&&(a[b]=!(c[b]=n))}):function(a,b,d){return c[0]=a,g(c,null,d,e),!e.pop()}}),has:k(function(a){return function(c){return 0<
ja(a,c).length}}),contains:k(function(a){return a=a.replace(hc,ic),function(c){return-1<(c.textContent||c.innerText||Ne(c)).indexOf(a)}}),lang:k(function(a){return lp.test(a||"")||ja.error("unsupported lang: "+a),a=a.replace(hc,ic).toLowerCase(),function(c){var e;do if(e=Fb?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang"))return(e=e.toLowerCase())===a||0===e.indexOf(a+"-");while((c=c.parentNode)&&1===c.nodeType);return!1}}),target:function(a){var c=window.location&&window.location.hash;return c&&
c.slice(1)===a.id},root:function(a){return a===Oe},focus:function(a){return a===nb.activeElement&&(!nb.hasFocus||nb.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&!!a.checked||"option"===c&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>
a.nodeType)return!1;return!0},parent:function(a){return!na.pseudos.empty(a)},header:function(a){return np.test(a.nodeName)},input:function(a){return mp.test(a.nodeName)},button:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&"button"===a.type||"button"===c},text:function(a){var c;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(c=a.getAttribute("type"))||"text"===c.toLowerCase())},first:r(function(){return[0]}),last:r(function(a,c){return[c-1]}),eq:r(function(a,c,e){return[0>
e?e+c:e]}),even:r(function(a,c){for(var e=0;e<c;e+=2)a.push(e);return a}),odd:r(function(a,c){for(var e=1;e<c;e+=2)a.push(e);return a}),lt:r(function(a,c,e){for(c=0>e?e+c:e;0<=--c;)a.push(c);return a}),gt:r(function(a,c,e){for(e=0>e?e+c:e;++e<c;)a.push(e);return a})}}).pseudos.nth=na.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})na.pseudos[$c]=b($c);for($c in{submit:!0,reset:!0})na.pseudos[$c]=d($c);z.prototype=na.filters=na.pseudos;na.setFilters=new z;var Qe=ja.tokenize=function(a,
c){var e,g,b,d,u,f;if(u=bj[a+" "])return c?0:u.slice(0);u=a;var l=[];for(f=na.preFilter;u;){for(d in e&&!(g=hp.exec(u))||(g&&(u=u.slice(g[0].length)||u),l.push(b=[])),e=!1,(g=ip.exec(u))&&(e=g.shift(),b.push({value:e,type:g[0].replace(ue," ")}),u=u.slice(e.length)),na.filter)!(g=Pe[d].exec(u))||f[d]&&!(g=f[d](g))||(e=g.shift(),b.push({value:e,type:d,matches:g}),u=u.slice(e.length));if(!e)break}return c?u.length:u?ja.error(a):bj(a,l).slice(0)};var ej=ja.compile=function(a,c){var e,g,b,d,u=[],f=[],
l=cj[a+" "];if(!l){c||(c=Qe(a));for(e=c.length;e--;)(l=p(c[e]))[Fa]?u.push(l):f.push(l);(l=cj(a,(g=0<u.length,b=0<f.length,d=function(a,c,e,n,d){var t,v,l,G=0,m="0",L=a&&[],k=[],aa=te,p=a||b&&na.find.TAG("*",d),q=Db+=null==aa?1:Math.random()||.1,Eb=p.length;for(d&&(te=c!==nb&&c);m!==Eb&&null!=(t=p[m]);m++){if(b&&t){for(v=0;l=f[v++];)if(l(t,c,e)){n.push(t);break}d&&(Db=q)}g&&((t=!l&&t)&&G--,a&&L.push(t))}if(G+=m,g&&m!==G){for(v=0;l=u[v++];)l(L,k,c,e);if(a){if(0<G)for(;m--;)L[m]||k[m]||(k[m]=fp.call(n));
k=h(k)}$b.apply(n,k);d&&!a&&0<k.length&&1<G+u.length&&ja.uniqueSort(n)}return d&&(Db=q,te=aa),L},g?k(d):d))).selector=a}return l};var qp=ja.select=function(a,c,e,g){var b,d,u,f,l,m="function"==typeof a&&a,h=!g&&Qe(a=m.selector||a);if(e=e||[],1===h.length){if(2<(d=h[0]=h[0].slice(0)).length&&"ID"===(u=d[0]).type&&ya.getById&&9===c.nodeType&&Fb&&na.relative[d[1].type]){if(!(c=(na.find.ID(u.matches[0].replace(hc,ic),c)||[])[0]))return e;m&&(c=c.parentNode);a=a.slice(d.shift().value.length)}for(b=Pe.needsContext.test(a)?
0:d.length;b--&&(u=d[b],!na.relative[f=u.type]);)if((l=na.find[f])&&(g=l(u.matches[0].replace(hc,ic),Eg.test(d[0].type)&&J(c.parentNode)||c))){if(d.splice(b,1),!(a=g.length&&E(d)))return $b.apply(e,g),e;break}}return(m||ej(a,h))(g,c,!Fb,e,Eg.test(a)&&J(c.parentNode)||c),e};ya.sortStable=Fa.split("").sort(Cg).join("")===Fa;ya.detectDuplicates=!!ad;ec();ya.sortDetached=!0;var fj=Array.isArray,Fg=function(a,c,e){var g;if(!a)return 0;if(e=e||a,void 0!==a.length){var b=0;for(g=a.length;b<g;b++)if(!1===
c.call(e,a[b],b,a))return 0}else for(b in a)if(a.hasOwnProperty(b)&&!1===c.call(e,a[b],b,a))return 0;return 1},gj=function(a,c,e){var g;var b=0;for(g=a.length;b<g;b++)if(c.call(e,a[b],b,a))return b;return-1},W={isArray:fj,toArray:function(a){var c,e=a;if(!fj(a)){e=[];var g=0;for(c=a.length;g<c;g++)e[g]=a[g]}return e},each:Fg,map:function(a,c){var e=[];return Fg(a,function(g,b){e.push(c(g,b,a))}),e},filter:function(a,c){var e=[];return Fg(a,function(g,b){c&&!c(g,b,a)||e.push(g)}),e},indexOf:function(a,
c){var e;if(a){var g=0;for(e=a.length;g<e;g++)if(a[g]===c)return g}return-1},reduce:function(a,c,e,g){var b=0;for(3>arguments.length&&(e=a[0]);b<a.length;b++)e=c.call(g,e,a[b],b);return e},findIndex:gj,find:function(a,c,e){c=gj(a,c,e);return-1!==c?a[c]:void 0},last:function(a){return a[a.length-1]}},rp=/^\s*|\s*$/g,hj=function(a){return null===a||void 0===a?"":(""+a).replace(rp,"")},ij=function(a,c){return c?!("array"!==c||!W.isArray(a))||typeof a===c:void 0!==a},jj=function(a,c,e,g){g=g||this;a&&
(e&&(a=a[e]),W.each(a,function(a,b){if(!1===c.call(g,a,b,e))return!1;jj(a,c,e,g)}))},C={trim:hj,isArray:W.isArray,is:ij,toArray:W.toArray,makeMap:function(a,c,e){"string"==typeof(a=a||[])&&(a=a.split(c||","));e=e||{};for(c=a.length;c--;)e[a[c]]={};return e},each:W.each,map:W.map,grep:W.filter,inArray:W.indexOf,hasOwn:function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},extend:function(a,c){var e,g,b;for(e=2;e<arguments.length;e++);var d,f=arguments;e=1;for(g=f.length;e<g;e++)for(b in c=
f[e])c.hasOwnProperty(b)&&void 0!==(d=c[b])&&(a[b]=d);return a},create:function(a,c,e){var g,b,d,f,v,l=0;if(a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a),d=a[3].match(/(^|\.)(\w+)$/i)[2],!(b=this.createNS(a[3].replace(/\.\w+$/,""),e))[d]){if("static"===a[2])return b[d]=c,void(this.onCreate&&this.onCreate(a[2],a[3],b[d]));c[d]||(c[d]=function(){},l=1);b[d]=c[d];this.extend(b[d].prototype,c);a[5]&&(g=this.resolve(a[5]).prototype,f=a[5].match(/\.(\w+)$/i)[1],v=b[d],b[d]=l?function(){return g[f].apply(this,
arguments)}:function(){return this.parent=g[f],v.apply(this,arguments)},b[d].prototype[d]=b[d],this.each(g,function(a,c){b[d].prototype[c]=g[c]}),this.each(c,function(a,c){g[c]?b[d].prototype[c]=function(){return this.parent=g[c],a.apply(this,arguments)}:c!==d&&(b[d].prototype[c]=a)}));this.each(c["static"],function(a,c){b[d][c]=a})}},walk:jj,createNS:function(a,c){var e,g;c=c||window;a=a.split(".");for(e=0;e<a.length;e++)c[g=a[e]]||(c[g]={}),c=c[g];return c},resolve:function(a,c){var e;c=c||window;
var g=0;for(e=(a=a.split(".")).length;g<e&&(c=c[a[g]]);g++);return c},explode:function(a,c){return!a||ij(a,"array")?a:W.map(a.split(c||","),hj)},_addCacheSuffix:function(a){var c=S.cacheSuffix;return c&&(a+=(-1===a.indexOf("?")?"?":"&")+c),a}},kj=document,Gg=Array.prototype.push,sp=Array.prototype.slice,tp=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Kd=Ob.Event,up=C.makeMap("children,contents,next,prev"),lj=function(a,c){var e=(c=c||kj).createElement("div");c=c.createDocumentFragment();for(e.innerHTML=
a;a=e.firstChild;)c.appendChild(a);return c},cd=function(a,c,e,g){var b;if("string"==typeof c)c=lj(c,Hg(a[0]));else if(c.length&&!c.nodeType){if(c=N.makeArray(c),g)for(b=c.length-1;0<=b;b--)cd(a,c[b],e,g);else for(b=0;b<c.length;b++)cd(a,c[b],e,g);return a}if(c.nodeType)for(b=a.length;b--;)e.call(a[b],c);return a},mj=function(a,c){return a&&c&&-1!==(" "+a.className+" ").indexOf(" "+c+" ")},nj=function(a,c,e){var g,b;return c=N(c)[0],a.each(function(){e&&g===this.parentNode||(g=this.parentNode,b=c.cloneNode(!1),
this.parentNode.insertBefore(b,this));b.appendChild(this)}),a},vp=C.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),wp=C.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),xp={"for":"htmlFor","class":"className",readonly:"readOnly"},oj={"float":"cssFloat"},Ld={},Re={},N=function(a,c){return new N.fn.init(a,c)},yp=/^\s*|\s*$/g,pj=function(a){return null===a||void 0===a?"":(""+a).replace(yp,"")},Gb=function(a,
c){var e,g,b;if(a)if(void 0===(e=a.length))for(g in a){if(a.hasOwnProperty(g)&&(b=a[g],!1===c.call(b,g,b)))break}else for(g=0;g<e&&(b=a[g],!1!==c.call(b,g,b));g++);return a},qj=function(a,c){var e=[];return Gb(a,function(a,b){c(b,a)&&e.push(b)}),e},Hg=function(a){return a?9===a.nodeType?a:a.ownerDocument:kj};N.fn=N.prototype={constructor:N,selector:"",context:null,length:0,init:function(a,c){var e;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(c&&c.nodeType)this.context=
c;else{if(c)return N(a).attr(c);this.context=c=document}if("string"==typeof a){if(!(e="<"===(this.selector=a).charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:tp.exec(a)))return N(c).find(a);if(e[1])for(c=lj(a,Hg(c)).firstChild;c;)Gg.call(this,c),c=c.nextSibling;else{if(!(c=Hg(c).getElementById(e[2])))return this;if(c.id!==e[2])return this.find(a);this.length=1;this[0]=c}}else this.add(a,!1);return this},toArray:function(){return C.toArray(this)},add:function(a,c){if("string"==typeof a)return this.add(N(a));
if(!1!==c)for(a=N.unique(this.toArray().concat(N.makeArray(a))),this.length=a.length,c=0;c<a.length;c++)this[c]=a[c];else Gg.apply(this,N.makeArray(a));return this},attr:function(a,c){var e,g=this;if("object"==typeof a)Gb(a,function(a,c){g.attr(a,c)});else{if(void 0===c){if(g[0]&&1===g[0].nodeType){if((e=Ld[a])&&e.get)return e.get(g[0],a);if(wp[a])return g.prop(a)?a:void 0;null===(c=g[0].getAttribute(a,2))&&(c=void 0)}return c}this.each(function(){var e;if(1===this.nodeType){if((e=Ld[a])&&e.set)return void e.set(this,
c);null===c?this.removeAttribute(a,2):this.setAttribute(a,c,2)}})}return g},removeAttr:function(a){return this.attr(a,null)},prop:function(a,c){var e=this;if("object"==typeof(a=xp[a]||a))Gb(a,function(a,c){e.prop(a,c)});else{if(void 0===c)return e[0]&&e[0].nodeType&&a in e[0]?e[0][a]:c;this.each(function(){1===this.nodeType&&(this[a]=c)})}return e},css:function(a,c){var e,g,b=this,d=function(a){return a.replace(/-(\D)/g,function(a,c){return c.toUpperCase()})},f=function(a){return a.replace(/[A-Z]/g,
function(a){return"-"+a})};if("object"==typeof a)Gb(a,function(a,c){b.css(a,c)});else if(void 0!==c)a=d(a),"number"!=typeof c||vp[a]||(c=c.toString()+"px"),b.each(function(){var e=this.style;if((g=Re[a])&&g.set)g.set(this,c);else{try{this.style[oj[a]||a]=c}catch(G){}null!==c&&""!==c||(e.removeProperty?e.removeProperty(f(a)):e.removeAttribute(a))}});else{if(e=b[0],(g=Re[a])&&g.get)return g.get(e);if(!e.ownerDocument.defaultView)return e.currentStyle?e.currentStyle[d(a)]:"";try{return e.ownerDocument.defaultView.getComputedStyle(e,
null).getPropertyValue(f(a))}catch(v){return}}return b},remove:function(){for(var a,c=this.length;c--;)a=this[c],Kd.clean(a),a.parentNode&&a.parentNode.removeChild(a);return this},empty:function(){for(var a,c=this.length;c--;)for(a=this[c];a.firstChild;)a.removeChild(a.firstChild);return this},html:function(a){if(void 0!==a){var c=this.length;try{for(;c--;)this[c].innerHTML=a}catch(e){N(this[c]).empty().append(a)}return this}return this[0]?this[0].innerHTML:""},text:function(a){var c;if(void 0!==
a){for(c=this.length;c--;)"innerText"in this[c]?this[c].innerText=a:this[0].textContent=a;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return cd(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return cd(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?
cd(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&this[0].parentNode?cd(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},!0):this},appendTo:function(a){return N(a).append(this),this},prependTo:function(a){return N(a).prepend(this),this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return nj(this,a)},wrapAll:function(a){return nj(this,a,!0)},wrapInner:function(a){return this.each(function(){N(this).contents().wrapAll(a)}),
this},unwrap:function(){return this.parent().each(function(){N(this).replaceWith(this.childNodes)})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),N(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,c){var e=this;return"string"!=typeof a||(-1!==a.indexOf(" ")?Gb(a.split(" "),function(){e.toggleClass(this,c)}):e.each(function(e,b){var g,n;(n=mj(b,a))!==c&&(g=b.className,n?b.className=
pj((" "+g+" ").replace(" "+a+" "," ")):b.className+=g?" "+a:a)})),e},hasClass:function(a){return mj(this[0],a)},each:function(a){return Gb(this,a)},on:function(a,c){return this.each(function(){Kd.bind(this,a,c)})},off:function(a,c){return this.each(function(){Kd.unbind(this,a,c)})},trigger:function(a){return this.each(function(){"object"==typeof a?Kd.fire(this,a.type,a):Kd.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new N(sp.apply(this,
arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(a){var c,e=[];var g=0;for(c=this.length;g<c;g++)N.find(a,this[g],e);return N(e)},filter:function(a){return N("function"==typeof a?qj(this.toArray(),function(c,e){return a(e,c)}):N.filter(a,this.toArray()))},closest:function(a){var c=[];return a instanceof N&&(a=a[0]),this.each(function(e,g){for(;g;){if("string"==typeof a&&N(g).is(a)){c.push(g);
break}if(g===a){c.push(g);break}g=g.parentNode}}),N(c)},offset:function(a){var c,e,g,b,d=0,f=0;return a?this.css(a):((c=this[0])&&(g=(e=c.ownerDocument).documentElement,c.getBoundingClientRect&&(d=(b=c.getBoundingClientRect()).left+(g.scrollLeft||e.body.scrollLeft)-g.clientLeft,f=b.top+(g.scrollTop||e.body.scrollTop)-g.clientTop)),{left:d,top:f})},push:Gg,sort:[].sort,splice:[].splice};C.extend(N,{extend:C.extend,makeArray:function(a){return(c=a)&&c===c.window||a.nodeType?[a]:C.toArray(a);var c},
inArray:function(a,c){var e;if(c.indexOf)return c.indexOf(a);for(e=c.length;e--;)if(c[e]===a)return e;return-1},isArray:C.isArray,each:Gb,trim:pj,grep:qj,find:ja,expr:ja.selectors,unique:ja.uniqueSort,text:ja.getText,contains:ja.contains,filter:function(a,c,e){var g=c.length;for(e&&(a=":not("+a+")");g--;)1!==c[g].nodeType&&c.splice(g,1);return 1===c.length?N.find.matchesSelector(c[0],a)?[c[0]]:[]:N.find.matches(a,c)}});var rj=function(a,c,e){var g=[];a=a[c];for("string"!=typeof e&&e instanceof N&&
(e=e[0]);a&&9!==a.nodeType;){if(void 0!==e){if(a===e)break;if("string"==typeof e&&N(a).is(e))break}1===a.nodeType&&g.push(a);a=a[c]}return g},Ig=function(a,c,e,g){var b=[];for(g instanceof N&&(g=g[0]);a;a=a[c])if(!e||a.nodeType===e){if(void 0!==g){if(a===g)break;if("string"==typeof g&&N(a).is(g))break}b.push(a)}return b},sj=function(a,c,e){for(a=a[c];a;a=a[c])if(a.nodeType===e)return a;return null};Gb({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return rj(a,
"parentNode")},next:function(a){return sj(a,"nextSibling",1)},prev:function(a){return sj(a,"previousSibling",1)},children:function(a){return Ig(a.firstChild,"nextSibling",1)},contents:function(a){return C.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(a,c){N.fn[a]=function(e){var g=[];return this.each(function(){var a=c.call(g,this,e,g);a&&(N.isArray(a)?g.push.apply(g,a):g.push(a))}),1<this.length&&(up[a]||(g=N.unique(g)),0===a.indexOf("parents")&&
(g=g.reverse())),g=N(g),e?g.filter(e):g}});Gb({parentsUntil:function(a,c){return rj(a,"parentNode",c)},nextUntil:function(a,c){return Ig(a,"nextSibling",1,c).slice(1)},prevUntil:function(a,c){return Ig(a,"previousSibling",1,c).slice(1)}},function(a,c){N.fn[a]=function(e,g){var b=[];return this.each(function(){var a=c.call(b,this,e,b);a&&(N.isArray(a)?b.push.apply(b,a):b.push(a))}),1<this.length&&(b=N.unique(b),0!==a.indexOf("parents")&&"prevUntil"!==a||(b=b.reverse())),b=N(b),g?b.filter(g):b}});N.fn.is=
function(a){return!!a&&0<this.filter(a).length};N.fn.init.prototype=N.fn;N.overrideDefaults=function(a){var c,e=function(g,b){return c=c||a(),0===arguments.length&&(g=c.element),b||(b=c.context),new e.fn.init(g,b)};return N.extend(e,this),e};var Jg=function(a,c,e){Gb(e,function(e,b){a[e]=a[e]||{};a[e][c]=b})};S.ie&&8>S.ie&&(Jg(Ld,"get",{maxlength:function(a){a=a.maxLength;return 2147483647===a?void 0:a},size:function(a){a=a.size;return 20===a?void 0:a},"class":function(a){return a.className},style:function(a){a=
a.style.cssText;return 0===a.length?void 0:a}}),Jg(Ld,"set",{"class":function(a,c){a.className=c},style:function(a,c){a.style.cssText=c}}));S.ie&&9>S.ie&&(oj["float"]="styleFloat",Jg(Re,"set",{opacity:function(a,c){a=a.style;null===c||""===c?a.removeAttribute("filter"):(a.zoom=1,a.filter="alpha(opacity="+100*c+")")}}));N.attrHooks=Ld;N.cssHooks=Re;var tj,uj,Kg,vj=function(){return Lg(0,0)},Lg=function(a,c){return{major:a,minor:c}},Se={nu:Lg,detect:function(a,c){c=String(c).toLowerCase();if(0===a.length)a=
vj();else{a:{for(var e=0;e<a.length;e++){var g=a[e];if(g.test(c)){a=g;break a}}a=void 0}a=a?Lg(Number(c.replace(a,"$1")),Number(c.replace(a,"$2"))):{major:0,minor:0}}return a},unknown:vj},dd=function(a,c){return function(){return c===a}},wj=function(a){var c=a.current;return{current:c,version:a.version,isEdge:dd("Edge",c),isChrome:dd("Chrome",c),isIE:dd("IE",c),isOpera:dd("Opera",c),isFirefox:dd("Firefox",c),isSafari:dd("Safari",c)}},zp=function(){return wj({current:void 0,version:Se.unknown()})};
F("Edge");F("Chrome");F("IE");F("Opera");F("Firefox");F("Safari");var Bc=function(a,c){return function(){return c===a}},xj=function(a){var c=a.current;return{current:c,version:a.version,isWindows:Bc("Windows",c),isiOS:Bc("iOS",c),isAndroid:Bc("Android",c),isOSX:Bc("OSX",c),isLinux:Bc("Linux",c),isSolaris:Bc("Solaris",c),isFreeBSD:Bc("FreeBSD",c)}},Ap=function(){return xj({current:void 0,version:Se.unknown()})};F("Windows");F("iOS");F("Android");F("Linux");F("OSX");F("Solaris");F("FreeBSD");var yj=
function(a,c){var e=String(c).toLowerCase();return xa(a,function(a){return a.search(e)})},Bp=function(a,c){return yj(a,c).map(function(a){var e=Se.detect(a.versionRegexes,c);return{current:a.name,version:e}})},Cp=function(a,c){return yj(a,c).map(function(a){var e=Se.detect(a.versionRegexes,c);return{current:a.name,version:e}})},bb=function(a,c){return-1!==a.indexOf(c)},Dp=function(a){return a.replace(/^\s+|\s+$/g,"")},Mg=/.*?version\/ ?([0-9]+)\.([0-9]+).*/,jc=function(a){return function(c){return bb(c,
a)}},Ep=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){return bb(a,"edge/")&&bb(a,"chrome")&&bb(a,"safari")&&bb(a,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Mg],search:function(a){return bb(a,"chrome")&&!bb(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){return bb(a,"msie")||bb(a,"trident")}},{name:"Opera",versionRegexes:[Mg,/.*?opera\/([0-9]+)\.([0-9]+).*/],
search:jc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/ ?([0-9]+)\.([0-9]+).*/],search:jc("firefox")},{name:"Safari",versionRegexes:[Mg,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(bb(a,"safari")||bb(a,"mobile/"))&&bb(a,"applewebkit")}}],Fp=[{name:"Windows",search:jc("win"),versionRegexes:[/.*?windows nt ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return bb(a,"iphone")||bb(a,"ipad")},versionRegexes:[/.*?version\/ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,
/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:jc("android"),versionRegexes:[/.*?android ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:jc("os x"),versionRegexes:[/.*?os x ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:jc("linux"),versionRegexes:[]},{name:"Solaris",search:jc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:jc("freebsd"),versionRegexes:[]}],zj={browsers:F(Ep),oses:F(Fp)},kc={detect:(tj=function(){var a=navigator.userAgent,c,e,g,b,d,f,v,l,m=zj.browsers(),h=zj.oses();m=
Bp(m,a).fold(zp,wj);h=Cp(h,a).fold(Ap,xj);return{browser:m,os:h,deviceType:(c=h.isiOS()&&!0===/ipad/i.test(a),e=h.isiOS()&&!c,g=h.isAndroid()&&3===h.version.major,b=h.isAndroid()&&4===h.version.major,d=c||g||b&&!0===/mobile/i.test(a),f=h.isiOS()||h.isAndroid(),v=f&&!d,l=m.isSafari()&&h.isiOS()&&!1===/safari/i.test(a),{isiPad:F(c),isiPhone:F(e),isTablet:F(d),isPhone:F(v),isTouch:F(f),isAndroid:h.isAndroid,isiOS:h.isiOS,isWebView:F(l)})}},Kg=!1,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=
arguments[c];return Kg||(Kg=!0,uj=tj.apply(null,a)),uj})},Md=function(a){if(null===a||void 0===a)throw Error("Node cannot be null or undefined");return{dom:F(a)}},H={fromHtml:function(a,c){c=(c||document).createElement("div");if(c.innerHTML=a,!c.hasChildNodes()||1<c.childNodes.length)throw console.error("HTML does not have a single root node",a),"HTML must have a single root node";return Md(c.childNodes[0])},fromTag:function(a,c){a=(c||document).createElement(a);return Md(a)},fromText:function(a,
c){a=(c||document).createTextNode(a);return Md(a)},fromDom:Md,fromPoint:function(a,c,e){a=a.dom();return m.from(a.elementFromPoint(c,e)).map(Md)}},Aj=(Node.ATTRIBUTE_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE,Node.DOCUMENT_NODE),Te=(Node.DOCUMENT_TYPE_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE),Gp=Node.TEXT_NODE,Ua=(Node.PROCESSING_INSTRUCTION_NODE,Node.ENTITY_REFERENCE_NODE,Node.ENTITY_NODE,Node.NOTATION_NODE,function(a){return a.dom().nodeName.toLowerCase()}),Bj=function(a){return function(c){return c.dom().nodeType===
a}},Cc=Bj(Te),ed=Bj(Gp),Ue=Object.keys,Hp=Object.hasOwnProperty,Ve=function(a,c){for(var e=Ue(a),g=0,b=e.length;g<b;g++){var d=e[g];c(a[d],d,a)}},Go=function(a,c){var e={};return Ve(a,function(g,b){g=c(g,b,a);e[g.k]=g.v}),e},Cj=function(a,c,e){if(!(ib(e)||ti(e)||eg(e)))throw console.error("Invalid call to Attr.set. Key ",c,":: Value ",e,":: Element ",a),Error("Attribute value was not simple");a.setAttribute(c,e+"")},Nd=function(a,c,e){Cj(a.dom(),c,e)},Od=function(a,c){var e=a.dom();Ve(c,function(a,
c){Cj(e,c,a)})},we=function(a,c){a=a.dom().getAttribute(c);return null===a?void 0:a},Pd=function(a,c){a.dom().removeAttribute(c)},Ip=function(a,c){var e=a.dom();Ve(c,function(a,c){if(!ib(a))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",a,":: Element ",e),Error("CSS value must be a string: "+a);void 0!==e.style&&e.style.setProperty(c,a);!0})},Dj=function(a,c){var e,g=a.dom(),b=window.getComputedStyle(g).getPropertyValue(c);a=""!==b||void 0!==(e=ed(a)?a.dom().parentNode:a.dom())&&
null!==e&&e.ownerDocument.body.contains(e)?b:void 0!==g.style?g.style.getPropertyValue(c):"";return null===a?void 0:a},Hb=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return function(){for(var c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];if(a.length!==c.length)throw Error('Wrong number of arguments to struct. Expected "['+a.length+']", got '+c.length+" arguments");var b={};return U(a,function(a,e){b[a]=F(c[e])}),b}},Ej=function(a,c){var e=[],g=function(a){return e.push(a),
c(a)};for(a=c(a);(a=a.bind(g)).isSome(););return e},Qd=function(a,c){a=a.dom();if(a.nodeType!==Te)return!1;if(void 0!==a.matches)return a.matches(c);if(void 0!==a.msMatchesSelector)return a.msMatchesSelector(c);if(void 0!==a.webkitMatchesSelector)return a.webkitMatchesSelector(c);if(void 0!==a.mozMatchesSelector)return a.mozMatchesSelector(c);throw Error("Browser lacks native selectors");},za=function(a,c){return a.dom()===c.dom()},Dc=kc.detect().browser.isIE()?function(a,c){a=a.dom();c=c.dom();var e=
ub.getOrDie("Node").DOCUMENT_POSITION_CONTAINED_BY;return 0!=(a.compareDocumentPosition(c)&e)}:function(a,c){a=a.dom();c=c.dom();return a!==c&&a.contains(c)},We=function(a){return H.fromDom(a.dom().ownerDocument)},Ec=function(a){a=a.dom();return m.from(a.parentNode).map(H.fromDom)},Xe=function(a){a=a.dom();return m.from(a.previousSibling).map(H.fromDom)},Ng=function(a){a=a.dom();return m.from(a.nextSibling).map(H.fromDom)},Jp=function(a){return c=Ej(a,Xe),(e=kg.call(c,0)).reverse(),e;var c,e},lc=
function(a){a=a.dom();return Ja(a.childNodes,H.fromDom)},Rd=function(a,c){a=a.dom().childNodes;return m.from(a[c]).map(H.fromDom)},Kp=(Hb("element","offset"),kc.detect().browser),Lp=function(a){return Kp.isFirefox()&&"table"===Ua(a)?xa(lc(a),Cc).filter(function(a){return"caption"===Ua(a)}).bind(function(a){return xa((c=a,Ej(c,Ng)),Cc).map(function(c){c=c.dom().offsetTop;var e=a.dom().offsetTop,g=a.dom().offsetHeight;return c<=e?-g:0});var c}).getOr(0):0},yo={getPos:function(a,c,e){var g,b=0,d=0,f=
a.ownerDocument;if(e=e||a,c){if(e===a&&c.getBoundingClientRect&&"static"===Dj(H.fromDom(a),"position"))return{x:(g=c.getBoundingClientRect()).left+(f.documentElement.scrollLeft||a.scrollLeft)-f.documentElement.clientLeft,y:g.top+(f.documentElement.scrollTop||a.scrollTop)-f.documentElement.clientTop};for(a=c;a&&a!==e&&a.nodeType;)b+=a.offsetLeft||0,d+=a.offsetTop||0,a=a.offsetParent;for(a=c.parentNode;a&&a!==e&&a.nodeType;)b-=a.scrollLeft||0,d-=a.scrollTop||0,a=a.parentNode;d+=Lp(H.fromDom(c))}return{x:b,
y:d}}},Og=function(a){var c=m.none(),e=[],g=function(a){b()?d(a):e.push(a)},b=function(){return c.isSome()},d=function(a){c.each(function(c){setTimeout(function(){a(c)},0)})};return a(function(a){c=m.some(a);U(e,d);e=[]}),{get:g,map:function(a){return Og(function(c){g(function(e){c(a(e))})})},isReady:b}},Mp={nu:Og,pure:function(a){return Og(function(c){c(a)})}},fd=function(a){var c=function(c){a(function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var g=this;setTimeout(function(){c.apply(g,
a)},0)})},e=function(){return Mp.nu(c)};return{map:function(a){return fd(function(e){c(function(c){c=a(c);e(c)})})},bind:function(a){return fd(function(e){c(function(c){a(c).get(e)})})},anonBind:function(a){return fd(function(e){c(function(c){a.get(e)})})},toLazy:e,toCached:function(){var a=null;return fd(function(c){null===a&&(a=e());a.get(c)})},get:c}},Ci={nu:fd,pure:function(a){return fd(function(c){c(a)})}},xo=function(a,c){return c(function(c){var e=[],b=0;0===a.length?c([]):U(a,function(g,d){g.get(function(g){e[d]=
g;++b>=a.length&&c(e)})})})},Ye=function(a){return{is:function(c){return a===c},isValue:Nb,isError:sb,getOr:F(a),getOrThunk:F(a),getOrDie:F(a),or:function(c){return Ye(a)},orThunk:function(c){return Ye(a)},fold:function(c,e){return e(a)},map:function(c){return Ye(c(a))},each:function(c){c(a)},bind:function(c){return c(a)},exists:function(c){return c(a)},forall:function(c){return c(a)},toOption:function(){return m.some(a)}}},Pg=function(a){return{is:sb,isValue:sb,isError:Nb,getOr:ra,getOrThunk:function(a){return a()},
getOrDie:function(){var c=String(a);throw Error(c);},or:function(a){return a},orThunk:function(a){return a()},fold:function(c,e){return c(a)},map:function(c){return Pg(a)},each:T,bind:function(c){return Pg(a)},exists:sb,forall:Nb,toOption:m.none}},Di={value:Ye,error:Pg},Qb=function(a){var c;return function(e){return(c=c||function(a,c){for(var e={},g=0,b=a.length;g<b;g++){var d=a[g];e[String(d)]=c(d,g)}return e}(a,F(!0))).hasOwnProperty(Ua(e))}},Np=Qb("h1 h2 h3 h4 h5 h6".split(" ")),Sd=Qb("article aside details div dt figcaption footer form fieldset header hgroup html main nav section summary body p dl multicol dd figure address center blockquote h1 h2 h3 h4 h5 h6 listing xmp pre plaintext menu dir ul ol li hr table tbody thead tfoot th tr td caption".split(" ")),
Fj=function(a){return Cc(a)&&!Sd(a)},Qg=function(a){return Cc(a)&&"br"===Ua(a)},Gj=Qb("h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure".split(" ")),Hj=Qb(["ul","ol","dl"]),Ze=Qb(["li","dd","dt"]),Op=Qb("area base basefont br col frame hr img input isindex link meta param embed source wbr track".split(" ")),Pp=Qb(["thead","tbody","tfoot"]),$e=Qb(["td","th"]),Ge=Qb(["pre","script","textarea","style"]),af=function(a){return function(c){return!!c&&
c.nodeType===a}},Rb=af(1),Ij=function(a){var c=a.toLowerCase().split(" ");return function(a){if(a&&a.nodeType){var e=a.nodeName.toLowerCase();for(a=0;a<c.length;a++)if(e===c[a])return!0}return!1}},Jj=function(a){return function(c){return!Rb(c)||c.contentEditable!==a&&c.getAttribute("data-mce-contenteditable")!==a?!1:!0}},Qp=af(3),Rp=af(8),Sp=af(9),Tp=Ij("br"),Up=Jj("true"),Vp=Jj("false"),B={isText:Qp,isElement:Rb,isComment:Rp,isDocument:Sp,isBr:Tp,isContentEditableTrue:Up,isContentEditableFalse:Vp,
matchNodeNames:Ij,hasPropValue:function(a,c){return function(e){return Rb(e)&&e[a]===c}},hasAttribute:function(a,c){return function(c){return Rb(c)&&c.hasAttribute(a)}},hasAttributeValue:function(a,c){return function(e){return Rb(e)&&e.getAttribute(a)===c}},matchStyleValues:function(a,c){var e=c.toLowerCase().split(" ");return function(c){var g;if(Rb(c))for(g=0;g<e.length;g++){var b=c.ownerDocument.defaultView.getComputedStyle(c,null);if((b?b.getPropertyValue(a):null)===e[g])return!0}return!1}},isBogus:function(a){return Rb(a)&&
a.hasAttribute("data-mce-bogus")},isBogusAll:function(a){return Rb(a)&&"all"===a.getAttribute("data-mce-bogus")},isTable:function(a){return Rb(a)&&"TABLE"===a.tagName}},Kj=function(a){return a&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")},Lj=function(a,c){var e,g=c.childNodes;if(!B.isElement(c)||!Kj(c)){for(e=g.length-1;0<=e;e--)Lj(a,g[e]);if(!1===B.isDocument(c)){if(B.isText(c)&&0<c.nodeValue.length){if(e=C.trim(c.nodeValue).length,a.isBlock(c.parentNode)||0<e||0===e&&(d=(b=
c).previousSibling&&"SPAN"===b.previousSibling.nodeName,f=b.nextSibling&&"SPAN"===b.nextSibling.nodeName,d&&f))return}else if(B.isElement(c)&&(1===(g=c.childNodes).length&&Kj(g[0])&&c.parentNode.insertBefore(g[0],c),g.length||Op(H.fromDom(c))))return;a.remove(c)}var b,d,f;return c}},Hi={trimNode:Lj},Wp=C.makeMap,bf=/[&<>"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cf=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xp=/[<>&"']/g,Yp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
Zp={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};var Fc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};var $p={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};
var Mj=function(a,c){var e,g,b={};if(a){a=a.split(",");c=c||10;for(e=0;e<a.length;e+=2){var d=String.fromCharCode(parseInt(a[e],c));Fc[d]||(g="&"+a[e+1]+";",b[d]=g,b[g]=d)}return b}};var Rg=Mj("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var Nj=function(a,c){return a.replace(c?bf:cf,function(a){return Fc[a]||a})},Oj=function(a,c){return a.replace(c?bf:cf,function(a){return 1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":Fc[a]||"&#"+a.charCodeAt(0)+";"})},Sg=function(a,c,e){return e=e||Rg,a.replace(c?bf:cf,function(a){return Fc[a]||e[a]||a})},Ac={encodeRaw:Nj,encodeAllRaw:function(a){return(""+a).replace(Xp,function(a){return Fc[a]||a})},encodeNumeric:Oj,encodeNamed:Sg,getEncodeFunc:function(a,
c){var e=Mj(c)||Rg;a=Wp(a.replace(/\+/g,","));return a.named&&a.numeric?function(a,c){return a.replace(c?bf:cf,function(a){return void 0!==Fc[a]?Fc[a]:void 0!==e[a]?e[a]:1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":"&#"+a.charCodeAt(0)+";"})}:a.named?c?function(a,c){return Sg(a,c,e)}:Sg:a.numeric?Oj:Nj},decode:function(a){return a.replace(Yp,function(a,e){return e?65535<(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))?(e-=65536,String.fromCharCode(55296+
(e>>10),56320+(1023&e))):Zp[e]||String.fromCharCode(e):$p[a]||Rg[a]||(c=a,(b=H.fromTag("div").dom()).innerHTML=c,b.textContent||b.innerText||c);var c,b})}},ac={},aq={},Wc=C.makeMap,La=C.each,mg=C.extend,Ai=C.explode,uo=C.inArray,Ca=function(a,c){return(a=C.trim(a))?a.split(c||" "):[]},so=function(a){var c,e,g,b,d={},f=function(a,e,g){var b,n,f=function(a,c){var e,g={};var b=0;for(e=a.length;b<e;b++)g[a[b]]=c||{};return g};e=e||"";"string"==typeof(g=g||[])&&(g=Ca(g));for(b=(a=Ca(a)).length;b--;){var t=
{attributes:f(n=Ca([c,e].join(" "))),attributesOrder:n,children:f(g,aq)};d[a[b]]=t}},v=function(a,c){var e;var g=(a=Ca(a)).length;for(c=Ca(c);g--;){var b=d[a[g]];var n=0;for(e=c.length;n<e;n++)b.attributes[c[n]]={},b.attributesOrder.push(c[n])}};return ac[a]?ac[a]:(c="id accesskey class dir lang style tabindex title role",e="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",g="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",
"html4"!==a&&(c+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",e+=" article aside details dialog figure main header footer hgroup section nav",g+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==a&&(c+=" xml:lang",g=[g,"acronym applet basefont big font strike tt"].join(" "),La(Ca("acronym applet basefont big font strike tt"),function(a){f(a,"",g)}),e=[e,"center dir isindex noframes"].join(" "),b=[e,
g].join(" "),La(Ca("center dir isindex noframes"),function(a){f(a,"",b)})),b=b||[e,g].join(" "),f("html","manifest","head body"),f("head","","base command link meta noscript script style title"),f("title hr noscript br"),f("base","href target"),f("link","href rel media hreflang type sizes hreflang"),f("meta","name http-equiv content charset"),f("style","media type scoped"),f("script","src async defer type charset"),f("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",
b),f("address dt dd div caption","",b),f("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",g),f("blockquote","cite",b),f("ol","reversed start type","li"),f("ul","","li"),f("li","value",b),f("dl","","dt dd"),f("a","href target rel media hreflang type",g),f("q","cite",g),f("ins del","cite datetime",b),f("img","src sizes srcset alt usemap ismap width height"),f("iframe","src name width height",b),f("embed","src type width height"),f("object",
"data type typemustmatch name usemap form width height",[b,"param"].join(" ")),f("param","name value"),f("map","name",[b,"area"].join(" ")),f("area","alt coords shape href target rel media hreflang type"),f("table","border","caption colgroup thead tfoot tbody tr"+("html4"===a?" col":"")),f("colgroup","span","col"),f("col","span"),f("tbody thead tfoot","","tr"),f("tr","","td th"),f("td","colspan rowspan headers",b),f("th","colspan rowspan headers scope abbr",b),f("form","accept-charset action autocomplete enctype method name novalidate target",
b),f("fieldset","disabled form name",[b,"legend"].join(" ")),f("label","form for",g),f("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),f("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===a?b:g),f("select","disabled form multiple name required size","option optgroup"),
f("optgroup","disabled label","option"),f("option","disabled label selected value"),f("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),f("menu","type label",[b,"li"].join(" ")),f("noscript","",b),"html4"!==a&&(f("wbr"),f("ruby","",[g,"rt rp"].join(" ")),f("figcaption","",b),f("mark rt rp summary bdi","",g),f("canvas","width height",b),f("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[b,"track source"].join(" ")),
f("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[b,"track source"].join(" ")),f("picture","","img source"),f("source","src srcset type media sizes"),f("track","kind src srclang label default"),f("datalist","",[g,"option"].join(" ")),f("article section nav aside main header footer","",b),f("hgroup","","h1 h2 h3 h4 h5 h6"),f("figure","",[b,"figcaption"].join(" ")),f("time","datetime",g),f("dialog","open",b),f("command","type label icon disabled checked radiogroup command"),
f("output","for form name",g),f("progress","value max",g),f("meter","value min max low high optimum",g),f("details","open",[b,"summary"].join(" ")),f("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==a&&(v("script","language xml:space"),v("style","xml:space"),v("object","declare classid code codebase codetype archive standby align border hspace vspace"),v("embed","align name hspace vspace"),v("param","valuetype type"),v("a","charset name rev shape coords"),v("br","clear"),
v("applet","codebase archive code object alt name width height align hspace vspace"),v("img","name longdesc align border hspace vspace"),v("iframe","longdesc frameborder marginwidth marginheight scrolling align"),v("font basefont","size color face"),v("input","usemap align"),v("select","onchange"),v("textarea"),v("h1 h2 h3 h4 h5 h6 div p legend caption","align"),v("ul","type compact"),v("li","type"),v("ol dl menu dir","compact"),v("pre","width xml:space"),v("hr","align noshade size width"),v("isindex",
"prompt"),v("table","summary width frame rules cellspacing cellpadding align bgcolor"),v("col","width align char charoff valign"),v("colgroup","width align char charoff valign"),v("thead","align char charoff valign"),v("tr","align char charoff valign bgcolor"),v("th","axis align char charoff valign nowrap bgcolor width height"),v("form","accept"),v("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),v("tfoot","align char charoff valign"),v("tbody","align char charoff valign"),
v("area","nohref"),v("body","background bgcolor text link vlink alink")),"html4"!==a&&(v("input button select textarea","autofocus"),v("input textarea","placeholder"),v("a","download"),v("link script img","crossorigin"),v("iframe","sandbox seamless allowfullscreen")),La(Ca("a form meter progress dfn"),function(a){d[a]&&delete d[a].children[a]}),delete d.caption.children.table,delete d.script,ac[a]=d)},ng=function(a,c){var e;return a&&(e={},"string"==typeof a&&(a={"*":a}),La(a,function(a,b){e[b]=e[b.toUpperCase()]=
"map"===c?Wc(a,/[, ]/):Ai(a,/[, ]/)})),e},Bi=function(a,c,e,g){a=function(a){return 1<(a=parseInt(a,10).toString(16)).length?a:"0"+a};return"#"+a(c)+a(e)+a(g)},Tg,Xc=C.each,Ao=C.grep,Ei=S.ie,zo=/^([a-z0-9],?)+$/i,Gi=/^[ \t\r\n]*$/,Bo=function(a,c,e){var g={},b=c.keep_values,d={set:function(a,g,b){c.url_converter&&(g=c.url_converter.call(c.url_converter_scope||e(),g,b,a[0]));a.attr("data-mce-"+b,g).attr(b,g)},get:function(a,c){return a.attr("data-mce-"+c)||a.attr(c)}};return g={style:{set:function(a,
c){null===c||"object"!=typeof c?(b&&a.attr("data-mce-style",c),a.attr("style",c)):a.css(c)},get:function(c){var e=c.attr("data-mce-style")||c.attr("style");return a.serialize(a.parse(e),c[0].nodeName)}}},b&&(g.href=g.src=d),g},Fi=function(a,c){var e=c.attr("style");(a=a.serialize(a.parse(e),c[0].nodeName))||(a=null);c.attr("data-mce-style",a)},Yc=function(a,c){var e=0;if(a){var g=a.nodeType;for(a=a.previousSibling;a;a=a.previousSibling){var b=a.nodeType;(!c||3!==b||b!==g&&a.nodeValue.length)&&(e++,
g=b)}}return e};(Tg=fa||(fa={})).DOM=Tg(document);Tg.nodeIndex=Yc;var ua=fa,Pj=ua.DOM,Ug=C.each,bq=C.grep,df=function(a){return"function"==typeof a},Pb=function(){var a={},c=[],e={},g=[],b=0;this.isDone=function(c){return 2===a[c]};this.markDone=function(c){a[c]=2};this.add=this.load=function(g,b,d,n){void 0===a[g]&&(c.push(g),a[g]=0);b&&(e[g]||(e[g]=[]),e[g].push({success:b,failure:n,scope:d||this}))};this.remove=function(c){delete a[c];delete e[c]};this.loadQueue=function(a,e,g){this.loadScripts(c,
a,e,g)};this.loadScripts=function(c,d,n,f){var t,u=[],v=function(a,c){Ug(e[c],function(c){df(c[a])&&c[a].call(c.scope)});e[c]=void 0};g.push({success:d,failure:f,scope:n||this});(t=function(){var e=bq(c);(c.length=0,Ug(e,function(c){var e,g,d,n;2!==a[c]?3!==a[c]?1!==a[c]&&(a[c]=1,b++,e=function(){a[c]=2;b--;v("success",c);t()},g=function(){a[c]=3;b--;u.push(c);v("failure",c);t()},n=Pj.uniqueId(),(d=document.createElement("script")).id=n,d.type="text/javascript",d.src=C._addCacheSuffix(c),d.onload=
function(){Pj.remove(n);d&&(d.onreadystatechange=d.onload=d=null);e()},d.onerror=function(){df(g)?g():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+c)},(document.getElementsByTagName("head")[0]||document.body).appendChild(d)):v("failure",c):v("success",c)}),b)||(e=g.slice(0),g.length=0,Ug(e,function(a){0===u.length?df(a.success)&&a.success.call(a.scope):df(a.failure)&&a.failure.call(a.scope,u)}))})()}};Pb.ScriptLoader=new Pb;var ef,og=C.each;(ef=R||(R={})).PluginManager=
ef();ef.ThemeManager=ef();var mc=function(a,c){Ec(a).each(function(e){e.dom().insertBefore(c.dom(),a.dom())})},Vg=function(a,c){Ng(a).fold(function(){Ec(a).each(function(a){ob(a,c)})},function(a){mc(a,c)})},ob=function(a,c){a.dom().appendChild(c.dom())},Wg=function(a,c){U(c,function(c){ob(a,c)})},Xg=function(a){a.dom().textContent="";U(lc(a),function(a){cb(a)})},cb=function(a){a=a.dom();null!==a.parentNode&&a.parentNode.removeChild(a)},Ji=function(a){var c=lc(a);0<c.length&&U(c,function(c){mc(a,c)});
cb(a)},Qj=function(a,c){var e=null;return{cancel:function(){null!==e&&(clearTimeout(e),e=null)},throttle:function(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];null===e&&(e=setTimeout(function(){a.apply(null,g);e=null},c))}}},bc=function(a){var c=a;return{get:function(){return c},set:function(a){c=a},clone:function(){return bc(c)}}},Yg=function(a,c){a=we(a,c);return void 0===a||""===a?[]:a.split(" ")},ff=function(a){return void 0!==a.dom().classList},cq=function(a,c){return b=c,0<(d=
Ka(Yg(e=a,g="class"),function(a){return a!==b})).length?Nd(e,g,d.join(" ")):Pd(e,g),!1;var e,g,b,d},Zg=function(a,c){if(ff(a))a.dom().classList.add(c);else a:{var e=c;e=Yg(a,c="class").concat([e]);Nd(a,c,e.join(" "));break a}},Rj=function(a,c){return ff(a)&&a.dom().classList.contains(c)},$a=function(a,c){return e=c,b=void 0===(g=a)?document:g.dom(),b.nodeType!==Te&&b.nodeType!==Aj||0===b.childElementCount?[]:Ja(b.querySelectorAll(e),H.fromDom);var e,g,b},Va,gf=function(a,c,e){a=a.dom();for(e=Mb(e)?
e:F(!1);a.parentNode;){a=a.parentNode;var g=H.fromDom(a);if(c(g))return m.some(g);if(e(g))break}return m.none()},Sj=function(a,c,e){return pa(function(a){return c(a)},gf,a,c,e)},hf=function(a,c,e){return gf(a,function(a){return Qd(a,c)},e)},jf=function(a,c){return e=c,b=void 0===(g=a)?document:g.dom(),b.nodeType!==Te&&b.nodeType!==Aj||0===b.childElementCount?m.none():m.from(b.querySelector(e)).map(H.fromDom);var e,g,b},Tj=function(a,c,e){return pa(Qd,hf,a,c,e)},$g=F("mce-annotation"),Fd=F("data-mce-annotation"),
xe=F("data-mce-annotation-uid"),Ii=function(a,c){var e=a.selection.getRng(),g=H.fromDom(e.startContainer),b=H.fromDom(a.getBody());c=c.fold(function(){return"."+$g()},function(a){return"["+Fd()+'="'+a+'"]'});e=Rd(g,e.startOffset).getOr(g);var d=function(a,c){return e=c,(g=a.dom())&&g.hasAttribute&&g.hasAttribute(e)?m.some(we(a,c)):m.none();var e,g};return Tj(e,c,function(a){return za(a,b)}).bind(function(c){return d(c,""+xe()).bind(function(e){return d(c,""+Fd()).map(function(c){var g=H.fromDom(a.getBody());
g=$a(g,"["+xe()+'="'+e+'"]');return{uid:e,name:c,elements:g}})})})},Eo=function(a,c){var e,g,b=bc({}),d=function(a,c){f(a,function(a){return c(a),a})},f=function(a,c){var e=b.get();c=c(e.hasOwnProperty(a)?e[a]:{listeners:[],previous:bc(m.none())});e[a]=c;b.set(e)},v=(e=function(){var c,e,g=b.get();g=(c=Ue(g),(e=kg.call(c,0)).sort(void 0),e);U(g,function(c){f(c,function(e){var g=e.previous.get();return Ii(a,m.some(c)).fold(function(){g.isSome()&&(d(c,function(a){U(a.listeners,function(a){return a(!1,
c)})}),e.previous.set(m.none()))},function(a){var c=a.uid,b=a.name,n=a.elements;g.is(c)||(d(b,function(a){U(a.listeners,function(a){return a(!0,b,{uid:c,nodes:Ja(n,function(a){return a.dom()})})})}),e.previous.set(m.some(c)))}),{previous:e.previous,listeners:e.listeners}})})},g=null,{cancel:function(){null!==g&&(clearTimeout(g),g=null)},throttle:function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];null!==g&&clearTimeout(g);g=setTimeout(function(){e.apply(null,a);g=null},30)}});return a.on("remove",
function(){v.cancel()}),a.on("nodeChange",function(){v.throttle()}),{addListener:function(a,c){f(a,function(a){return{previous:a.previous,listeners:a.listeners.concat([c])}})}}},Do=function(a,c){a.on("init",function(){a.serializer.addNodeFilter("span",function(a){U(a,function(a){m.from(a.attributes.map[Fd()]).bind(c.lookup).each(function(c){!1===c.persistent&&a.unwrap()})})})})},dq=0,gd=function(a){return H.fromDom(a.dom().cloneNode(!1))},Uj=function(a,c){var e,g=We(a).dom(),b=H.fromDom(g.createDocumentFragment());
c=((e=(g||document).createElement("div")).innerHTML=c,lc(H.fromDom(e)));Wg(b,c);Xg(a);ob(a,b)},ah=[].slice,Vj=function(a){for(var c=1;c<arguments.length;c++);var e=ah.call(arguments);return e.length-1>=a.length?a.apply(this,e.slice(1)):function(){var a=e.concat([].slice.call(arguments));return Vj.apply(this,a)}},Ga={constant:function(a){return function(){return a}},negate:function(a){return function(c){return!a(c)}},and:function(){for(var a=0;a<arguments.length;a++);var c=ah.call(arguments);return function(a){for(var e=
0;e<c.length;e++)if(!c[e](a))return!1;return!0}},or:function(){for(var a=0;a<arguments.length;a++);var c=ah.call(arguments);return function(a){for(var e=0;e<c.length;e++)if(c[e](a))return!0;return!1}},curry:Vj,compose:function(a,c){return function(e){return a(c(e))}},noop:function(){}},cc=function(a){return a.replace(/\ufeff/g,"")},eq=B.isElement,hd=B.isText,nc=function(a){return hd(a)&&(a=a.parentNode),eq(a)&&a.hasAttribute("data-mce-caret")},kf=function(a){return hd(a)&&"\ufeff"===a.data},mb=function(a){return nc(a)||
kf(a)},bh=function(a){var c=a.container();return a&&B.isText(c)&&"\ufeff"===c.data.charAt(a.offset())},ch=function(a){var c=a.container();return a&&B.isText(c)&&"\ufeff"===c.data.charAt(a.offset()-1)},fq=function(a,c,e){var g,b,d;return(g=c.ownerDocument.createElement(a)).setAttribute("data-mce-caret",e?"before":"after"),g.setAttribute("data-mce-bogus","all"),g.appendChild(((d=document.createElement("br")).setAttribute("data-mce-bogus","1"),d)),b=c.parentNode,e?b.insertBefore(g,c):c.nextSibling?b.insertBefore(g,
c.nextSibling):b.appendChild(g),g},lf=function(a){return hd(a)&&"\ufeff"===a.data[0]},mf=function(a){return hd(a)&&"\ufeff"===a.data[a.data.length-1]},dh=function(a){return a&&a.hasAttribute("data-mce-caret")?(c=a.getElementsByTagName("br"),e=c[c.length-1],B.isBogus(e)&&e.parentNode.removeChild(e),a.removeAttribute("data-mce-caret"),a.removeAttribute("data-mce-bogus"),a.removeAttribute("style"),a.removeAttribute("_moz_abspos"),a):null;var c,e},Wj=B.isContentEditableTrue,gq=B.isContentEditableFalse,
hq=B.isBr,iq=B.isText,jq=B.matchNodeNames("script style textarea"),Xj=B.matchNodeNames("img input textarea hr iframe video audio object"),kq=B.matchNodeNames("table"),lq=mb,db=function(a){return!lq(a)&&(iq(a)?!jq(a.parentNode):Xj(a)||hq(a)||kq(a)||eh(a))},eh=function(a){return!1===(c=a,B.isElement(c)&&"true"===c.getAttribute("unselectable"))&&gq(a);var c},fh=function(a){return Xj(a)||!!eh(c=a)&&!0!==W.reduce(c.getElementsByTagName("*"),function(a,c){return a||Wj(c)},!1);var c},id=function(a,c){var e;
if(e=db(a))a:{for(a=a.parentNode;a&&a!==c;a=a.parentNode){if(eh(a)){e=!1;break a}if(Wj(a)){e=!0;break a}}e=!0}return e},jd=Math.round,Gc=function(a){return a?{left:jd(a.left),top:jd(a.top),bottom:jd(a.bottom),right:jd(a.right),width:jd(a.width),height:jd(a.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Yj=function(a,c){return a=Gc(a),c||(a.left+=a.width),a.right=a.left,a.width=0,a},Zj=function(a,c,e){return 0<=a&&a<=Math.min(c.height,e.height)/2},kd=function(a,c){return a.bottom-a.height/
2<c.top||!(a.top>c.bottom)&&Zj(c.top-a.bottom,a,c)},ld=function(a,c){return a.top>c.bottom||!(a.bottom<c.top)&&Zj(c.bottom-a.top,a,c)},nf=function(a){var c=a.startContainer,e=a.startOffset;return c.hasChildNodes()&&a.endOffset===e+1?c.childNodes[e]:null},md=function(a,c){return 1===a.nodeType&&a.hasChildNodes()&&(c>=a.childNodes.length&&(c=a.childNodes.length-1),a=a.childNodes[c]),a},mq=/[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]/,
ak=function(a){return"string"==typeof a&&768<=a.charCodeAt(0)&&mq.test(a)},eb=function(a,c){for(var e=[],g=0;g<a.length;g++){var b=a[g];if(!b.isSome())return m.none();e.push(b.getOrDie())}return m.some(c.apply(null,e))},bk=B.isElement,ck=B.matchStyleValues("display","block table"),nq=B.matchStyleValues("float","left right"),Td=Ga.and(bk,db,Ga.negate(nq)),oq=Ga.negate(B.matchStyleValues("white-space","pre pre-line pre-wrap")),Ed=B.isText,gh=B.isBr,dk=ua.nodeIndex,ve=md,pg=function(a){return"createRange"in
a?a.createRange():ua.DOM.createRng()},hh=function(a){return a&&/[\r\n\t ]/.test(a)},ih=function(a){var c,e=a.startContainer,g=a.startOffset;return!!(hh(a.toString())&&oq(e.parentNode)&&B.isText(e)&&(c=e.data,hh(c[g-1])||hh(c[g+1])))},ek=function(a){return 0===a.left&&0===a.right&&0===a.top&&0===a.bottom},oc=function(a){var c,e,g;var b=0<(c=a.getClientRects()).length?Gc(c[0]):Gc(a.getBoundingClientRect());if(a.setStart&&a.setEnd||!gh(a)||!ek(b))if(ek(b)&&a.setStart&&a.setEnd){var d=a.endContainer;
var f=a.startOffset;var v=a.endOffset;a.startContainer===d&&B.isText(d)&&0===f&&1===v?(a=a.cloneRange(),a=(a.setEndAfter(d),oc(a))):a=null}else a=b;else a=(f=a.ownerDocument,v=pg(f),e=f.createTextNode("\u00a0"),(g=a.parentNode).insertBefore(e,a),v.setStart(e,0),v.setEnd(e,1),d=Gc(v.getBoundingClientRect()),g.removeChild(e),d);return a},Hc=function(a,c){a=Yj(a,c);return a.width=1,a.right=a.left+1,a},Co=function(a){var c=[],e=function(a){var e;0!==a.height&&(0<c.length&&(e=c[c.length-1],a.left===e.left&&
a.top===e.top&&a.bottom===e.bottom&&a.right===e.right)||c.push(a))},g=function(a,g){var b=pg(a.ownerDocument);if(g<a.data.length){if(ak(a.data[g]))return c;if(ak(a.data[g-1])&&(b.setStart(a,g),b.setEnd(a,g+1),!ih(b)))return e(Hc(oc(b),!1)),c}0<g&&(b.setStart(a,g-1),b.setEnd(a,g),ih(b)||e(Hc(oc(b),!1)));g<a.data.length&&(b.setStart(a,g),b.setEnd(a,g+1),ih(b)||e(Hc(oc(b),!0)))};if(Ed(a.container()))return g(a.container(),a.offset()),c;if(bk(a.container()))if(a.isAtEnd()){var b=ve(a.container(),a.offset());
Ed(b)&&g(b,b.data.length);Td(b)&&!gh(b)&&e(Hc(oc(b),!1))}else{if(b=ve(a.container(),a.offset()),Ed(b)&&g(b,0),Td(b)&&a.isAtEnd())return e(Hc(oc(b),!1)),c;a=ve(a.container(),a.offset()-1);Td(a)&&!gh(a)&&(ck(a)||ck(b)||!Td(b))&&e(Hc(oc(a),!1));Td(b)&&e(Hc(oc(b),!0))}return c};(Va=M||(M={})).fromRangeStart=function(a){return Va(a.startContainer,a.startOffset)};Va.fromRangeEnd=function(a){return Va(a.endContainer,a.endOffset)};Va.after=function(a){return Va(a.parentNode,dk(a)+1)};Va.before=function(a){return Va(a.parentNode,
dk(a))};Va.isAbove=function(a,c){return eb([Qa(c.getClientRects()),Pa(a.getClientRects())],kd).getOr(!1)};Va.isBelow=function(a,c){return eb([Pa(c.getClientRects()),Qa(a.getClientRects())],ld).getOr(!1)};Va.isAtStart=function(a){return!!a&&a.isAtStart()};Va.isAtEnd=function(a){return!!a&&a.isAtEnd()};Va.isTextPosition=function(a){return!!a&&B.isText(a.container())};Va.isElementPosition=function(a){return!1===Va.isTextPosition(a)};var fb,of,I=M,zb=B.isText,fk=B.isBogus,gk=ua.nodeIndex,hk=function(a){a=
a.parentNode;return fk(a)?hk(a):a},jh=function(a){return a?W.reduce(a.childNodes,function(a,e){return fk(e)&&"BR"!==e.nodeName?a=a.concat(jh(e)):a.push(e),a},[]):[]},ik=function(a){return function(c){return a===c}},jk=function(a){var c,e,g;return(zb(a)?"text()":a.nodeName.toLowerCase())+"["+(c=jh(hk(a)),e=W.findIndex(c,ik(a),a),c=c.slice(0,e+1),g=W.reduce(c,function(a,e,g){return zb(e)&&zb(c[g-1])&&a++,a},0),c=W.filter(c,B.matchNodeNames(a.nodeName)),(e=W.findIndex(c,ik(a),a))-g)+"]"},kk=function(a,
c){var e,g,b,d,f,v=[];return e=c.container(),g=c.offset(),zb(e)?b=function(a,c){for(;(a=a.previousSibling)&&zb(a);)c+=a.data.length;return c}(e,g):(g>=(d=e.childNodes).length?(b="after",g=d.length-1):b="before",e=d[g]),v.push(jk(e)),f=function(a,c,e){var g=[];for(c=c.parentNode;!(c===a||e&&e(c));c=c.parentNode)g.push(c);return g}(a,e),f=W.filter(f,Ga.negate(B.isBogus)),(v=v.concat(W.map(f,function(a){return jk(a)}))).reverse().join("/")+","+b},lk=function(a,c){var e,g,b;return c?(c=(e=c.split(","))[0].split("/"),
b=1<e.length?e[1]:"before",(g=W.reduce(c,function(a,c){return(c=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(c))?("text()"===c[1]&&(c[1]="#text"),e=a,g=c[1],b=parseInt(c[2],10),d=jh(e),d=W.filter(d,function(a,c){return!zb(a)||!zb(d[c-1])}),(d=W.filter(d,B.matchNodeNames(g)))[b]):null;var e,g,b,d},a))?zb(g)?function(a,c){for(var e,g=a,b=0;zb(g);){if(e=g.data.length,b<=c&&c<=b+e){a=g;c-=b;break}if(!zb(g.nextSibling)){a=g;c=e;break}b+=e;g=g.nextSibling}return zb(a)&&c>a.data.length&&(c=a.data.length),I(a,c)}(g,
parseInt(b,10)):(b="after"===b?gk(g)+1:gk(g),I(g.parentNode,b)):null):null},pf=B.isContentEditableFalse,mk=function(a,c,e,g,b){var d,n=g[b?"startContainer":"endContainer"];g=g[b?"startOffset":"endOffset"];b=[];var f=0,l=a.getRoot();for(B.isText(n)?b.push(e?function(a,c,e){e=a(c.data.slice(0,e)).length;for(c=c.previousSibling;c&&B.isText(c);c=c.previousSibling)e+=a(c.data).length;return e}(c,n,g):g):(g>=(d=n.childNodes).length&&d.length&&(f=1,g=Math.max(0,d.length-1)),b.push(a.nodeIndex(d[g],e)+f));n&&
n!==l;n=n.parentNode)b.push(a.nodeIndex(n,e));return b},kh=function(a){B.isText(a)&&0===a.data.length&&a.parentNode.removeChild(a)},lh=function(a,c,e){var g=0;return C.each(a.select(c),function(a){if("all"!==a.getAttribute("data-mce-bogus"))return a!==e&&void g++}),g},nk=function(a,c){var e;var g=c?"start":"end";var b=a[g+"Container"];g=a[g+"Offset"];B.isElement(b)&&"TR"===b.nodeName&&(b=(e=b.childNodes)[Math.min(c?g:g-1,e.length-1)])&&(g=c?0:b.childNodes.length,a["set"+(c?"Start":"End")](b,g))},
ok=function(a){return nk(a,!0),nk(a,!1),a},pk=function(a,c){var e;if(B.isElement(a)&&(a=md(a,c),pf(a)))return a;if(mb(a)&&((B.isText(a)&&nc(a)&&(a=a.parentNode),e=a.previousSibling,pf(e))||(e=a.nextSibling,pf(e))))return e},qk=function(a,c,e){var g=e.getNode(),b=g?g.nodeName:null,d=e.getRng();if(pf(g)||"IMG"===b)return{name:b,index:lh(e.dom,b,g)};var f,v;return(g=pk(d.startContainer,d.startOffset)||pk(d.endContainer,d.endOffset))?{name:b=g.tagName,index:lh(e.dom,b,g)}:(f=e.dom,(v={}).start=mk(f,a,
c,d,!0),e.isCollapsed()||(v.end=mk(f,a,c,d,!1)),v)},rk=function(a,c,e){c={"data-mce-type":"bookmark",id:c,style:"overflow:hidden;line-height:0px"};return e?a.create("span",c,"&#xFEFF;"):a.create("span",c)},sk=function(a,c){var e=a.dom,g=a.getRng(),b=e.uniqueId(),d=a.isCollapsed(),f=a.getNode(),v=f.nodeName;if("IMG"===v)return{name:v,index:lh(e,v,f)};f=ok(g.cloneRange());d||(f.collapse(!1),d=rk(e,b+"_end",c),f.insertNode(d),kh(d.nextSibling));(g=ok(g)).collapse(!0);c=rk(e,b+"_start",c);return g.insertNode(c),
kh(c.previousSibling),kh(c.nextSibling),a.moveToBookmark({id:b,keep:1}),{id:b}},Zc={getBookmark:function(a,c,e){return 2===c?qk(cc,e,a):3===c?(b=(g=a).getRng(),{start:kk(g.dom.getRoot(),I.fromRangeStart(b)),end:kk(g.dom.getRoot(),I.fromRangeEnd(b))}):c?{rng:a.getRng()}:sk(a,!1);var g,b},getUndoBookmark:K(qk,ra,!0),getPersistentBookmark:sk},Sb=function(a){return B.isElement(a)&&"_mce_caret"===a.id},Ic=function(a,c){for(;c&&c!==a;){if("_mce_caret"===c.id)return c;c=c.parentNode}return null},pq=B.isElement,
tk=B.isText,mh=function(a){var c=a.parentNode;c&&c.removeChild(a)},uk=function(a){var c=cc(a);return{count:a.length-c.length,text:c}},qq=function(a,c){var e,g,b=c.container(),d=(e=go(b.childNodes),g=ui(e,a),-1===g?m.none():m.some(g)).map(function(a){return a<c.offset()?I(b,c.offset()-1):c}).getOr(c);return qf(a),d},qf=function(a){if(pq(a)&&mb(a)&&(a.firstChild===a.lastChild&&B.isBr(a.firstChild)?mh(a):a.removeAttribute("data-mce-caret")),tk(a)){try{var c=a.nodeValue}catch(e){c=""}c=cc(c);0===c.length?
mh(a):a.nodeValue=c}},nd={removeAndReposition:function(a,c){if(I.isTextPosition(c))a:{if(tk(a)&&c.container()===a){var e=c;c=uk(a.data.substr(0,e.offset()));var g=uk(a.data.substr(e.offset()));0<(b=c.text+g.text).length&&(g=a,0===b.length?mh(g):g.nodeValue=b,e=I(a,e.offset()-c.count))}else e=(qf(a),c);break a;var b}else e=a,e=(a=c).container()===e.parentNode?qq(e,a):(qf(e),a);return e},remove:qf},rq=B.isContentEditableTrue,rf=B.isContentEditableFalse,pc=function(a,c,e,g,b){return c._selectionOverrides.showCaret(a,
e,g,b)},nh=function(a,c){var e;return a.fire("BeforeObjectSelected",{target:c}).isDefaultPrevented()?null:((e=c.ownerDocument.createRange()).selectNode(c),e)},vk=function(a,c,e){c=sf(1,a.getBody(),c);c=I.fromRangeStart(c);var g=c.getNode();if(rf(g))return pc(1,a,g,!c.isAtEnd(),!1);g=c.getNode(!0);if(rf(g))return pc(1,a,g,!1,!1);c=a.dom.getParent(c.getNode(),function(a){return rf(a)||rq(a)});return rf(c)?pc(1,a,c,!1,e):null},oh=function(a,c,e){return c&&c.collapsed?vk(a,c,e)||c:c};(of=fb||(fb={}))[of.Backwards=
-1]="Backwards";of[of.Forwards=1]="Forwards";var Ib,qc,sq=B.isContentEditableFalse,Tb=B.isText,wk=B.isElement,ph=B.isBr,xk=function(a,c){return a.hasChildNodes()&&c<a.childNodes.length?a.childNodes[c]:null},yk=function(a,c){if(0<a){if(db(c.previousSibling)&&!Tb(c.previousSibling))return I.before(c);if(Tb(c))return I(c,0)}if(0>a){if(db(c.nextSibling)&&!Tb(c.nextSibling))return I.after(c);if(Tb(c))return I(c,c.data.length)}return 0>a?ph(c)?I.before(c):I.after(c):I.before(c)},tf=function(a,c,e){var g,
b;if(!wk(e)||!c)return null;if(c.isEqual(I.after(e))&&e.lastChild&&(c=I.after(e.lastChild),0>a&&db(e.lastChild)&&wk(e.lastChild)))return ph(e.lastChild)?I.before(e.lastChild):c;var d,f,v=c.container(),l=c.offset();if(Tb(v)){if(0>a&&0<l)return I(v,--l);if(0<a&&l<v.length)return I(v,++l);var m=v}else{if(0>a&&0<l&&(g=xk(v,l-1),db(g)))return!fh(g)&&(m=od(g,a,id,g))?Tb(m)?I(m,m.data.length):I.after(m):Tb(g)?I(g,g.data.length):I.before(g);if(0<a&&l<v.childNodes.length&&(g=xk(v,l),db(g)))return ph(g)&&e.lastChild===
g?null:(d=g,B.isBr(d)&&!fh(d.nextSibling)&&(f=tf(fb.Forwards,I.after(d),e))&&!rc(I.before(d),I.before(f),e)?tf(a,I.after(g),e):!fh(g)&&(m=od(g,a,id,g))?Tb(m)?I(m,0):I.before(m):Tb(g)?I(g,0):I.after(g));m=g||c.getNode()}return(0<a&&c.isAtEnd()||0>a&&c.isAtStart())&&(m=od(m,a,Ga.constant(!0),e,!0),id(m,e))?yk(a,m):(g=od(m,a,id,e),!(b=W.last(W.filter(function(a,c){for(var e=[];a&&a!==c;)e.push(a),a=a.parentNode;return e}(v,e),sq)))||g&&b.contains(g)?g?yk(a,g):null:c=0<a?I.after(b):I.before(b))},Jb=function(a){return{next:function(c){return tf(fb.Forwards,
c,a)},prev:function(c){return tf(fb.Backwards,c,a)}}};(qc=Ib||(Ib={}))[qc.Br=0]="Br";qc[qc.Block=1]="Block";qc[qc.Wrap=2]="Wrap";qc[qc.Eol=3]="Eol";var qh,rh,zk,uf=function(a,c){return a===fb.Backwards?c.reverse():c},Ak=function(a,c,e,g){var b,d,f,v,l,h;e=Jb(e);var k=g;for(g=[];k&&(l=e,h=k,b=c===fb.Forwards?l.next(h):l.prev(h));){if(B.isBr(b.getNode(!1)))return c===fb.Forwards?{positions:uf(c,g).concat([b]),breakType:Ib.Br,breakAt:m.some(b)}:{positions:uf(c,g),breakType:Ib.Br,breakAt:m.some(b)};if(b.isVisible()){if(a(k,
b))return a=(d=c,f=k,v=b,B.isBr(v.getNode(d===fb.Forwards))?Ib.Br:!1===rc(f,v)?Ib.Block:Ib.Wrap),{positions:uf(c,g),breakType:a,breakAt:m.some(b)};g.push(b)}k=b}return{positions:uf(c,g),breakType:Ib.Eol,breakAt:m.none()}},Bk=function(a,c,e,b){return c(e,b).breakAt.map(function(b){var g=c(e,b).positions;return a===fb.Backwards?g.concat(b):[b].concat(g)}).getOr([])},sh=function(a,c){return Yb(a,function(a,b){return a.fold(function(){return m.some(b)},function(e){return eb([Qa(e.getClientRects()),Qa(b.getClientRects())],
function(a,g){return Math.abs(c-g.left)<=Math.abs(c-a.left)?b:e}).or(a)})},m.none())},Ck=function(a,c){return Qa(c.getClientRects()).bind(function(c){return sh(a,c.left)})},th=K(Ak,M.isAbove,-1),uh=K(Ak,M.isBelow,1),tq=K(Bk,-1,th),uq=K(Bk,1,uh),Dk=function(a,c,e,b,d){var g;e=$a(H.fromDom(e),"td,th,caption").map(function(a){return a.dom()});return(g=Ka(wa(e,function(c){var e,b=(e=Gc(c.getBoundingClientRect()),{left:e.left- -1,top:e.top- -1,right:e.right+-2,bottom:e.bottom+-2,width:e.width+-1,height:e.height+
-1});return[{x:b.left,y:a(b),cell:c},{x:b.right,y:a(b),cell:c}]}),function(a){return c(a,d)}),Yb(g,function(a,c){return a.fold(function(){return m.some(c)},function(a){return m.some(Math.sqrt(Math.abs(c.x-b)+Math.abs(c.y-d))<Math.sqrt(Math.abs(a.x-b)+Math.abs(a.y-d))?c:a)})},m.none())).map(function(a){return a.cell})},vq=K(Dk,function(a){return a.bottom},function(a,c){return a.y<c}),wq=K(Dk,function(a){return a.top},function(a,c){return a.y>c}),xq=function(a,c){return Qa(c.getClientRects()).bind(function(c){return vq(a,
c.left,c.top)}).bind(function(a){return Ck((e=a,X.lastPositionIn(e).map(function(a){return th(e,a).positions.concat(a)}).getOr([])),c);var e})},yq=function(a,c){return Pa(c.getClientRects()).bind(function(c){return wq(a,c.left,c.top)}).bind(function(a){return Ck((e=a,X.firstPositionIn(e).map(function(a){return[a].concat(uh(e,a).positions)}).getOr([])),c);var e})},Ek=function(a){for(var c=0,e=0;a&&a.nodeType;)c+=a.offsetLeft||0,e+=a.offsetTop||0,a=a.offsetParent;return{x:c,y:e}},zq=function(a,c){Qa(M.fromRangeStart(c).getClientRects()).each(function(c){var e,
b;if(a.inline)var d=a.getBody().getBoundingClientRect();else d=a.getWin(),d={left:0,right:d.innerWidth,top:0,bottom:d.innerHeight,width:d.innerWidth,height:d.innerHeight};d=(b=e=d,c.left>b.left&&c.right<b.right?0:c.left<b.left?c.left-b.left:c.right-b.right);b=c.top>e.top&&c.bottom<e.bottom?0:c.top<e.top?c.top-e.top:c.bottom-e.bottom;c=0!==d?0<d?d+4:d-4:0;b=0!==b?0<b?b+4:b-4:0;a.inline?(a.getBody().scrollLeft+=c,a.getBody().scrollTop+=b):a.getWin().scrollBy(c,b)})},Fk=function(a,c,e){var b=a.getParam(c,
e);return-1!==b.indexOf("=")?(c=a.getParam(c,"","hash"),c.hasOwnProperty(a.id)?c[a.id]:e):b},Jc=function(a){if(a.getParam("force_p_newlines",!1))return"p";a=a.getParam("forced_root_block","p");return!1===a?"":a},Ri=function(a){return a.getParam("automatic_uploads",!0,"boolean")},pd=kc.detect().browser,Ud=function(a,c){a.selection.setRng(c);zq(a,c)},Gk=function(a,c,e){var b,d=a(c,e);return d.breakType===Ib.Wrap&&0===d.positions.length||!B.isBr(e.getNode())&&(b=d).breakType===Ib.Br&&1===b.positions.length?
!d.breakAt.map(function(e){return a(c,e).breakAt.isSome()}).getOr(!1):d.breakAt.isNone()},Aq=Ga.curry(Gk,th),Bq=Ga.curry(Gk,uh),Cq=function(a,c,e,b){var g;b=a.selection.getRng();var d=c?1:-1;return(pd.isIE()||pd.isEdge()||pd.isFirefox())&&(g=I.fromRangeStart(b),X.positionIn(!c,e).map(function(a){return a.isEqual(g)}).getOr(!1))?(c=pc(d,a,e,!c,!0),Ud(a,c),!0):!1},Dq=function(a,c){a=c.getNode(a);return B.isElement(a)&&"TABLE"===a.nodeName?m.some(a):m.none()},Hk=function(a,c,e){var b=Dq(!!c,e),d=!1===
c;b.fold(function(){return Ud(a,e.toRange())},function(b){return X.positionIn(d,a.getBody()).filter(function(a){return a.isEqual(e)}).fold(function(){return Ud(a,e.toRange())},function(g){return d=c,f=b,t=e,void((u=Jc(n=a))?n.undoManager.transact(function(){var a=H.fromTag(u);Od(a,n.getParam("forced_root_block_attrs",{}));ob(a,H.fromTag("br"));d?Vg(H.fromDom(f),a):mc(H.fromDom(f),a);var c=n.dom.createRng();c.setStart(a.dom(),0);c.setEnd(a.dom(),0);Ud(n,c)}):Ud(n,t.toRange()));var d,n,f,t,u})})},Eq=
function(a,c,e,b){var g=a.selection.getRng(),d=I.fromRangeStart(g),f=a.getBody();if(!c&&Aq(b,d)){var v=xq(e,d).orThunk(function(){return Qa(d.getClientRects()).bind(function(a){return sh(tq(f,I.before(e)),a.left)})}).getOr(I.before(e));return Hk(a,c,v),!0}return!(!c||!Bq(b,d))&&(v=yq(e,d).orThunk(function(){return Qa(d.getClientRects()).bind(function(a){return sh(uq(f,I.after(e)),a.left)})}).getOr(I.after(e)),Hk(a,c,v),!0)},Ik=function(a,c){return function(){return m.from(a.dom.getParent(a.selection.getNode(),
"td,th")).bind(function(e){return m.from(a.dom.getParent(e,"table")).map(function(e){return Cq(a,c,e)})}).getOr(!1)}},Jk=function(a,c){return function(){return m.from(a.dom.getParent(a.selection.getNode(),"td,th")).bind(function(e){return m.from(a.dom.getParent(e,"table")).map(function(b){return Eq(a,c,b,e)})}).getOr(!1)}},Kk=B.isContentEditableFalse,Lk=function(a,c,e){var b,d,f,u,v,l=Yj(c.getBoundingClientRect(),e);return"BODY"===a.tagName?(b=a.ownerDocument.documentElement,d=a.scrollLeft||b.scrollLeft,
f=a.scrollTop||b.scrollTop):(v=a.getBoundingClientRect(),d=a.scrollLeft-v.left,f=a.scrollTop-v.top),l.left+=d,l.right+=d,l.top+=f,l.bottom+=f,l.width=1,0<(u=c.offsetWidth-c.clientWidth)&&(e&&(u*=-1),l.left+=u,l.right+=u),l},Fq=function(a,c,e){var b,d,f=bc(m.none()),u=function(){!function(a){var c,e,b;a=N("*[contentEditable=false]",a);for(e=0;e<a.length;e++){var g=(c=a[e]).previousSibling;mf(g)&&(1===(b=g.data).length?g.parentNode.removeChild(g):g.deleteData(b.length-1,1));g=c.nextSibling;lf(g)&&(1===
(b=g.data).length?g.parentNode.removeChild(g):g.deleteData(0,1))}}(a);d&&(nd.remove(d),d=null);f.get().each(function(a){N(a.caret).remove();f.set(m.none())});clearInterval(b)},v=function(){b=Za.setInterval(function(){e()?N("div.mce-visual-caret",a).toggleClass("mce-visual-caret-hidden"):N("div.mce-visual-caret",a).addClass("mce-visual-caret-hidden")},500)};return{show:function(e,b){var g;if(u(),B.isElement(b)&&/^(TD|TH)$/i.test(b.tagName))return null;if(!c(b))return d=function(a,c){var e,b,g;if(b=
a.ownerDocument.createTextNode("\ufeff"),g=a.parentNode,c){if(e=a.previousSibling,hd(e)){if(mb(e))return e;if(mf(e))return e.splitText(e.data.length-1)}g.insertBefore(b,a)}else{if(e=a.nextSibling,hd(e)){if(mb(e))return e;if(lf(e))return e.splitText(1),e}a.nextSibling?g.insertBefore(b,a.nextSibling):g.appendChild(b)}return b}(b,e),g=b.ownerDocument.createRange(),Kk(d.nextSibling)?(g.setStart(d,0),g.setEnd(d,0)):(g.setStart(d,1),g.setEnd(d,1)),g;d=fq("p",b,e);var n=Lk(a,b,e);N(d).css("top",n.top);n=
N('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(a)[0];return f.set(m.some({caret:n,element:b,before:e})),f.get().each(function(a){e&&N(a.caret).addClass("mce-visual-caret-before")}),v(),(g=b.ownerDocument.createRange()).setStart(d,0),g.setEnd(d,0),g},hide:u,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},
reposition:function(){f.get().each(function(c){var e=Lk(a,c.element,c.before);N(c.caret).css(e)})},destroy:function(){return Za.clearInterval(b)}}},Ub=function(a){return Kk(a)||B.isTable(a)&&(pd.isIE()||pd.isEdge()||pd.isFirefox())},Vd=B.isContentEditableFalse,Gq=B.matchStyleValues("display","block table table-cell table-caption list-item"),Mk=mb,sc=Ga.curry,Nk=B.isElement,vf=function(a,c){for(var e;e=a(c);)if(!nc(e))return e;return null},od=function(a,c,e,b,d){b=new q(a,b);if(0>c){if((Vd(a)||nc(a))&&
e(a=vf(b.prev,!0)))return a;for(;a=vf(b.prev,d);)if(e(a))return a}if(0<c){if((Vd(a)||nc(a))&&e(a=vf(b.next,!0)))return a;for(;a=vf(b.next,d);)if(e(a))return a}return null},tc=function(a,c){for(;a&&a!==c;){if(Gq(a))return a;a=a.parentNode}return null},rc=function(a,c,e){return tc(a.container(),e)===tc(c.container(),e)},vh=function(a,c){var e,b;return c?(e=c.container(),b=c.offset(),Nk(e)?e.childNodes[b+a]:null):null},Ok=function(a,c){var e=c.ownerDocument.createRange();return a?(e.setStartBefore(c),
e.setEndBefore(c)):(e.setStartAfter(c),e.setEndAfter(c)),e},Pk=function(a,c,e){var b,d,f;for(a=a?"previousSibling":"nextSibling";e&&e!==c;){if(b=e[a],Mk(b)&&(b=b[a]),Vd(b)){if(f=e,tc(b,d=c)===tc(f,d))return b;break}if(db(b))break;e=e.parentNode}return null},Wd=sc(Ok,!0),Xd=sc(Ok,!1),sf=function(a,c,e){var b,d,f,u=sc(Pk,!0,c),v=sc(Pk,!1,c);if(d=e.startContainer,c=e.startOffset,nc(d)){if(Nk(d)||(d=d.parentNode),"before"===(f=d.getAttribute("data-mce-caret"))&&(b=d.nextSibling,Ub(b)))return Wd(b);if("after"===
f&&(b=d.previousSibling,Ub(b)))return Xd(b)}if(!e.collapsed)return e;if(B.isText(d)){if(Mk(d)){if(1===a){if(b=v(d))return Wd(b);if(b=u(d))return Xd(b)}if(-1===a){if(b=u(d))return Xd(b);if(b=v(d))return Wd(b)}return e}if(mf(d)&&c>=d.data.length-1)return 1===a&&(b=v(d))?Wd(b):e;if(lf(d)&&1>=c)return-1===a&&(b=u(d))?Xd(b):e;if(c===d.data.length)return(b=v(d))?Wd(b):e;if(0===c)return(b=u(d))?Xd(b):e}return e},Qk=function(a,c){a=vh(a,c);return Vd(a)&&!B.isBogusAll(a)},Rk=function(a,c){return B.isTable(vh(a,
c))},Sk=function(a,c){return m.from(vh(a?0:-1,c)).filter(Vd)},Tk=function(a,c,e){c=sf(a,c,e);return-1===a?M.fromRangeStart(c):M.fromRangeEnd(c)},Yd=sc(Qk,0),Zd=sc(Qk,-1),Hq=sc(Rk,0),Iq=sc(Rk,-1),Uk=function(a){return I.isTextPosition(a)?0===a.offset():db(a.getNode())},Vk=function(a){if(I.isTextPosition(a)){var c=a.container();return a.offset()===c.data.length}return db(a.getNode(!0))},Wk=function(a,c){return!I.isTextPosition(a)&&!I.isTextPosition(c)&&a.getNode()===c.getNode(!0)},qd=function(a,c,e){c=
Jb(c);return m.from(a?c.next(e):c.prev(e))},wh=function(a,c){var e,b=a?c.firstChild:c.lastChild;return B.isText(b)?m.some(I(b,a?0:b.data.length)):b?db(b)?m.some(a?I.before(b):B.isBr(b)?I.before(b):I.after(b)):(e=a?I.before(b):I.after(b),qd(a,c,e)):m.none()},X={fromPosition:qd,nextPosition:K(qd,!0),prevPosition:K(qd,!1),navigate:function(a,c,e){return qd(a,c,e).bind(function(b){var g;if(g=rc(e,b,c))a:{g=a?!Wk(e,b)&&(d=e,!(!I.isTextPosition(d)&&B.isBr(d.getNode())))&&Vk(e)&&Uk(b):!Wk(b,e)&&Uk(e)&&Vk(b);
break a;var d}return g?qd(a,c,b):m.some(b)})},positionIn:wh,firstPositionIn:K(wh,!0),lastPositionIn:K(wh,!1)},Xk=function(a,c){return!a.isBlock(c)||c.innerHTML||S.ie||(c.innerHTML='<br data-mce-bogus="1" />'),c},Jq=function(a,c){return X.lastPositionIn(a).fold(function(){return!1},function(a){return c.setStart(a.container(),a.offset()),c.setEnd(a.container(),a.offset()),!0})},Yk=function(a,c,e){return!(!1!==c.hasChildNodes()||!Ic(a,c)||(d=e,f=(b=c).ownerDocument.createTextNode("\ufeff"),b.appendChild(f),
d.setStart(f,0),d.setEnd(f,0),0));var b,d,f},Zk=function(a,c,e,b){var g;e=e[c?"start":"end"];var d=a.getRoot();if(e){var f=e[0];var v=d;for(a=e.length-1;1<=a;a--){if(g=v.childNodes,Yk(d,v,b))return!0;if(e[a]>g.length-1)return!!Yk(d,v,b)||Jq(v,b);v=g[e[a]]}3===v.nodeType&&(f=Math.min(e[0],v.nodeValue.length));1===v.nodeType&&(f=Math.min(e[0],v.childNodes.length));c?b.setStart(v,f):b.setEnd(v,f)}return!0},xh=function(a){return B.isText(a)&&0<a.data.length},$k=function(a,c,e){var b,d,f,u,v=a.get(e.id+
"_"+c);var l=e.keep;if(v){if(b=v.parentNode,"start"===c?l?v.hasChildNodes()?(b=v.firstChild,d=1):xh(v.nextSibling)?(b=v.nextSibling,d=0):xh(v.previousSibling)?(b=v.previousSibling,d=v.previousSibling.data.length):(b=v.parentNode,d=a.nodeIndex(v)+1):d=a.nodeIndex(v):l?v.hasChildNodes()?(b=v.firstChild,d=1):xh(v.previousSibling)?(b=v.previousSibling,d=v.previousSibling.data.length):(b=v.parentNode,d=a.nodeIndex(v)):d=a.nodeIndex(v),f=b,u=d,!l){l=v.previousSibling;b=v.nextSibling;for(C.each(C.grep(v.childNodes),
function(a){B.isText(a)&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});v=a.get(e.id+"_"+c);)a.remove(v,!0);l&&b&&l.nodeType===b.nodeType&&B.isText(l)&&!S.opera&&(d=l.nodeValue.length,l.appendData(b.nodeValue),a.remove(b),f=l,u=d)}return m.some(I(f,u))}return m.none()},Kq=function(a,c){var e,b,d,f,u,l=a.dom;if(c){if(C.isArray(c.start))return u=l.createRng(),Zk(l,!0,c,u)&&Zk(l,!1,c,u)?m.some(u):m.none();if("string"==typeof c.start)return m.some((d=l.createRng(),f=lk(l.getRoot(),c.start),d.setStart(f.container(),
f.offset()),f=lk(l.getRoot(),c.end),d.setEnd(f.container(),f.offset()),d));if(c.hasOwnProperty("id"))return e=$k(l,"start",c),b=$k(l,"end",c),eb([e,b.isSome()?b:e],function(a,c){var e=l.createRng();return e.setStart(Xk(l,a.container()),a.offset()),e.setEnd(Xk(l,c.container()),c.offset()),e});if(c.hasOwnProperty("name"))return m.from(l.select(c.name)[c.index]).map(function(a){var c=l.createRng();return c.selectNode(a),c});if(c.hasOwnProperty("rng"))return m.some(c.rng)}return m.none()},bp=function(a,
c,e){return Zc.getBookmark(a,c,e)},cp=function(a,c){Kq(a,c).each(function(c){a.setRng(c)})},Ha=function(a){return B.isElement(a)&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")},al=function(a){return a&&/^(IMG)$/.test(a.nodeName)},yh=function(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)},bl=function(a,c,e){return"color"!==e&&"backgroundColor"!==e||(c=a.toHex(c)),"fontWeight"===e&&700===c&&(c="bold"),"fontFamily"===e&&(c=c.replace(/['"]/g,"").replace(/,\s+/g,",")),
""+c},ca={isInlineBlock:al,moveStart:function(a,c,e){var b,d,f=e.startOffset,u=e.startContainer;if((e.startContainer!==e.endContainer||!al(e.startContainer.childNodes[e.startOffset]))&&1===u.nodeType)for(f<(d=u.childNodes).length?b=new q(u=d[f],a.getParent(u,a.isBlock)):(b=new q(u=d[d.length-1],a.getParent(u,a.isBlock))).next(!0),a=b.current();a;a=b.next())if(3===a.nodeType&&!yh(a))return e.setStart(a,0),void c.setRng(e)},getNonWhiteSpaceSibling:function(a,c,e){if(a)for(c=c?"nextSibling":"previousSibling",
a=e?a:a[c];a;a=a[c])if(1===a.nodeType||!yh(a))return a},isTextBlock:function(a,c){return c.nodeType&&(c=c.nodeName),!!a.schema.getTextBlockElements()[c.toLowerCase()]},isValid:function(a,c,e){return a.schema.isValidChild(c,e)},isWhiteSpaceNode:yh,replaceVars:function(a,c){return"string"!=typeof a?a=a(c):c&&(a=a.replace(/%(\w+)/g,function(a,b){return c[b]||a})),a},isEq:function(a,c){return c=c||"",a=""+((a=a||"").nodeName||a),c=""+(c.nodeName||c),a.toLowerCase()===c.toLowerCase()},normalizeStyleValue:bl,
getStyle:function(a,c,e){return bl(a,a.getStyle(c,e),e)},getTextDecoration:function(a,c){var e;return a.getParent(c,function(c){return(e=a.getStyle(c,"text-decoration"))&&"none"!==e}),e},getParents:function(a,c,e){return a.getParents(c,e,a.getRoot())}},cl=ca.getParents,dl=ca.isWhiteSpaceNode,Lq=ca.isTextBlock,el=function(a,c){for(void 0===c&&(c=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=a.childNodes[c])&&(c=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:c}},
fl=function(a,c){for(var e=c;e;){if(1===e.nodeType&&a.getContentEditable(e))return"false"===a.getContentEditable(e)?e:c;e=e.parentNode}return c},gl=function(a,c,e,b){var g,d;e=e.nodeValue;return void 0===b&&(b=a?e.length:0),a?(g=e.lastIndexOf(" ",b),-1!==(g=(d=e.lastIndexOf("\u00a0",b))<g?g:d)&&!c&&(g<b||!a)&&g<=e.length&&g++):(g=e.indexOf(" ",b),d=e.indexOf("\u00a0",b),g=-1!==g&&(-1===d||g<d)?g:d),g},hl=function(a,c,e,b,d,f){if(3===e.nodeType){if(-1!==(b=gl(d,f,e,b)))return{container:e,offset:b};
var g=e}for(c=new q(e,a.getParent(e,a.isBlock)||c);e=c[d?"prev":"next"]();)if(3!==e.nodeType||Ha(e.parentNode)){if(a.isBlock(e)||ca.isEq(e,"BR"))break}else if(-1!==(b=gl(d,f,g=e)))return{container:e,offset:b};if(g)return{container:g,offset:d?0:g.length}},il=function(a,c,e,b,d){var g,n,f;3===b.nodeType&&0===b.nodeValue.length&&b[d]&&(b=b[d]);d=cl(a,b);for(g=0;g<d.length;g++)for(n=0;n<c.length;n++)if(!("collapsed"in(f=c[n])&&f.collapsed!==e.collapsed)&&a.is(d[g],f.selector))return d[g];return b},jl=
function(a,c,e,b){var g,d=a.dom,f=d.getRoot();(c[0].wrapper||(g=d.getParent(e,c[0].block,f)),g)||(g=d.getParent(e,"LI,TD,TH"),g=d.getParent(3===e.nodeType?e.parentNode:e,function(c){return c!==f&&Lq(a,c)},g));if(g&&c[0].wrapper&&(g=cl(d,g,"ul,ol").reverse()[0]||g),!g)for(g=e;g[b]&&!d.isBlock(g[b])&&(g=g[b],!ca.isEq(g,"br")););return g||e},wf=function(a,c,e,b,d,f,u){var g,n,t;if(g=e=u?e:d,d=u?"previousSibling":"nextSibling",n=a.getRoot(),3===g.nodeType&&!dl(g)&&(u?0<b:f<g.nodeValue.length))return g;
for(;c[0].block_expand||!a.isBlock(e);){for(b=e[d];b;b=b[d])if(!(Ha(b)||dl(b)||"BR"===(t=b).nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling))return e;if(e===n||e.parentNode===n)break;e=e.parentNode}return e},rd=function(a,c,e,b){var g,d=c.startContainer,f=c.startOffset,l=c.endContainer,m=c.endOffset,h=a.dom;1===d.nodeType&&d.hasChildNodes()&&3===(d=md(d,f)).nodeType&&(f=0);1===l.nodeType&&l.hasChildNodes()&&3===(l=md(l,c.collapsed?m:m-1)).nodeType&&(m=l.nodeValue.length);d=fl(h,d);l=fl(h,
l);(Ha(d.parentNode)||Ha(d))&&(d=Ha(d)?d:d.parentNode,3===(d=c.collapsed?d.previousSibling||d:d.nextSibling||d).nodeType&&(f=c.collapsed?d.length:0));(Ha(l.parentNode)||Ha(l))&&(l=Ha(l)?l:l.parentNode,3===(l=c.collapsed?l.nextSibling||l:l.previousSibling||l).nodeType&&(m=c.collapsed?0:l.length));c.collapsed&&((g=hl(h,a.getBody(),d,f,!0,b))&&(d=g.container,f=g.offset),(g=hl(h,a.getBody(),l,m,!1,b))&&(l=g.container,m=g.offset));if(e[0].inline){if(b)b=l;else if(b=l,g=el(b,m),g.node){for(;g.node&&0===
g.offset&&g.node.previousSibling;)g=el(g.node.previousSibling);g.node&&0<g.offset&&3===g.node.nodeType&&" "===g.node.nodeValue.charAt(g.offset-1)&&1<g.offset&&(b=g.node).splitText(g.offset-1)}l=b}return(e[0].inline||e[0].block_expand)&&(e[0].inline&&3===d.nodeType&&0!==f||(d=wf(h,e,d,f,l,m,!0)),e[0].inline&&3===l.nodeType&&m!==l.nodeValue.length||(l=wf(h,e,d,f,l,m,!1))),e[0].selector&&!1!==e[0].expand&&!e[0].inline&&(d=il(h,e,c,d,"previousSibling"),l=il(h,e,c,l,"nextSibling")),(e[0].block||e[0].selector)&&
(d=jl(a,e,d,"previousSibling"),l=jl(a,e,l,"nextSibling"),e[0].block&&(h.isBlock(d)||(d=wf(h,e,d,f,l,m,!0)),h.isBlock(l)||(l=wf(h,e,d,f,l,m,!1)))),1===d.nodeType&&(f=h.nodeIndex(d),d=d.parentNode),1===l.nodeType&&(m=h.nodeIndex(l)+1,l=l.parentNode),{startContainer:d,startOffset:f,endContainer:l,endOffset:m}},Mq=C.each,He=function(a,c,e){var b,d,f,u,l=c.startContainer,m=c.startOffset,h=c.endContainer,k=c.endOffset;if(0<(c=a.select("td[data-mce-selected],th[data-mce-selected]")).length)Mq(c,function(a){e([a])});
else{var p,q,w=function(a){var c;return 3===(c=a[0]).nodeType&&c===l&&m>=c.nodeValue.length&&a.splice(0,1),c=a[a.length-1],0===k&&0<a.length&&c===h&&3===c.nodeType&&a.splice(a.length-1,1),a},A=function(a,c,e){for(var b=[];a&&a!==e;a=a[c])b.push(a);return b},x=function(a,c){do{if(a.parentNode===c)return a;a=a.parentNode}while(a)};c=function(a,c,b){var g=b?"nextSibling":"previousSibling";for(f=(d=a).parentNode;d&&d!==c;d=f)f=d.parentNode,(u=A(d===a?d:d[g],g)).length&&(b||u.reverse(),e(w(u)))};if(1===
l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[m]),1===h.nodeType&&h.hasChildNodes()&&(p=k,q=(b=h).childNodes,--p>q.length-1?p=q.length-1:0>p&&(p=0),h=q[p]||b),l===h)return e(w([l]));b=a.findCommonAncestor(l,h);for(d=l;d;d=d.parentNode){if(d===h)return c(l,b,!0);if(d===b)break}for(d=h;d;d=d.parentNode){if(d===l)return c(h,b);if(d===b)break}a=x(l,b)||l;b=x(h,b)||h;c(l,a,!0);(u=A(a===l?a:a.nextSibling,"nextSibling",b===h?b.nextSibling:b)).length&&e(w(u));c(h,b)}},kl=(qh=function(a){return ed(a)?m.from(a.dom().nodeValue):
m.none()},rh=kc.detect().browser,{get:function(a){if(!ed(a))throw Error("Can only get text value of a text node");return zk(a).getOr("")},getOption:zk=rh.isIE()&&10===rh.version.major?function(a){try{return qh(a)}catch(c){return m.none()}}:qh,set:function(a,c){if(!ed(a))throw Error("Can only set raw text value of a text node");a.dom().nodeValue=c}}),Nq=function(a,c,e,b){return Ec(c).fold(function(){return"skipping"},function(g){return"br"===b||ed(f=c)&&"\ufeff"===kl.get(f)?"valid":Cc(d=c)&&Rj(d,$g())?
"existing":Sb(c)?"caret":ca.isValid(a,e,b)&&ca.isValid(a,Ua(g),e)?"valid":"invalid-child";var d,f})},Oq=function(a,c){var e={},b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&0>c.indexOf(b)&&(e[b]=a[b]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(b=Object.getOwnPropertySymbols(a);d<b.length;d++)0>c.indexOf(b[d])&&(e[b[d]]=a[b[d]])}return e},ll=function(a,c,e,b){var g,d=c.uid;d=void 0===d?(g=(new Date).getTime(),"mce-annotation_"+Math.floor(1E9*Math.random())+ ++dq+
String(g)):d;c=Oq(c,["uid"]);var f=H.fromTag("span",a);Zg(f,$g());Nd(f,""+xe(),d);Nd(f,""+Fd(),e);e=b(d,c);a=e.attributes;e=e.classes;e=void 0===e?[]:e;return Od(f,void 0===a?{}:a),U(e,function(a){Zg(f,a)}),f},Pq=function(a,c,e,b,d){var g=[],f=ll(a.getDoc(),d,e,b),n=bc(m.none()),l=function(){n.set(m.none())},h=function(c){switch(Nq(a,c,"span",Ua(c))){case "invalid-child":l();c=lc(c);U(c,h);l();break;case "valid":var e=n.get().getOrThunk(function(){var a=gd(f);return g.push(a),n.set(m.some(a)),a});
mc(c,e);ob(e,c)}};return He(a.dom,c,function(a){l();a=Ja(a,H.fromDom);U(a,h)}),g},Fo=function(a,c,e,b){a.undoManager.transact(function(){var g,d=a.selection.getRng();(d.collapsed&&(g=rd(a,d,[{inline:!0}],3===d.startContainer.nodeType&&d.startContainer.nodeValue.length>=d.startOffset&&"\u00a0"===d.startContainer.nodeValue[d.startOffset]),d.setStart(g.startContainer,g.startOffset),d.setEnd(g.endContainer,g.endOffset),a.selection.setRng(d)),a.selection.getRng().collapsed)?(g=ll(a.getDoc(),b,c,e.decorate),
Uj(g,"\u00a0"),a.selection.getRng().insertNode(g.dom()),a.selection.select(g.dom())):(g=Zc.getPersistentBookmark(a.selection,!1),d=a.selection.getRng(),Pq(a,d,c,e.decorate,b),a.selection.moveToBookmark(g))})},Qq=function(a){return C.grep(a.childNodes,function(a){return"LI"===a.nodeName})},Rq=function(a){var c;if((c=0<a.length)&&!(c=!(b=a[a.length-1]).firstChild))a:{c=b&&b.firstChild&&b.firstChild===b.lastChild&&("\u00a0"===(e=b.firstChild).data||B.isBr(e));break a;var e}return c?a.slice(0,-1):a;var b},
zh=function(a,c){return(a=a.getParent(c,a.isBlock))&&"LI"===a.nodeName?a:null},ml=function(a,c){a=I.after(a);return(c=Jb(c).prev(a))?c.toRange():null},Sq=function(a,c,e){var b,d,f=a.parentNode;return C.each(c,function(c){f.insertBefore(c,a)}),b=I.before(a),(d=Jb(e).next(b))?d.toRange():null},Tq=function(a,c){var e,b,d,f,u=c.firstChild;c=c.lastChild;return u&&"meta"===u.name&&(u=u.next),c&&"mce_marker"===c.attr("id")&&(c=c.prev),e=c,f=a.getNonEmptyElements(),e&&(e.isEmpty(f)||a.getBlockElements()[e.name]&&
(d=e).firstChild&&d.firstChild===d.lastChild&&("br"===(b=e.firstChild).name||"\u00a0"===b.value))&&(c=c.prev),!(!u||u!==c||"ul"!==u.name&&"ol"!==u.name)},Uq=function(a,c,e,b){var g,d,f,l,m,h,k,p;a=(f=a.serialize(b),l=c.createFragment(f),g=l.firstChild,d=l.lastChild,g&&"META"===g.nodeName&&g.parentNode.removeChild(g),d&&"mce_marker"===d.id&&d.parentNode.removeChild(d),l);var q=zh(c,e.startContainer);g=Rq(Qq(a.firstChild));d=c.getRoot();f=function(a){var b=I.fromRangeStart(e),g=Jb(c.getRoot());a=1===
a?g.prev(b):g.next(b);return!a||zh(c,a.getNode())!==q};return f(1)?Sq(q,g,d):f(2)?(c.insertAfter(g.reverse(),q),ml(g[0],d)):(m=e.cloneRange(),h=e.cloneRange(),m.setStartBefore(q),h.setEndAfter(q),k=[m.cloneContents(),h.cloneContents()],(p=q.parentNode).insertBefore(k[0],q),C.each(g,function(a){p.insertBefore(a,q)}),p.insertBefore(k[1],q),p.removeChild(q),ml(g[g.length-1],d))},Vq=C.each,nl=function(a){this.compare=function(c,e){if(c.nodeName!==e.nodeName)return!1;var b=function(c){var e={};return Vq(a.getAttribs(c),
function(b){b=b.nodeName.toLowerCase();0!==b.indexOf("_")&&"style"!==b&&0!==b.indexOf("data-")&&(e[b]=a.getAttrib(c,b))}),e},d=function(a,c){var e,b;for(b in a)if(a.hasOwnProperty(b)){if(void 0===(e=c[b])||a[b]!==e)return!1;delete c[b]}for(b in c)if(c.hasOwnProperty(b))return!1;return!0};return!(!d(b(c),b(e))||!d(a.parseStyle(a.getAttrib(c,"style")),a.parseStyle(a.getAttrib(e,"style")))||Ha(c)||Ha(e))}},$d=function(a){Xg(a);ob(a,H.fromHtml('<br data-mce-bogus="1">'))},Wq=function(a){Rd(a,a.dom().childNodes.length-
1).each(function(c){Xe(c).each(function(e){Sd(a)&&Qg(c)&&Sd(e)&&cb(c)})})},Ki=C.makeMap,Xq=function(a){var c=I.fromRangeStart(a),e=I.fromRangeEnd(a),b=a.commonAncestorContainer;return X.fromPosition(!1,b,e).map(function(g){return!rc(c,e,b)&&rc(c,g,b)?(d=c.container(),f=c.offset(),n=g.container(),l=g.offset(),(m=document.createRange()).setStart(d,f),m.setEnd(n,l),m):a;var d,f,n,l,m}).getOr(a)},Ah=function(a){return a.collapsed?a:Xq(a)},Yq=B.matchNodeNames("td th"),ol=function(a,c){var e=a.selection.getRng(),
b=e.startContainer,d=e.startOffset;e.collapsed&&B.isText(b)&&"\u00a0"===b.nodeValue[d-1]&&B.isText(b)&&(b.insertData(d-1," "),b.deleteData(d,1),e.setStart(b,d),e.setEnd(b,d),a.selection.setRng(e));a.selection.setContent(c)},Jo=function(a,c,e){var b,d,f,l,v,h,k;var p=a.selection;var q=a.dom;if(/^ | $/.test(c)&&(c=function(a,c){var e=a.startContainer;a=a.startOffset;var b=function(a){return e[a]&&3===e[a].nodeType};return 3===e.nodeType&&(0<a?c=c.replace(/^&nbsp;/," "):b("previousSibling")||(c=c.replace(/^ /,
"&nbsp;")),a<e.length?c=c.replace(/&nbsp;(<br>|)$/," "):b("nextSibling")||(c=c.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),c}(p.getRng(),c)),b=a.parser,k=e.merge,d=qa({validate:a.settings.validate},a.schema),v={content:c,format:"html",selection:!0,paste:e.paste},(v=a.fire("BeforeSetContent",v)).isDefaultPrevented())a.fire("SetContent",{content:v.content,format:"html",selection:!0,paste:e.paste});else{-1===(c=v.content).indexOf("{$caret}")&&(c+="{$caret}");c=c.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');
var w,A,x,D,la=(h=p.getRng()).startContainer||(h.parentElement?h.parentElement():null),r=a.getBody();la===r&&p.isCollapsed()&&q.isBlock(r.firstChild)&&(f=r.firstChild)&&!a.schema.getShortEndedElements()[f.nodeName]&&q.isEmpty(r.firstChild)&&((h=q.createRng()).setStart(r.firstChild,0),h.setEnd(r.firstChild,0),p.setRng(h));p.isCollapsed()||(a.selection.setRng(Ah(a.selection.getRng())),a.getDoc().execCommand("Delete",!1,null),w=a.selection.getRng(),A=c,x=w.startContainer,D=w.startOffset,3===x.nodeType&&
w.collapsed&&("\u00a0"===x.data[D]?(x.deleteData(D,1),/[\u00a0| ]$/.test(A)||(A+=" ")):"\u00a0"===x.data[D-1]&&(x.deleteData(D-1,1),/[\u00a0| ]$/.test(A)||(A=" "+A))),c=A);w={context:(f=p.getNode()).nodeName.toLowerCase(),data:e.data,insert:!0};if(l=b.parse(c,w),!0===e.paste&&Tq(a.schema,l)&&zh(q,f))return h=Uq(d,q,a.selection.getRng(),l),a.selection.setRng(h),void a.fire("SetContent",v);if(function(a){for(;a=a.walk();)1===a.type&&a.attr("data-mce-fragment","1")}(l),"mce_marker"===(c=l.lastChild).attr("id"))for(c=
(e=c).prev;c;c=c.walk(!0))if(3===c.type||!q.isBlock(c.name)){a.schema.isValidChild(c.parent.name,"span")&&c.parent.insert(e,c,"br"===c.name);break}if(a._selectionOverrides.showBlockCaretContainer(f),w.invalid){ol(a,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');f=p.getNode();p=a.getBody();for(9===f.nodeType?f=c=p:c=f;c!==p;)c=(f=c).parentNode;c=f===p?p.innerHTML:q.getOuterHTML(f);c=d.serialize(b.parse(c.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return d.serialize(l)})));
f===p?q.setHTML(p,c):q.setOuterHTML(f,c)}else!function(a,c,e){if("all"===e.getAttribute("data-mce-bogus"))e.parentNode.insertBefore(a.dom.createFragment(c),e);else{var b=e.firstChild,g=e.lastChild;!b||b===g&&"BR"===b.nodeName?a.dom.setHTML(e,c):ol(a,c)}}(a,c=d.serialize(l),f);!function(a,c){var e=a.schema.getTextInlineElements(),b=a.dom;if(c){var g=a.getBody(),d=new nl(b);C.each(b.select("*[data-mce-fragment]"),function(a){for(var c=a.parentNode;c&&c!==g;c=c.parentNode)e[a.nodeName.toLowerCase()]&&
d.compare(c,a)&&b.remove(a,!0)})}}(a,k);(function(a,c){var e,b,g,d,f=a.dom,n=a.selection;if(c){if(a.selection.scrollIntoView(c),e=function(c){for(var e=a.getBody();c&&c!==e;c=c.parentNode)if("false"===a.dom.getContentEditable(c))return c;return null}(c))return f.remove(c),n.select(e);e=f.createRng();(b=c.previousSibling)&&3===b.nodeType?(e.setStart(b,b.nodeValue.length),S.ie||(d=c.nextSibling)&&3===d.nodeType&&(b.appendData(d.data),d.parentNode.removeChild(d))):(e.setStartBefore(c),e.setEndBefore(c));
b=f.getParent(c,f.isBlock);f.remove(c);b&&f.isEmpty(b)&&(a.$(b).empty(),e.setStart(b,0),e.setEnd(b,0),Yq(b)||b.getAttribute("data-mce-fragment")||!(g=function(c){c=I.fromRangeStart(c);if(c=Jb(a.getBody()).next(c))return c.toRange()}(e))?f.add(b,f.create("br",{"data-mce-bogus":"1"})):(e=g,f.remove(b)));n.setRng(e)}})(a,q.get("mce_marker"));b=a.getBody();C.each(b.getElementsByTagName("*"),function(a){a.removeAttribute("data-mce-fragment")});b=a.dom;k=a.selection.getStart();m.from(b.getParent(k,"td,th")).map(H.fromDom).each(Wq);
a.fire("SetContent",v);a.addVisual()}},Zq=Hb("sections","settings"),$q=kc.detect().deviceType.isTouch(),ar=["lists","autolink","autosave"],br={theme:"mobile"},xf=function(a){a=Sc(a)?a.join(" "):a;a=Ja(ib(a)?a.split(" "):[],Dp);return Ka(a,function(a){return 0<a.length})},cr=function(a,c){var e,b,d;c=(e=function(c,e){return se(a,e)},b={},d={},Ve(c,function(a,c){(e(a,c)?b:d)[c]=a}),{t:b,f:d});return Zq(c.t,c.f)},dr=function(a,c,e,b){var g,d,f,l,h;b=cr(["mobile"],b);c=C.extend(c,e,b.settings(),(h=b.settings().inline,
a&&b.sections().hasOwnProperty("mobile")&&!h?(f=b.sections(),l=f.hasOwnProperty("mobile")?f.mobile:{},C.extend({},br,l)):{}),{validate:!0,content_editable:b.settings().inline,external_plugins:(g=b.settings(),d=g.external_plugins?g.external_plugins:{},e&&e.external_plugins?C.extend({},e.external_plugins,d):d)});var m;e=xf(e.forced_plugins);g=xf(c.plugins);a=(m=a&&b.sections().hasOwnProperty("mobile")?Ka(g,K(se,ar)):g,[].concat(xf(e)).concat(xf(m)));return C.extend(c,{plugins:a.join(" ")})},uc=function(a,
c,e){return m.from(c.settings[e]).filter(a)},er=K(uc,ib),fr=function(a,c,e,b){var g,d,f=c in a.settings?a.settings[c]:e;return"hash"===b?(d={},"string"==typeof f?U(0<f.indexOf("=")?f.split(/[;,](?![^=;,]*(?:[;,]|$))/):f.split(","),function(a){a=a.split("=");1<a.length?d[C.trim(a[0])]=C.trim(a[1]):d[C.trim(a[0])]=C.trim(a)}):d=f,d):"string"===b?uc(ib,a,c).getOr(e):"number"===b?uc(eg,a,c).getOr(e):"boolean"===b?uc(ti,a,c).getOr(e):"object"===b?uc(pe,a,c).getOr(e):"array"===b?uc(Sc,a,c).getOr(e):"string[]"===
b?uc((g=ib,function(a){return Sc(a)&&lg(a,g)}),a,c).getOr(e):"function"===b?uc(Mb,a,c).getOr(e):f},gr=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Bh=function(a,c){var e=c.container(),b=c.offset();return a?kf(e)?B.isText(e.nextSibling)?I(e.nextSibling,0):I.after(e):bh(c)?I(e,b+1):c:kf(e)?B.isText(e.previousSibling)?I(e.previousSibling,e.previousSibling.data.length):I.before(e):ch(c)?I(e,b-1):c},oa={isInlineTarget:function(a,c){a=er(a,"inline_boundaries_selector").getOr("a[href],code");return Qd(H.fromDom(c),
a)},findRootInline:function(a,c,e){a=Ka(ua.DOM.getParents(e.container(),"*",c),a);return m.from(a[a.length-1])},isRtl:function(a){return"rtl"===ua.DOM.getStyle(a,"direction",!0)||(c=a.textContent,gr.test(c));var c},isAtZwsp:function(a){return bh(a)||ch(a)},normalizePosition:Bh,normalizeForwards:K(Bh,!0),normalizeBackwards:K(Bh,!1),hasSameParentBlock:function(a,c,e){c=tc(c,a);a=tc(e,a);return c&&c===a}},yf=function(a,c){return Dc(a,c)?Sj(c,function(a){return Gj(a)||Ze(a)},(e=a,function(a){return za(e,
H.fromDom(a.dom().parentNode))})):m.none();var e},Mi=function(a){var c,e;a.dom.isEmpty(a.getBody())&&(a.setContent(""),c=a.getBody(),e=c.firstChild&&a.dom.isBlock(c.firstChild)?c.firstChild:c,a.selection.setCursorLocation(e,0))},hr=function(a,c,e){return eb([X.firstPositionIn(e),X.lastPositionIn(e)],function(b,d){var g=oa.normalizePosition(!0,b),f=oa.normalizePosition(!1,d);b=oa.normalizePosition(!1,c);return a?X.nextPosition(e,b).map(function(a){return a.isEqual(f)&&c.isEqual(g)}).getOr(!1):X.prevPosition(e,
b).map(function(a){return a.isEqual(g)&&c.isEqual(f)}).getOr(!1)}).getOr(!0)},pl=function(a,c){var e;if(e=db(c)){var b=c;if(e=B.isText(b)&&/^[ \t\r\n]*$/.test(b.data)){e=b;var d,f;a=H.fromDom(a);e=!1===(d=H.fromDom(e),f=K(za,a),hf(d,"pre,code",f).isSome())}e=!1===e}return e||(l=c,B.isElement(l)&&"A"===l.nodeName&&l.hasAttribute("name"))||ir(c);var l},ir=B.hasAttribute("data-mce-bookmark"),jr=B.hasAttribute("data-mce-bogus"),kr=B.hasAttributeValue("data-mce-bogus","all"),Ab=function(a){return function(a){var c,
b=0;if(pl(a,a))return!1;if(!(c=a.firstChild))return!0;var d=new q(c,a);do if(kr(c))c=d.next(!0);else{if(!jr(c))if(B.isBr(c))b++;else if(pl(a,c))return!1;c=d.next()}while(c);return 1>=b}(a.dom())},lr=Hb("block","position"),mr=Hb("from","to"),Ch=function(a,c){a=H.fromDom(a);var e=H.fromDom(c.container());return yf(a,e).map(function(a){return lr(a,c)})},nr=function(a,c,e){e=Ch(a,I.fromRangeStart(e));var b=e.bind(function(e){return X.fromPosition(c,a,e.position()).bind(function(e){return Ch(a,e).map(function(e){return b=
a,g=c,d=e,B.isBr(d.position().getNode())&&!1===Ab(d.block())?X.positionIn(!1,d.block().dom()).bind(function(a){return a.isEqual(d.position())?X.fromPosition(g,b,a).bind(function(a){return Ch(b,a)}):m.some(d)}).getOr(d):d;var b,g,d})})});return eb([e,b],mr).filter(function(a){return!1===za((b=a).from().block(),b.to().block())&&Ec((e=a).from().block()).bind(function(a){return Ec(e.to().block()).filter(function(c){return za(a,c)})}).isSome()&&(c=a,!1===B.isContentEditableFalse(c.from().block())&&!1===
B.isContentEditableFalse(c.to().block()));var c,e,b})},or=function(a,c,e){return e.collapsed?nr(a,c,e):m.none()},pr=function(a,c,e){return Dc(c,a)?function(a,c){c=Mb(c)?c:F(!1);var e=a.dom();for(a=[];null!==e.parentNode&&void 0!==e.parentNode;){e=e.parentNode;var b=H.fromDom(e);if(a.push(b),!0===c(b))break}return a}(a,function(a){return e(a)||za(a,c)}).slice(0,-1):[]},ql=function(a,c){return pr(a,c,F(!1))},sd=function(a,c){return[a].concat(ql(a,c))},rl=function(a){var c;a=(c=lc(a),Tc(c,Sd).fold(function(){return c},
function(a){return c.slice(0,a)}));return U(a,cb),a},sl=function(a,c){a=sd(c,a);return xa(a.reverse(),Ab).each(cb)},qr=function(a,c,e,b){if(Ab(e))return $d(e),X.firstPositionIn(e.dom());0===Ka(Jp(b),function(a){return!Ab(a)}).length&&Ab(c)&&mc(b,H.fromTag("br"));e=X.prevPosition(e.dom(),I.before(b.dom()));return U(rl(c),function(a){mc(b,a)}),sl(a,c),e},rr=function(a,c,e){if(Ab(e))return cb(e),Ab(c)&&$d(c),X.firstPositionIn(c.dom());var b=X.lastPositionIn(e.dom());return U(rl(c),function(a){ob(e,a)}),
sl(a,c),b},tl=function(a,c){X.positionIn(a,c.dom()).map(function(a){return a.getNode()}).map(H.fromDom).filter(Qg).each(cb)},ul=function(a,c,e){tl(!0,c);tl(!1,e);var b=K(rr,a,c,e);a=K(qr,a,c,e);a:{c=Dc(e,c)?(d=sd(c,e),m.from(d[d.length-1])):m.none();break a;var d}return c.fold(b,a)},vl=function(a,c,e,b){return c?ul(a,b,e):ul(a,e,b)},Be=function(a,c){var e,b=H.fromDom(a.getBody());return(e=or(b.dom(),c,a.selection.getRng()).bind(function(a){return vl(b,c,a.from().block(),a.to().block())})).each(function(c){a.selection.setRng(c.toRange())}),
e.isSome()},wl=function(a,c){c=H.fromDom(c);a=K(za,a);return gf(c,$e,a).isSome()},sr=function(a,c){var e=X.prevPosition(a.dom(),I.fromRangeStart(c)).isNone(),b=X.nextPosition(a.dom(),I.fromRangeEnd(c)).isNone();return!(wl(a,c.startContainer)||wl(a,c.endContainer))&&e&&b},tr=function(a){var c,e,b=H.fromDom(a.getBody()),d=a.selection.getRng();return sr(b,d)?(a.setContent(""),a.selection.setCursorLocation(),!0):(c=a.selection,e=c.getRng(),eb([yf(b,H.fromDom(e.startContainer)),yf(b,H.fromDom(e.endContainer))],
function(a,g){return!1===za(a,g)&&(e.deleteContents(),vl(b,!0,a,g).each(function(a){c.setRng(a.toRange())}),!0)}).getOr(!1))},De=function(a,c){return!a.selection.isCollapsed()&&tr(a)},td=function(a){if(!Sc(a))throw Error("cases must be an array");if(0===a.length)throw Error("there must be at least one case");var c=[],e={};return U(a,function(b,d){var g=Ue(b);if(1!==g.length)throw Error("one and only one name per case");var f=g[0],n=b[f];if(void 0!==e[f])throw Error("duplicate key detected:"+f);if("cata"===
f)throw Error("cannot have a case named cata (sorry)");if(!Sc(n))throw Error("case arguments must be an array");c.push(f);e[f]=function(){var e=arguments.length;if(e!==n.length)throw Error("Wrong number of arguments to case "+f+". Expected "+n.length+" ("+n+"), got "+e);var b=Array(e);for(e=0;e<b.length;e++)b[e]=arguments[e];return{fold:function(){if(arguments.length!==a.length)throw Error("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[d].apply(null,
b)},match:function(a){var e=Ue(a);if(c.length!==e.length)throw Error("Wrong number of arguments to match. Expected: "+c.join(",")+"\nActual: "+e.join(","));if(!lg(c,function(a){return se(e,a)}))throw Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+c.join(", "));return a[f].apply(null,b)},log:function(a){console.log(a,{constructors:c,constructor:f,params:b})}}}}),e},vb=td([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),
xl=function(a,c,e,b){var g=b.getNode(!1===c);return yf(H.fromDom(a),H.fromDom(e.getNode())).map(function(a){return Ab(a)?vb.remove(a.dom()):vb.moveToElement(g)}).orThunk(function(){return m.some(vb.moveToElement(g))})},yl=function(a,c,e){return X.fromPosition(c,a,e).bind(function(b){return k=b.getNode(),$e(H.fromDom(k))||Ze(H.fromDom(k))?m.none():(g=a,l=b,h=function(a){return Fj(H.fromDom(a))&&!rc(f,l,g)},Sk(!(d=c),f=e).fold(function(){return Sk(d,l).fold(F(!1),h)},h)?m.none():c&&B.isContentEditableFalse(b.getNode())?
xl(a,c,e,b):!1===c&&B.isContentEditableFalse(b.getNode(!0))?xl(a,c,e,b):c&&Zd(e)?m.some(vb.moveToPosition(b)):!1===c&&Yd(e)?m.some(vb.moveToPosition(b)):m.none());var g,d,f,l,h,k})},ur=function(a,c,e){return f=c,l=e.getNode(!1===f),h=f?"after":"before",B.isElement(l)&&l.getAttribute("data-mce-caret")===h?(b=c,d=e.getNode(!1===c),b&&B.isContentEditableFalse(d.nextSibling)?m.some(vb.moveToElement(d.nextSibling)):!1===b&&B.isContentEditableFalse(d.previousSibling)?m.some(vb.moveToElement(d.previousSibling)):
m.none()).fold(function(){return yl(a,c,e)},m.some):yl(a,c,e).bind(function(c){return b=a,g=e,c.fold(function(a){return m.some(vb.remove(a))},function(a){return m.some(vb.moveToElement(a))},function(a){return rc(g,a,b)?m.none():m.some(vb.moveToPosition(a))});var b,g});var b,d,f,l,h},zl=function(a,c,e){if(0!==e){var b,d=a.data.slice(c,c+e),f=c+e>=a.data.length;a.replaceData(c,e,(b=0===c,Yb(d.split(""),function(a,c){return-1!==" \f\n\r\t\x0B".indexOf(c)||"\u00a0"===c?a.previousCharIsSpace||""===a.str&&
b||a.str.length===d.length-1&&f?{previousCharIsSpace:!1,str:a.str+"\u00a0"}:{previousCharIsSpace:!0,str:a.str+" "}:{previousCharIsSpace:!1,str:a.str+c}},{previousCharIsSpace:!1,str:""}).str))}},Al=function(a,c){var e=a.data.slice(c);e=e.length-e.replace(/^\s+/g,"").length;return zl(a,c,e)},vr=function(a,c){return b=a,d=(e=c).container(),f=e.offset(),!1===I.isTextPosition(e)&&d===b.parentNode&&f>I.before(b).offset()?I(c.container(),c.offset()-1):c;var e,b,d,f},Bl=function(a){return db(a.previousSibling)?
m.some((c=a.previousSibling,B.isText(c)?I(c,c.data.length):I.after(c))):a.previousSibling?X.lastPositionIn(a.previousSibling):m.none();var c},Cl=function(a){return db(a.nextSibling)?m.some((c=a.nextSibling,B.isText(c)?I(c,0):I.before(c))):a.nextSibling?X.firstPositionIn(a.nextSibling):m.none();var c},wr=function(a,c){return Bl(c).orThunk(function(){return Cl(c)}).orThunk(function(){return e=a,b=c,d=I.before(b.previousSibling?b.previousSibling:b.parentNode),X.prevPosition(e,d).fold(function(){return X.nextPosition(e,
I.after(b))},m.some);var e,b,d})},xr=function(a,c){return Cl(c).orThunk(function(){return Bl(c)}).orThunk(function(){return e=a,b=c,X.nextPosition(e,I.after(b)).fold(function(){return X.prevPosition(e,I.before(b))},m.some);var e,b})},yr=function(a,c,e){return(b=a,d=c,f=e,b?xr(d,f):wr(d,f)).map(K(vr,e));var b,d,f},Dl=function(a,c,e){e.fold(function(){a.focus()},function(e){a.selection.setRng(e.toRange(),c)})},zr=function(a,c){return c&&a.schema.getBlockElements().hasOwnProperty(Ua(c))},Ar=function(a){if(Ab(a)){var c=
H.fromHtml('<br data-mce-bogus="1">');return Xg(a),ob(a,c),m.some(I.before(c.dom()))}return m.none()},Br=function(a,c,e){var b=Xe(a).filter(function(a){return B.isText(a.dom())}),d=Ng(a).filter(function(a){return B.isText(a.dom())});return cb(a),eb([b,d,c],function(a,c,b){var g;a=a.dom();c=c.dom();var d=a.data.length;return g=a.data.replace(/\s+$/g,"").length,a.appendData(c.data),cb(H.fromDom(c)),e&&Al(a,g),b.container()===c?I(a,d):b}).orThunk(function(){return e&&(b.each(function(a){return c=a.dom(),
e=a.dom().length,b=c.data.slice(0,e),g=b.length-b.replace(/\s+$/g,"").length,zl(c,e-g,g);var c,e,b,g}),d.each(function(a){return Al(a.dom(),0)})),c})},Cr=function(a,c){return e=a.schema.getTextInlineElements(),b=Ua(c),Hp.call(e,b);var e,b},ud=function(a,c,e,b){void 0===b&&(b=!0);var g,d=yr(c,a.getBody(),e.dom()),f=gf(e,K(zr,a),(g=a.getBody(),function(a){return a.dom()===g})),l=Br(e,d,Cr(a,e));a.dom.isEmpty(a.getBody())?(a.setContent(""),a.selection.setCursorLocation()):f.bind(Ar).fold(function(){b&&
Dl(a,c,l)},function(e){b&&Dl(a,c,m.some(e))})},Dr=function(a,c){var e,b,d,f;return(e=a.getBody(),b=a.selection.getRng(),d=sf(c?1:-1,e,b),f=I.fromRangeStart(d),!1===c&&Zd(f)?m.some(vb.remove(f.getNode(!0))):c&&Yd(f)?m.some(vb.remove(f.getNode())):ur(e,c,f)).map(function(e){return e.fold((f=a,n=c,function(a){return f._selectionOverrides.hideFakeCaret(),ud(f,n,H.fromDom(a)),!0}),(g=a,d=c,function(a){a=d?I.before(a):I.after(a);return g.selection.setRng(a.toRange()),!0}),(b=a,function(a){return b.selection.setRng(a.toRange()),
!0}));var b,g,d,f,n}).getOr(!1)},ze=function(a,c){if(a.selection.isCollapsed())a=Dr(a,c);else{var e,b=a.selection.getNode();a=!!B.isContentEditableFalse(b)&&(e=H.fromDom(a.getBody()),U($a(e,".mce-offscreen-selection"),cb),ud(a,c,H.fromDom(a.selection.getNode())),Mi(a),!0)}return a},El=function(a){var c;a:{var e=a.getBody();for(var b=a.selection.getNode();b&&b!==e;){if(B.isContentEditableTrue(b)||B.isContentEditableFalse(b)){e=b;break a}b=b.parentNode}e=null}return B.isContentEditableTrue(e)&&a.dom.isBlock(e)&&
a.dom.isEmpty(e)&&(c=a.dom.create("br",{"data-mce-bogus":"1"}),a.dom.setHTML(e,""),e.appendChild(c),a.selection.setRng(I.before(c).toRange())),!0},vd=B.isText,Fl=function(a){return vd(a)&&"\ufeff"===a.data[0]},Gl=function(a){return vd(a)&&"\ufeff"===a.data[a.data.length-1]},zf=function(a,c){return a?function(a){if(vd(a.previousSibling))return Gl(a.previousSibling)||a.previousSibling.appendData("\ufeff"),a.previousSibling;if(vd(a))return Fl(a)||a.insertData(0,"\ufeff"),a;var c=a.ownerDocument.createTextNode("\ufeff");
return a.parentNode.insertBefore(c,a),c}(c):function(a){if(vd(a.nextSibling))return Fl(a.nextSibling)||a.nextSibling.insertData(0,"\ufeff"),a.nextSibling;if(vd(a))return Gl(a)||a.appendData("\ufeff"),a;var c=a.ownerDocument.createTextNode("\ufeff");return a.nextSibling?a.parentNode.insertBefore(c,a.nextSibling):a.parentNode.appendChild(c),c}(c)},Er=K(zf,!0),Fr=K(zf,!1),Hl=function(a,c){return B.isText(a.container())?zf(c,a.container()):zf(c,a.getNode())},Il=function(a,c){return(c=c.get())&&a.container()===
c&&kf(c)},Jl=function(a,c){return c.fold(function(c){nd.remove(a.get());c=Er(c);return a.set(c),m.some(I(c,c.length-1))},function(c){return X.firstPositionIn(c).map(function(c){if(Il(c,a))return I(a.get(),1);nd.remove(a.get());c=Hl(c,!0);return a.set(c),I(c,1)})},function(c){return X.lastPositionIn(c).map(function(c){if(Il(c,a))return I(a.get(),a.get().length-1);nd.remove(a.get());c=Hl(c,!1);return a.set(c),I(c,c.length-1)})},function(c){nd.remove(a.get());c=Fr(c);return a.set(c),m.some(I(c,1))})},
Kl=function(a,c){for(var e=0;e<a.length;e++){var b=a[e].apply(null,c);if(b.isSome())return b}return m.none()},Ma=td([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Ll=function(a,c){return tc(c,a)||a},Gr=function(a,c,e){var b=oa.normalizeForwards(e),d=Ll(c,b.container());return oa.findRootInline(a,d,b).fold(function(){return X.nextPosition(d,b).bind(K(oa.findRootInline,a,d)).map(function(a){return Ma.before(a)})},m.none)},Hr=function(a,c){return null===Ic(a,c)},Ml=
function(a,c,e){return oa.findRootInline(a,c,e).filter(K(Hr,c))},Ir=function(a,c,e){var b=oa.normalizeBackwards(e);return Ml(a,c,b).bind(function(a){return X.prevPosition(a,b).isNone()?m.some(Ma.start(a)):m.none()})},Jr=function(a,c,e){var b=oa.normalizeForwards(e);return Ml(a,c,b).bind(function(a){return X.nextPosition(a,b).isNone()?m.some(Ma.end(a)):m.none()})},Kr=function(a,c,e){var b=oa.normalizeBackwards(e),d=Ll(c,b.container());return oa.findRootInline(a,d,b).fold(function(){return X.prevPosition(d,
b).bind(K(oa.findRootInline,a,d)).map(function(a){return Ma.after(a)})},m.none)},Nl=function(a){return!1===oa.isRtl(a.fold(ra,ra,ra,ra))},Vb=function(a,c,e){return Kl([Gr,Ir,Jr,Kr],[a,c,e]).filter(Nl)},Ol=function(a){return a.fold(F("before"),F("start"),F("end"),F("after"))},Pl=function(a){return a.fold(Ma.before,Ma.before,Ma.after,Ma.after)},Lr=function(a,c,e,b,d,f){return eb([oa.findRootInline(c,e,b),oa.findRootInline(c,e,d)],function(c,b){return c!==b&&oa.hasSameParentBlock(e,c,b)?Ma.after(a?c:
b):f}).getOr(f)},Mr=function(a,c){return a.fold(F(!0),function(a){return b=c,!(Ol(e=a)===Ol(b)&&e.fold(ra,ra,ra,ra)===b.fold(ra,ra,ra,ra));var e,b})},Nr=function(a,c){return a?c.fold(Z(m.some,Ma.start),m.none,Z(m.some,Ma.after),m.none):c.fold(m.none,Z(m.some,Ma.before),m.none,Z(m.some,Ma.end))},Dh=function(a,c,e,b){var g=oa.normalizePosition(a,b),d=Vb(c,e,g);return Vb(c,e,g).bind(K(Nr,a)).orThunk(function(){return g=a,f=c,n=e,l=d,t=b,h=oa.normalizePosition(g,t),X.fromPosition(g,n,h).map(K(oa.normalizePosition,
g)).fold(function(){return l.map(Pl)},function(a){return Vb(f,n,a).map(K(Lr,g,f,n,h,a)).filter(K(Mr,l))}).filter(Nl);var g,f,n,l,t,h})},Ql=(K(Dh,!1),K(Dh,!0),Pl),Eh=function(a){return a.fold(Ma.start,Ma.start,Ma.end,Ma.end)},Rl=function(a,c,e){var b=a?1:-1;return c.setRng(I(e.container(),e.offset()+b).toRange()),c.getSel().modify("move",a?"forward":"backward","word"),!0},Fh=function(a,c){var e=a.dom.createRng();e.setStart(c.container(),c.offset());e.setEnd(c.container(),c.offset());a.selection.setRng(e)},
Sl=function(a,c){a?c.setAttribute("data-mce-selected","inline-boundary"):c.removeAttribute("data-mce-selected")},Tl=function(a,c,e){return Jl(c,e).map(function(c){return Fh(a,c),e})},Ul=function(a,c,e){return function(){var e;if(e=!1!==c.settings.inline_boundaries)e=c.selection.getRng(),e=a?I.fromRangeEnd(e):I.fromRangeStart(e),e=!!Mb(c.selection.getSel().modify)&&(a&&bh(e)?Rl(!0,c.selection,e):!(a||!ch(e))&&Rl(!1,c.selection,e));return e}},wd={move:function(a,c,e){return function(){return!1!==a.settings.inline_boundaries&&
(b=a,d=c,f=e,l=b.getBody(),h=I.fromRangeStart(b.selection.getRng()),m=K(oa.isInlineTarget,b),Dh(f,m,l,h).bind(function(a){return Tl(b,d,a)})).isSome();var b,d,f,l,h,m}},moveNextWord:K(Ul,!0),movePrevWord:K(Ul,!1),setupSelectedState:function(a){var c=bc(null),e=K(oa.isInlineTarget,a);return a.on("NodeChange",function(b){var g,d,f,l;!1!==a.settings.inline_boundaries&&(g=a.dom,d=b.parents,f=Ka(g.select('*[data-mce-selected="inline-boundary"]'),e),l=Ka(d,e),U(ta(f,l),K(Sl,!1)),U(ta(l,f),K(Sl,!0)),function(a,
c){if(a.selection.isCollapsed()&&!0!==a.composing&&c.get()){var e=I.fromRangeStart(a.selection.getRng());I.isTextPosition(e)&&!1===oa.isAtZwsp(e)&&(Fh(a,nd.removeAndReposition(c.get(),e)),c.set(null))}}(a,c),function(a,c,e,b){c.selection.isCollapsed()&&(b=Ka(b,a),U(b,function(b){b=I.fromRangeStart(c.selection.getRng());Vb(a,c.getBody(),b).bind(function(a){return Tl(c,e,a)})}))}(e,a,c,b.parents))}),c},setCaretPosition:Fh},Vl=function(a,c){return function(e){return Jl(c,e).map(function(c){return wd.setCaretPosition(a,
c),!0}).getOr(!1)}},Wl=function(a,c,e,b){var g=a.getBody(),d=K(oa.isInlineTarget,a);a.undoManager.ignore(function(){var f;a.selection.setRng(((f=document.createRange()).setStart(e.container(),e.offset()),f.setEnd(b.container(),b.offset()),f));a.execCommand("Delete");Vb(d,g,I.fromRangeStart(a.selection.getRng())).map(Eh).map(Vl(a,c))});a.nodeChanged()},Or=function(a,c,e,b){var g,d,f=(g=a.getBody(),d=b.container(),tc(d,g)||g),l=K(oa.isInlineTarget,a),h=Vb(l,f,b);return h.bind(function(a){return e?a.fold(F(m.some(Eh(a))),
m.none,F(m.some(Ql(a))),m.none):a.fold(m.none,F(m.some(Ql(a))),m.none,F(m.some(Eh(a))))}).map(Vl(a,c)).getOrThunk(function(){var g=X.navigate(e,f,b),d=g.bind(function(a){return Vb(l,f,a)});return h.isSome()&&d.isSome()?oa.findRootInline(l,f,b).map(function(c){return b=c,!!eb([X.firstPositionIn(b),X.lastPositionIn(b)],function(a,c){a=oa.normalizePosition(!0,a);var e=oa.normalizePosition(!1,c);return X.nextPosition(b,a).map(function(a){return a.isEqual(e)}).getOr(!0)}).getOr(!0)&&(ud(a,e,H.fromDom(c)),
!0);var b}).getOr(!1):d.bind(function(d){return g.map(function(g){return e?Wl(a,c,b,g):Wl(a,c,g,b),!0})}).getOr(!1)})},Ae=function(a,c,e){if(a.selection.isCollapsed()&&!1!==a.settings.inline_boundaries){var b=I.fromRangeStart(a.selection.getRng());return Or(a,c,e,b)}return!1},ae=Hb("start","end"),Pr=Hb("rng","table","cells"),Xl=td([{removeTable:["element"]},{emptyCells:["cells"]}]),Af=function(a,c){return Tj(H.fromDom(a),"td,th",c)},be=function(a,c){return hf(a,"table",c)},Qr=function(a){return!1===
za(a.start(),a.end())},Gh=function(a,c){return be(a.start(),c).bind(function(e){return be(a.end(),c).bind(function(a){return za(e,a)?m.some(e):m.none()})})},Rr=function(a,c){var e=Af(c.startContainer,a),b=Af(c.endContainer,a);return c.collapsed?m.none():eb([e,b],ae).fold(function(){return e.fold(function(){return b.bind(function(c){return be(c,a).bind(function(a){return Qa($a(a,"td,th")).map(function(a){return ae(a,c)})})})},function(c){return be(c,a).bind(function(a){return Pa($a(a,"td,th")).map(function(a){return ae(c,
a)})})})},function(c){return Gh(c,a).isSome()?m.none():(b=a,be((e=c).start(),b).bind(function(a){return Pa($a(a,"td,th")).map(function(a){return ae(e.start(),a)})}));var e,b})},Sr=function(a,c){var e,b,d=K(za,a);return(e=Af(c.startContainer,d),b=Af(c.endContainer,d),eb([e,b],ae).filter(Qr).filter(function(a){return Gh(a,d).isSome()}).orThunk(function(){return Rr(d,c)})).bind(function(a){return Gh(c=a,d).map(function(a){return Pr(c,a,$a(a,"td,th"))});var c})},Yl=function(a,c){return Tc(a,function(a){return za(a,
c)})},Tr=function(a){return(c=a,eb([Yl(c.cells(),c.rng().start()),Yl(c.cells(),c.rng().end())],function(a,b){return c.cells().slice(a,b+1)})).map(function(c){var e=a.cells();return c.length===e.length?Xl.removeTable(a.table()):Xl.emptyCells(c)});var c},Hh=function(a){var c=[];if(a)for(var e=0;e<a.rangeCount;e++)c.push(a.getRangeAt(e));return c},Ur=function(a){return wa(a,function(a){return(a=nf(a))?[H.fromDom(a)]:[]})},Zl=function(a,c){c=$a(c,"td[data-mce-selected],th[data-mce-selected]");a=Ka(Ur(a),
$e);return 0<c.length?c:a},$l=function(a){return Zl(Hh(a.selection.getSel()),H.fromDom(a.getBody()))},am=function(a,c){return U(c,$d),a.selection.setCursorLocation(c[0].dom(),0),!0},Vr=function(a,c){return ud(a,!1,c),!0},Wr=function(a,c,e,b){return Ih(c,b).fold(function(){return b=a,Sr(c,e).bind(Tr).map(function(a){return a.fold(K(Vr,b),K(am,b))});var b},function(c){return Bf(a,c)}).getOr(!1)},bm=function(a,c){return xa(sd(c,a),$e)},Ih=function(a,c){return xa(sd(c,a),function(a){return"caption"===
Ua(a)})},Bf=function(a,c){return $d(c),a.selection.setCursorLocation(c.dom(),0),m.some(!0)},Xr=function(a,c,e,b,d){return X.navigate(e,a.getBody(),d).bind(function(g){return l=b,t=e,h=d,m=g,X.firstPositionIn(l.dom()).bind(function(a){return X.lastPositionIn(l.dom()).map(function(c){return t?h.isEqual(a)&&m.isEqual(c):h.isEqual(c)&&m.isEqual(a)})}).getOr(!0)?Bf(a,b):(f=b,n=g,Ih(c,H.fromDom(n.getNode())).map(function(a){return!1===za(a,f)}));var f,n,l,t,h,m}).or(m.some(!0))},Yr=function(a,c,e,b){var g=
I.fromRangeStart(a.selection.getRng());return bm(e,b).bind(function(b){return Ab(b)?Bf(a,b):(d=a,f=e,n=c,l=b,t=g,X.navigate(n,d.getBody(),t).bind(function(a){return bm(f,H.fromDom(a.getNode())).map(function(a){return!1===za(a,l)})}));var d,f,n,l,t})},Zr=function(a,c,e){var b=H.fromDom(a.getBody());return Ih(b,e).fold(function(){return Yr(a,c,b,e)},function(e){return g=a,d=c,f=b,n=e,l=I.fromRangeStart(g.selection.getRng()),Ab(n)?Bf(g,n):Xr(g,f,d,n,l);var g,d,f,n,l}).getOr(!1)},Ce=function(a,c){var e,
b,d,f=H.fromDom(a.selection.getStart(!0)),l=$l(a);return a.selection.isCollapsed()&&0===l.length?Zr(a,c,f):(e=H.fromDom(a.getBody()),b=a.selection.getRng(),0!==(d=$l(a)).length?am(a,d):Wr(a,e,b,f))},$r=function(a,c,e){var b=function(c){return e=a,b=c.dom(),g=void 0!==b.style?b.style.getPropertyValue(e):"",m.from(g).filter(function(a){return 0<a.length});var e,b,g};return Sj(H.fromDom(e),function(a){return b(a).isSome()},function(a){return za(H.fromDom(c),a)}).bind(b)},cm=function(a){return function(c,
e){return m.from(e).map(H.fromDom).filter(Cc).bind(function(e){return $r(a,c,e.dom()).or((b=a,g=e.dom(),m.from(ua.DOM.getStyle(g,b,!0))));var b,g}).getOr("")}},Ee={getFontSize:cm("font-size"),getFontFamily:Z(function(a){return a.replace(/['"\\]/g,"").replace(/,\s+/g,",")},cm("font-family")),toPt:function(a,c){return/[0-9.]+px$/.test(a)?(e=72*parseInt(a,10)/96,b=c||0,d=Math.pow(10,b),Math.round(e*d)/d+"pt"):a;var e,b,d}},Pi=function(a){return X.firstPositionIn(a.getBody()).map(function(a){a=a.container();
return B.isText(a)?a.parentNode:a})},Oi=function(a){return m.from(a.selection.getRng()).bind(function(c){var e;return e=a.getBody(),c.startContainer===e&&0===c.startOffset?m.none():m.from(a.selection.getStart(!0))})},Li=function(a,c){if(/^[0-9\.]+$/.test(c)){var e=parseInt(c,10);if(1<=e&&7>=e){var b=C.explode(a.getParam("font_size_style_values",""));return(a=C.explode(a.getParam("font_size_classes","")))?a[e-1]||c:b[e-1]||c}}return c},ug=function(a,c){return a&&c&&a.startContainer===c.startContainer&&
a.startOffset===c.startOffset&&a.endContainer===c.endContainer&&a.endOffset===c.endOffset},dm=function(a,c,e){a:{for(;a&&a!==c;){if(e(a)){c=a;break a}a=a.parentNode}c=null}return null!==c},as=function(a,c,e){return dm(a,c,function(a){return a.nodeName===e})},em=function(a,c,e){for(a=new q(c,a.getParent(c.parentNode,a.isBlock)||a.getRoot());c=a[e?"prev":"next"]();)if(B.isBr(c))return!0},Jh=function(a,c,e,b,d){var g,f,n,l=a.getRoot(),h=a.schema.getNonEmptyElements();if(g=a.getParent(d.parentNode,a.isBlock)||
l,b&&B.isBr(d)&&c&&a.isEmpty(g))return m.some(M(d.parentNode,a.nodeIndex(d)));for(c=new q(d,g);d=c[b?"prev":"next"]();){if("false"===a.getContentEditableParent(d)||(n=l,mb(f=d)&&!1===dm(f,n,Sb)))return m.none();if(B.isText(d)&&0<d.nodeValue.length)return!1===as(d,l,"A")?m.some(M(d,b?d.nodeValue.length:0)):m.none();if(a.isBlock(d)||h[d.nodeName.toLowerCase()])return m.none();var k=d}return e&&k?m.some(M(k,0)):m.none()},fm=function(a,c,e,b){var g,d,f,l,h,k;var p=a.getRoot();var w=!1;if(g=b[(e?"start":
"end")+"Container"],d=b[(e?"start":"end")+"Offset"],l=B.isElement(g)&&d===g.childNodes.length,b=a.schema.getNonEmptyElements(),mb(g))return m.none();if(B.isElement(g)&&d>g.childNodes.length-1&&(e=!1),B.isDocument(g)&&(g=p,d=0),g===p){if(e&&(f=g.childNodes[0<d?d-1:0])&&(mb(f)||b[f.nodeName]||f&&"TABLE"===f.nodeName))return m.none();if(g.hasChildNodes()){if((d=Math.min(!e&&0<d?d-1:d,g.childNodes.length-1),g=g.childNodes[d],d=B.isText(g)&&l?g.data.length:0,!c&&g===p.lastChild&&g&&"TABLE"===g.nodeName)||
function(a,c){for(;c&&c!==a;){if(B.isContentEditableFalse(c))return!0;c=c.parentNode}return!1}(p,g)||mb(g))return m.none();if(g.hasChildNodes()&&!1===(g&&"TABLE"===g.nodeName)){p=new q(f=g,p);do{if(B.isContentEditableFalse(f)||mb(f)){w=!1;break}if(B.isText(f)&&0<f.nodeValue.length){d=e?0:f.nodeValue.length;g=f;w=!0;break}if(b[f.nodeName.toLowerCase()]&&(!(h=f)||!/^(TD|TH|CAPTION)$/.test(h.nodeName))){d=a.nodeIndex(f);g=f.parentNode;e||d++;w=!0;break}}while(f=e?p.next():p.prev())}}}return c&&(B.isText(g)&&
0===d&&Jh(a,l,c,!0,g).each(function(a){g=a.container();d=a.offset();w=!0}),B.isElement(g)&&((f=g.childNodes[d])||(f=g.childNodes[d-1]),!f||!B.isBr(f)||(k=f).previousSibling&&"A"===k.previousSibling.nodeName||em(a,f,!1)||em(a,f,!0)||Jh(a,l,c,!0,f).each(function(a){g=a.container();d=a.offset();w=!0}))),e&&!c&&B.isText(g)&&d===g.nodeValue.length&&Jh(a,l,c,!1,g).each(function(a){g=a.container();d=a.offset();w=!0}),w?m.some(M(g,d)):m.none()},Je=function(a,c){var e=c.collapsed,b=c.cloneRange(),d=M.fromRangeStart(c);
return fm(a,e,!0,b).each(function(a){e&&M.isAbove(d,a)||b.setStart(a.container(),a.offset())}),e||fm(a,e,!1,b).each(function(a){b.setEnd(a.container(),a.offset())}),e&&b.collapse(!0),ug(c,b)?m.none():m.some(b)},gm=function(a,c,e){var b=a.create("span",{},"&nbsp;");e.parentNode.insertBefore(b,e);c.scrollIntoView(b);a.remove(b)},hm=function(a,c,e,b){a=a.createRng();b?(a.setStartBefore(e),a.setEndBefore(e)):(a.setStartAfter(e),a.setEndAfter(e));c.setRng(a)},bs=function(a,c){var e,b,d=a.selection,f=a.dom,
l=d.getRng();Je(f,l).each(function(a){l.setStart(a.startContainer,a.startOffset);l.setEnd(a.endContainer,a.endOffset)});var h=l.startOffset,m=l.startContainer;if(1===m.nodeType&&m.hasChildNodes()){var k=h>m.childNodes.length-1;m=m.childNodes[Math.min(h,m.childNodes.length-1)]||m;h=k&&3===m.nodeType?m.nodeValue.length:0}var p=(k=f.getParent(m,f.isBlock))?f.getParent(k.parentNode,f.isBlock):null,w=p?p.nodeName.toUpperCase():"";c=c&&c.ctrlKey;"LI"!==w||c||(k=p);m&&3===m.nodeType&&h>=m.nodeValue.length&&
(function(a,c,e){c=new q(c,e);for(e=a.getNonEmptyElements();a=c.next();)if(e[a.nodeName.toLowerCase()]||0<a.length)return!0}(a.schema,m,k)||(e=f.create("br"),l.insertNode(e),l.setStartAfter(e),l.setEndAfter(e),b=!0));e=f.create("br");l.insertNode(e);gm(f,d,e);hm(f,d,e,b);a.undoManager.add()},cs=function(a,c){var e=H.fromTag("br");mc(H.fromDom(c),e);a.undoManager.add()},es=function(a,c){ds(a.getBody(),c)||Vg(H.fromDom(c),H.fromTag("br"));var e=H.fromTag("br");Vg(H.fromDom(c),e);gm(a.dom,a.selection,
e.dom());hm(a.dom,a.selection,e.dom(),!1);a.undoManager.add()},ds=function(a,c){return e=I.after(c),!!B.isBr(e.getNode())||X.nextPosition(a,I.after(c)).map(function(a){return B.isBr(a.getNode())}).getOr(!1);var e},im=function(a){return a&&"A"===a.nodeName&&"href"in a},fs=function(a){return a.fold(F(!1),im,im,F(!1))},gs=function(a,c){c.fold(T,K(cs,a),K(es,a),T)},Ni=function(a,c){var e,b,d=(e=K(oa.isInlineTarget,a),b=I.fromRangeStart(a.selection.getRng()),Vb(e,a.getBody(),b).filter(fs));d.isSome()?
d.each(K(gs,a)):bs(a,c)},jm=(td([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),td([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Hb("start","soffset","finish","foffset")),hs=kc.detect().browser,km=function(a,c){c=ed(c)?kl.get(c).length:lc(c).length+1;return c<a?c:0>a?0:a},is=function(a){return jm(a.start(),km(a.soffset(),a.start()),a.finish(),km(a.foffset(),a.finish()))},lm=function(a,c){return Dc(a,c)||za(a,c)},mm=
function(a){return function(c){return lm(a,c.start())&&lm(a,c.finish())}},js=function(a){return jm(H.fromDom(a.startContainer),a.startOffset,H.fromDom(a.endContainer),a.endOffset)},ks=function(a,c){return m.from(c).filter(mm(a)).map(is)},ls=function(a){var c=document.createRange();try{return c.setStart(a.start().dom(),a.soffset()),c.setEnd(a.finish().dom(),a.foffset()),m.some(c)}catch(e){return m.none()}},Kh=function(a){return(a.bookmark?a.bookmark:m.none()).bind(K(ks,H.fromDom(a.getBody()))).bind(ls)},
Fe=function(a){if(!0===a.inline||hs.isIE()){var c=H.fromDom(a.getBody());var e,b=(e=c.dom().ownerDocument.defaultView,H.fromDom(e)).dom().getSelection();c=(b&&0!==b.rangeCount?m.from(b.getRangeAt(0)):m.none()).map(js).filter(mm(c))}else c=m.none();a.bookmark=c.isSome()?c:a.bookmark},Io=function(a){Kh(a).each(function(c){a.selection.setRng(c)})},Ko=function(a,c){var e=a.settings,b=a.dom,d=a.selection,f=a.formatter,l=/[a-z%]+$/i.exec(e.indentation)[0],h=parseInt(e.indentation,10),m=a.getParam("indent_use_margin",
!1);a.queryCommandState("InsertUnorderedList")||a.queryCommandState("InsertOrderedList")||(e.forced_root_block||b.getParent(d.getNode(),b.isBlock)||f.apply("div"),U(d.getSelectedBlocks(),function(a){if("false"!==b.getContentEditable(a)&&"LI"!==a.nodeName){var e=m?"margin":"padding";if(e="TABLE"===a.nodeName?"margin":e,e+="rtl"===b.getStyle(a,"direction",!0)?"Right":"Left","outdent"===c){var d=Math.max(0,parseInt(a.style[e]||0,10)-h);b.setStyle(a,e,d?d+l:"")}else d=parseInt(a.style[e]||0,10)+h+l,b.setStyle(a,
e,d)}}))},ye=C.each,Ho=C.extend,Lo=C.map,Mo=C.inArray,ms=C.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),Cf=function(a){var c=this,e={},b=function(){return!1},d=function(){return!0};var f=
(a=a||{}).scope||c;var l=a.toggleEvent||b;var h=function(a,d,g,f){var n,t;if(!1===d&&(d=b),d)for(d={func:d},f&&C.extend(d,f),t=(n=a.toLowerCase().split(" ")).length;t--;)a=n[t],(f=e[a])||(f=e[a]=[],l(a,!0)),g?f.unshift(d):f.push(d);return c},m=function(a,b){var d,g,f,n,t;if(a)for(d=(n=a.toLowerCase().split(" ")).length;d--;){if(a=n[d],g=e[a],!a){for(f in e)l(f,!1),delete e[f];break}if(g){if(b)for(t=g.length;t--;)g[t].func===b&&(g=g.slice(0,t).concat(g.slice(t+1)),e[a]=g);else g.length=0;g.length||
(l(a,!1),delete e[a])}}else{for(a in e)l(a,!1);e={}}return c};c.fire=function(c,g){var n,l,t;if(c=c.toLowerCase(),(g=g||{}).type=c,g.target||(g.target=f),g.preventDefault||(g.preventDefault=function(){g.isDefaultPrevented=d},g.stopPropagation=function(){g.isPropagationStopped=d},g.stopImmediatePropagation=function(){g.isImmediatePropagationStopped=d},g.isDefaultPrevented=b,g.isPropagationStopped=b,g.isImmediatePropagationStopped=b),a.beforeFire&&a.beforeFire(g),n=e[c]){var u=0;for(l=n.length;u<l;u++){if((t=
n[u]).once&&m(c,t.func),g.isImmediatePropagationStopped())return g.stopPropagation(),g;if(!1===t.func.call(f,g))return g.preventDefault(),g}}return g};c.on=h;c.off=m;c.once=function(a,c,e){return h(a,c,e,{once:!0})};c.has=function(a){return a=a.toLowerCase(),!(!e[a]||0===e[a].length)}};Cf.isNative=function(a){return!!ms[a.toLowerCase()]};var Kc,ce=function(a){return a._eventDispatcher||(a._eventDispatcher=new Cf({scope:a,toggleEvent:function(c,e){Cf.isNative(c)&&a.toggleNativeEvent&&a.toggleNativeEvent(c,
e)}})),a._eventDispatcher},Df={fire:function(a,c,e){if(this.removed&&"remove"!==a)return c;if(c=ce(this).fire(a,c,e),!1!==e&&this.parent)for(e=this.parent();e&&!c.isPropagationStopped();)e.fire(a,c,!1),e=e.parent();return c},on:function(a,c,e){return ce(this).on(a,c,e)},off:function(a,c){return ce(this).off(a,c)},once:function(a,c){return ce(this).once(a,c)},hasEventListeners:function(a){return ce(this).has(a)}},ns=function(a,c){return a.fire("PreProcess",c)},Lh=function(a,c,e){try{a.getDoc().execCommand(c,
!1,e)}catch(g){}},nm=function(a,c){var e=H.fromDom(a.getBody());Rj(e,"mce-content-readonly")&&!1===c?(ff(e)?e.dom().classList.remove("mce-content-readonly"):cq(e,"mce-content-readonly"),0===(ff(e)?e.dom().classList:Yg(e,"class")).length&&Pd(e,"class")):c&&Zg(e,"mce-content-readonly");c?(a.selection.controlSelection.hideResizeRect(),a.readonly=!0,a.getBody().contentEditable="false"):(a.readonly=!1,a.getBody().contentEditable="true",Lh(a,"StyleWithCSS",!1),Lh(a,"enableInlineTableEditing",!1),Lh(a,"enableObjectResizing",
!1),a.focus(),a.nodeChanged())},os=function(a){return a.readonly?"readonly":"design"},Ef=ua.DOM,Ff=function(a,c){return"selectionchange"===c?a.getDoc():!a.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(c)?a.getDoc().documentElement:a.settings.event_root?(a.eventRoot||(a.eventRoot=Ef.select(a.settings.event_root)[0]),a.eventRoot):a.getBody()},om=function(a,c){var e;if(a.delegates||(a.delegates={}),!a.delegates[c]&&!a.removed)if(e=Ff(a,c),a.settings.event_root){if(Kc||(Kc={},a.editorManager.on("removeEditor",
function(){var c;if(!a.editorManager.activeEditor&&Kc){for(c in Kc)a.dom.unbind(Ff(a,c));Kc=null}})),!Kc[c]){var b=function(e){for(var b=e.target,d=a.editorManager.get(),g=d.length;g--;){var f=d[g].getBody();if(f===b||Ef.isChildOf(b,f)){f=d[g];var n=c,l=e;f.hidden||f.readonly?!0===f.readonly&&l.preventDefault():f.fire(n,l)}}};Kc[c]=b;Ef.bind(e,c,b)}}else b=function(e){a.hidden||a.readonly?!0===a.readonly&&e.preventDefault():a.fire(c,e)},Ef.bind(e,c,b),a.delegates[c]=b},pm={bindPendingEventDelegates:function(){var a=
this;C.each(a._pendingNativeEvents,function(c){om(a,c)})},toggleNativeEvent:function(a,c){"focus"!==a&&"blur"!==a&&(c?this.initialized?om(this,a):this._pendingNativeEvents?this._pendingNativeEvents.push(a):this._pendingNativeEvents=[a]:this.initialized&&(this.dom.unbind(Ff(this,a),a,this.delegates[a]),delete this.delegates[a]))},unbindAllNativeEvents:function(){var a,c=this.getBody(),e=this.dom;if(this.delegates){for(a in this.delegates)this.dom.unbind(Ff(this,a),a,this.delegates[a]);delete this.delegates}!this.inline&&
c&&e&&(c.onload=null,e.unbind(this.getWin()),e.unbind(this.getDoc()));e&&(e.unbind(c),e.unbind(this.getContainer()))}},qm=pm=C.extend({},Df,pm),qg=C.each,rg=C.explode,No={f9:120,f10:121,f11:122},Qi=C.makeMap("alt,ctrl,shift,meta,access"),rm=function(a){var c=We(a).dom();return a.dom()===c.activeElement},ps=function(a){return(c=We(a),e=void 0!==c?c.dom():document,m.from(e.activeElement).map(H.fromDom)).filter(function(c){return a.dom().contains(c.dom())});var c,e},qs=function(a,c){return(e=c,e.collapsed?
m.from(md(e.startContainer,e.startOffset)).map(H.fromDom):m.none()).bind(function(c){return Pp(c)?m.some(c):!1===Dc(a,c)?m.some(a):m.none()});var e},sm=function(a,c){qs(H.fromDom(a.getBody()),c).bind(function(a){return X.firstPositionIn(a.dom())}).fold(function(){a.selection.normalize()},function(c){return a.selection.setRng(c.toRange())})},Mh=function(a){if(a.setActive)try{a.setActive()}catch(c){a.focus()}else a.focus()},xd=function(a){if(a.inline){var c,e=a.getBody();a=e&&(c=H.fromDom(e),rm(c)||
ps(c).isSome())}else a=(e=a).iframeElement&&rm(H.fromDom(e.iframeElement));return a},rs=function(a,c){a.removed||(c?a.editorManager.setActive(a):function(a){var c=a.selection,e=a.settings.content_editable,b=a.getBody(),d=c.getRng();a.quirks.refreshContentEditable();var f;c=(f=c.getNode(),a.dom.getParent(f,function(c){return"true"===a.dom.getContentEditable(c)}));if(a.$.contains(b,c))return Mh(c),sm(a,d),a.editorManager.setActive(a);void 0!==a.bookmark&&!1===xd(a)&&Kh(a).each(function(c){a.selection.setRng(c);
d=c});e||(S.opera||Mh(b),a.getWin().focus());(S.gecko||e)&&(Mh(b),sm(a,d));a.editorManager.setActive(a)}(a))},tm=function(a,c){return c.dom()[a]},um=function(a,c){return parseInt(Dj(c,a),10)},ss=K(tm,"clientWidth"),ts=K(tm,"clientHeight"),us=K(um,"margin-top"),vs=K(um,"margin-left"),vm=function(a,c,e){var b,d,f,l,h,m,k=H.fromDom(a.getBody());k=a.inline?k:H.fromDom(k.dom().ownerDocument.documentElement);a=(b=a.inline,d=k.dom().getBoundingClientRect(),{x:c-(b?d.left+k.dom().clientLeft+vs(k):0),y:e-
(b?d.top+k.dom().clientTop+us(k):0)});return f=a.x,l=a.y,h=ss(k),m=ts(k),0<=f&&0<=l&&f<=h&&l<=m},Oo=function(a){var c;return(c=a.inline?a.getBody():a.getContentAreaContainer(),m.from(c).map(H.fromDom)).map(function(a){return Dc(We(a),a)}).getOr(!1)},wm=R.PluginManager,tg=function(a,c){if(a._skinLoaded)a.notificationManager.open({type:"error",text:c});else a.on("SkinLoaded",function(){a.notificationManager.open({type:"error",text:c})})},Qo=tg,xm=function(a){for(var c=1;c<arguments.length;c++);(c=window.console)&&
(c.error?c.error.apply(c,arguments):c.log.apply(c,arguments))},Wb=R.PluginManager,Lc=R.ThemeManager,Nh=function(a){var c,e;a=decodeURIComponent(a).split(",");return(e=/data:([^;]+)/.exec(a[0]))&&(c=e[1]),{type:c,data:a[1]}},ws=function(a){return new kb(function(c){var e,b=Nh(a);try{var d=b.data;var f=ub.getOrDie("atob")(d)}catch(u){return void c(new Blob([]))}d=f.length;d=new (ub.getOrDie("Uint8Array"))(d);for(e=0;e<d.length;e++)d[e]=f.charCodeAt(e);c(new Blob([d],{type:b.type}))})},ym=function(a){return 0===
a.indexOf("blob:")?(c=a,new kb(function(a,b){var e=function(){b("Cannot convert "+c+" to Blob. Resource might not exist or is inaccessible.")};try{var d=Da();d.open("GET",c,!0);d.responseType="blob";d.onload=function(){200===this.status?a(this.response):e()};d.onerror=e;d.send()}catch(u){e()}})):0===a.indexOf("data:")?ws(a):null;var c},xs=function(a){return new kb(function(c){var e=new (ub.getOrDie("FileReader"));e.onloadend=function(){c(e.result)};e.readAsDataURL(a)})},zm=0,Po=function(a,c,e,b){var d,
g;0!==c.src.indexOf("blob:")?(d=Nh(c.src).data,(g=a.findFirst(function(a){return a.base64()===d}))?e({image:c,blobInfo:g}):ym(c.src).then(function(b){g=a.create("blobid"+zm++,b,d);a.add(g);e({image:c,blobInfo:g})},function(a){b(a)})):(g=a.getByUri(c.src))?e({image:c,blobInfo:g}):ym(c.src).then(function(b){xs(b).then(function(f){d=Nh(f).data;g=a.create("blobid"+zm++,b,d);a.add(g);e({image:c,blobInfo:g})})},function(a){b(a)})},ys=0,sg={uuid:function(a){return a+ys++ +(c=function(){return Math.round(4294967295*
Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+c()+c()+c());var c}},zs=function(a,c,e){return b=ql(H.fromDom(e),H.fromDom(c)),Tc(b,function(c){c=c.dom();return a.hasOwnProperty(c.nodeName)}).isSome();var b},As=function(a){var c,e,b,d;var f=a.settings;var l=a.dom,h=a.selection;var m=a.schema;var k=m.getBlockElements(),p=h.getStart();var q=a.getBody();if(d=f.forced_root_block,p&&B.isElement(p)&&d&&(c=q.nodeName.toLowerCase(),m.isValidChild(c,d.toLowerCase())&&!zs(k,q,p))){f=(c=h.getRng()).startContainer;
m=c.startOffset;var w=c.endContainer;var A=c.endOffset;var x=xd(a);for(p=q.firstChild;p;)if(r=k,T=p,B.isText(T)||B.isElement(T)&&!r.hasOwnProperty(T.nodeName)&&!Ha(T)){a:{q=k;var D=p;if(B.isText(D)){if(0===D.nodeValue.length){q=!0;break a}if(/^\s+$/.test(D.nodeValue)&&(!D.nextSibling||q.hasOwnProperty(D.nextSibling.nodeName))){q=!0;break a}}q=!1}q?(p=(q=p).nextSibling,l.remove(q)):(e||(e=l.create(d,a.settings.forced_root_block_attrs),p.parentNode.insertBefore(e,p),b=!0),p=(q=p).nextSibling,e.appendChild(q))}else e=
null,p=p.nextSibling;var r,T;b&&x&&(c.setStart(f,m),c.setEnd(w,A),h.setRng(c),a.nodeChanged())}},Am=function(a){return(c=a,Rd(c,0)).fold(F([a]),function(c){return[a].concat(Am(c))});var c},Oh=function(a){return Rd(a,a.dom().childNodes.length-1).fold(F([a]),function(c){return"br"===Ua(c)?Xe(c).map(function(c){return[a].concat(Oh(c))}).getOr([]):[a].concat(Oh(c))})},Bs=function(a,c){return eb([(f=c,l=f.startContainer,h=f.startOffset,B.isText(l)?0===h?m.some(H.fromDom(l)):m.none():m.from(l.childNodes[h]).map(H.fromDom)),
(e=c,b=e.endContainer,d=e.endOffset,B.isText(b)?d===b.data.length?m.some(H.fromDom(b)):m.none():m.from(b.childNodes[d-1]).map(H.fromDom))],function(c,e){c=xa(Am(a),K(za,c));e=xa(Oh(a),K(za,e));return c.isSome()&&e.isSome()}).getOr(!1);var e,b,d,f,l,h},Ph=function(a,c,e,b){var d=e,g=new q(e,d),f=a.schema.getNonEmptyElements();do{if(3===e.nodeType&&0!==C.trim(e.nodeValue).length)return void(b?c.setStart(e,0):c.setEnd(e,e.nodeValue.length));if(f[e.nodeName]&&!/^(TD|TH)$/.test(e.nodeName))return void(b?
c.setStartBefore(e):"BR"===e.nodeName?c.setEndBefore(e):c.setEndAfter(e));if(S.ie&&11>S.ie&&a.isBlock(e)&&a.isEmpty(e))return void(b?c.setStart(e,0):c.setEnd(e,0))}while(e=b?g.next():g.prev());"BODY"===d.nodeName&&(b?c.setStart(d,0):c.setEnd(d,d.childNodes.length))},vg=function(a){return(a=a.selection.getSel())&&0<a.rangeCount},yd,Gf,Bm=function(a){var c,e,b,d;return d=a.getBoundingClientRect(),e=(c=a.ownerDocument).documentElement,b=c.defaultView,{top:d.top+b.pageYOffset-e.clientTop,left:d.left+
b.pageXOffset-e.clientLeft}},de=B.isContentEditableFalse,Cs=B.isContentEditableTrue,Ds=function(a,c){return function(e){if(0===e.button){var b=W.find(c.dom.getParents(e.target),Ga.or(de,Cs));if(f=c.getBody(),de(l=b)&&l!==f){f=c.dom.getPos(b);l=c.getBody();var d=c.getDoc().documentElement;a.element=b;a.screenX=e.screenX;a.screenY=e.screenY;a.maxX=(c.inline?l.scrollWidth:d.offsetWidth)-2;a.maxY=(c.inline?l.scrollHeight:d.offsetHeight)-2;a.relX=e.pageX-f.x;a.relY=e.pageY-f.y;a.width=b.offsetWidth;a.height=
b.offsetHeight;e=a.width;f=a.height;b=b.cloneNode(!0);c.dom.setStyles(b,{width:e,height:f});c.dom.setAttrib(b,"data-mce-selected",null);l=c.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});b=(c.dom.setStyles(l,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:e,height:f}),c.dom.setStyles(b,{margin:0,boxSizing:"border-box"}),l.appendChild(b),l);a.ghost=b}}var f,l}},Es=function(a,c){return function(e){if(a.dragging&&
(k=(l=c).selection,p=k.getSel().getRangeAt(0).startContainer,h=3===p.nodeType?p.parentNode:p,m=a.element,h!==m&&!l.dom.isChildOf(h,m)&&!de(h))){var b=(d=a.element,(f=d.cloneNode(!0)).removeAttribute("data-mce-selected"),f);e=c.fire("drop",{targetClone:b,clientX:e.clientX,clientY:e.clientY});e.isDefaultPrevented()||(b=e.targetClone,c.undoManager.transact(function(){var e=a.element;e&&e.parentNode&&e.parentNode.removeChild(e);c.insertContent(c.dom.getOuterHTML(b));c._selectionOverrides.hideFakeCaret()}))}var d,
f,l,h,m,k,p;Cm(a)}},Cm=function(a){a.dragging=!1;a.element=null;(a=a.ghost)&&a.parentNode&&a.parentNode.removeChild(a)},Fs=function(a){var c,e={};var b=ua.DOM;var d=document;var f=Ds(e,a);var l=Za.throttle(function(c,e){a._selectionOverrides.hideFakeCaret();a.selection.placeCaretAt(c,e)},0);var h=function(c){var b,d,g,f,n,h,t=Math.max(Math.abs(c.screenX-e.screenX),Math.abs(c.screenY-e.screenY));if(e.element&&!e.dragging&&10<t){if(a.fire("dragstart",{target:e.element}).isDefaultPrevented())return;
e.dragging=!0;a.focus()}if(e.dragging){t=(h=a).inline?Bm(h.getBody()):{left:0,top:0};var m=(h=a).getBody();h=h.inline?{left:m.scrollLeft,top:m.scrollTop}:{left:0,top:0};if(c.target.ownerDocument!==a.getDoc()){m=Bm(a.getContentAreaContainer());var u=(d=(b=a).getBody(),g=b.getDoc().documentElement,f={left:d.scrollLeft,top:d.scrollTop},n={left:d.scrollLeft||g.scrollLeft,top:d.scrollTop||g.scrollTop},b.inline?f:n);b={left:c.pageX-m.left+u.left,top:c.pageY-m.top+u.top}}else b={left:c.pageX,top:c.pageY};
b=(d=b).left-t.left+h.left;d=d.top-t.top+h.top;t=b-e.relX;b=d+5;d=e.ghost;g=a.getBody();d.parentNode!==g&&g.appendChild(d);d=e.ghost;g=e.width;f=e.height;n=e.maxX;h=e.maxY;u=m=0;d.style.left=t+"px";d.style.top=b+"px";t+g>n&&(m=t+g-n);b+f>h&&(u=b+f-h);d.style.width=g-m+"px";d.style.height=f-u+"px";l(c.clientX,c.clientY)}};var m=Es(e,a);var k=function(){e.dragging&&c.fire("dragend");Cm(e)};(c=a).on("mousedown",f);a.on("mousemove",h);a.on("mouseup",m);b.bind(d,"mousemove",h);b.bind(d,"mouseup",k);a.on("remove",
function(){b.unbind(d,"mousemove",h);b.unbind(d,"mouseup",k)})},Gs=function(a){Fs(a);a.on("drop",function(c){var e="undefined"!=typeof c.clientX?a.getDoc().elementFromPoint(c.clientX,c.clientY):null;(de(e)||de(a.dom.getContentEditableParent(e)))&&c.preventDefault()})},Qh=function(a){return W.reduce(a,function(a,e){return a.concat(function(a){var c=function(c){return W.map(c,function(c){return(c=Gc(c)).node=a,c})};if(B.isElement(a))return c(a.getClientRects());if(B.isText(a)){var e=a.ownerDocument.createRange();
return e.setStart(a,0),e.setEnd(a,a.data.length),c(e.getClientRects())}}(e))},[])};(Gf=yd||(yd={}))[Gf.Up=-1]="Up";Gf[Gf.Down=1]="Down";var Dm=function(a,c,e,b,d,f){var g,n,l=0,h=[],m=function(b){var g;var f=Qh([b]);-1===a&&(f=f.reverse());for(b=0;b<f.length;b++)if(g=f[b],!e(g,n)){if(0<h.length&&c(g,W.last(h))&&l++,g.line=l,d(g))return!0;h.push(g)}};return(n=W.last(f.getClientRects()))&&(m(g=f.getNode()),function(a,c,e,b){for(;(b=od(b,a,id,c))&&!e(b););}(a,b,m,g)),h},Hs=K(Dm,yd.Up,kd,ld),Is=K(Dm,
yd.Down,ld,kd),Em=function(a){return function(c){return e=a,c.line>e;var e}},Rh=function(a){return function(c){return e=a,c.line===e;var e}},Js=B.isContentEditableFalse,Ks=od,Hf=function(a,c){return W.reduce(a,function(a,b){var e,d;return e=Math.min(Math.abs(a.left-c),Math.abs(a.right-c)),d=Math.min(Math.abs(b.left-c),Math.abs(b.right-c)),c>=b.left&&c<=b.right?b:c>=a.left&&c<=a.right?a:d===e&&Js(b.node)?b:d<e?b:a})},Fm=function(a,c,e,b){for(;(b=Ks(b,a,id,c))&&!e(b););},Ls=function(a,c,e){var b,d,
f,l,h,m=Qh(W.filter(W.toArray(a.getElementsByTagName("*")),Ub));m=W.filter(m,function(a){return e>=a.top&&e<=a.bottom});return(b=Hf(m,c))&&(b=Hf((h=function(a,c){var e;return e=W.filter(Qh([c]),function(c){return!a(c,f)}),l=l.concat(e),0===e.length},(l=[]).push(f=b),Fm(yd.Up,a,K(h,kd),f.node),Fm(yd.Down,a,K(h,ld),f.node),l),c))&&Ub(b.node)?{node:(d=b).node,before:Math.abs(d.left-c)<Math.abs(d.right-c)}:null},Gm=function(a,c,e){return!e.collapsed&&Yb(e.getClientRects(),function(e,b){return e||(f=c,
(g=a)>=(d=b).left&&g<=d.right&&f>=d.top&&f<=d.bottom);var d,g,f},!1)},Ms=function(a){var c=Qj(function(){if(!a.removed&&a.selection.getRng().collapsed){var c=oh(a,a.selection.getRng(),!1);a.selection.setRng(c)}},0);a.on("focus",function(){c.throttle()});a.on("blur",function(){c.cancel()})},ha={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(a){return a.shiftKey||a.ctrlKey||a.altKey||this.metaKeyPressed(a)},metaKeyPressed:function(a){return S.mac?
a.metaKey:a.ctrlKey&&!a.altKey}},Sh=B.isContentEditableTrue,vc=B.isContentEditableFalse,If=function(a,c){for(a=a.getBody();c&&c!==a;){if(Sh(c)||vc(c))return c;c=c.parentNode}return null},Ns=function(a){var c,e,b=a.getBody(),d=Fq(a.getBody(),function(c){return a.dom.isBlock(c)},function(){return xd(a)}),f="sel-"+a.dom.uniqueId(),l=function(c,e,b,g){return void 0===g&&(g=!0),a.fire("ShowCaret",{target:e,direction:c,before:b}).isDefaultPrevented()?null:(g&&a.selection.scrollIntoView(e,-1===c),d.show(b,
e))},h=function(a,c){return c=sf(a,b,c),-1===a?I.fromRangeStart(c):I.fromRangeEnd(c)},m=function(a){return mb(a)||lf(a)||mf(a)},k=function(a){return m(a.startContainer)||m(a.endContainer)},p=function(e,b){var d,g,n,m,t,u,v,p,q,G,A=a.$,x=a.dom;if(!e)return null;if(e.collapsed){if(!k(e))if(!1===b){if(p=h(-1,e),Ub(p.getNode(!0)))return l(-1,p.getNode(!0),!1,!1);if(Ub(p.getNode()))return l(-1,p.getNode(),!p.isAtEnd(),!1)}else{if(p=h(1,e),Ub(p.getNode()))return l(1,p.getNode(),!p.isAtEnd(),!1);if(Ub(p.getNode(!0)))return l(1,
p.getNode(!0),!1,!1)}return null}return m=e.startContainer,t=e.startOffset,u=e.endOffset,3===m.nodeType&&0===t&&vc(m.parentNode)&&(m=m.parentNode,t=x.nodeIndex(m),m=m.parentNode),1!==m.nodeType?null:(u===t+1&&(d=m.childNodes[t]),vc(d)?(q=G=d.cloneNode(!0),(v=a.fire("ObjectSelected",{target:d,targetClone:q})).isDefaultPrevented()?null:(g=jf(H.fromDom(a.getBody()),"#"+f).fold(function(){return A([])},function(a){return A([a.dom()])}),q=v.targetClone,0===g.length&&(g=A('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",
f)).appendTo(a.getBody()),e=a.dom.createRng(),q===G&&S.ie?(g.empty().append('<p style="font-size: 0" data-mce-bogus="all">\u00a0</p>').append(q),e.setStartAfter(g[0].firstChild.firstChild),e.setEndAfter(q)):(g.empty().append("\u00a0").append(q).append("\u00a0"),e.setStart(g[0].firstChild,1),e.setEnd(g[0].lastChild,0)),g.css({top:x.getPos(d,a.getBody()).y}),g[0].focus(),(n=a.selection.getSel()).removeAllRanges(),n.addRange(e),U($a(H.fromDom(a.getBody()),"*[data-mce-selected]"),function(a){Pd(a,"data-mce-selected")}),
d.setAttribute("data-mce-selected","1"),c=d,w(),e)):null)},q=function(){c&&(c.removeAttribute("data-mce-selected"),jf(H.fromDom(a.getBody()),"#"+f).each(cb),c=null);jf(H.fromDom(a.getBody()),"#"+f).each(cb);c=null},w=function(){d.hide()};return S.ceFalse&&(function(){a.on("mouseup",function(c){var e=a.selection.getRng();e.collapsed&&vm(a,c.clientX,c.clientY)&&(c=vk(a,e,!1))&&a.selection.setRng(c)});a.on("click",function(c){var e;(e=If(a,c.target))&&(vc(e)&&(c.preventDefault(),a.focus()),Sh(e)&&a.dom.isChildOf(e,
a.selection.getNode())&&q())});a.on("blur NewBlock",function(){q()});a.on("ResizeWindow FullscreenStateChanged",function(){return d.reposition()});var e=!1;a.on("touchstart",function(){e=!1});a.on("touchmove",function(){e=!0});a.on("touchend",function(c){var b=If(a,c.target);vc(b)&&(e||(c.preventDefault(),p(nh(a,b))))});a.on("mousedown",function(c){var e,d=c.target;if((d===b||"HTML"===d.nodeName||a.dom.isChildOf(d,b))&&!1!==vm(a,c.clientX,c.clientY))if(e=If(a,d))vc(e)?(c.preventDefault(),p(nh(a,e))):
(q(),Sh(e)&&c.shiftKey||Gm(c.clientX,c.clientY,a.selection.getRng())||(w(),a.selection.placeCaretAt(c.clientX,c.clientY)));else if(!1===Ub(d)){q();w();if(d=e=Ls(b,c.clientX,c.clientY)){var g=e.node;d=a.dom.getParent(c.target,a.dom.isBlock);g=a.dom.getParent(g,a.dom.isBlock);var f;if(!(f=!(!d||!a.dom.isChildOf(d,g)||!1!==vc(If(a,d))))){if(g=d&&a.dom.getParent(d,a.dom.isBlock)!==a.dom.getParent(g,a.dom.isBlock))g=Jb(d),d.firstChild?(d=I.before(d.firstChild),g=(d=g.next(d))&&!Yd(d)&&!Zd(d)):g=!1;f=g}d=
!f}d&&(c.preventDefault(),c=l(1,e.node,e.before,!1),a.getBody().focus(),c&&a.selection.setRng(c))}});a.on("keypress",function(c){ha.modifierPressed(c)||(c.keyCode,vc(a.selection.getNode())&&c.preventDefault())});a.on("getSelectionRange",function(a){var e=a.range;if(c){if(!c.parentNode)return void(c=null);(e=e.cloneRange()).selectNode(c);a.range=e}});a.on("setSelectionRange",function(a){var c;(c=p(a.range,a.forward))&&(a.range=c)});a.on("AfterSetSelectionRange",function(c){c=c.range;k(c)||"mcepastebin"===
c.startContainer.parentNode.id||w();a.dom.hasClass(c.startContainer.parentNode,"mce-offscreen-selection")||q()});a.on("copy",function(c){var e,b=c.clipboardData;if(!c.isDefaultPrevented()&&c.clipboardData&&!S.ie){var d=(e=a.dom.get(f))?e.getElementsByTagName("*")[0]:e;d&&(c.preventDefault(),b.clearData(),b.setData("text/html",d.outerHTML),b.setData("text/plain",d.outerText))}});Gs(a);Ms(a)}(),e=a.contentStyles,e.push(d.getCss()),e.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")),
{showCaret:l,showBlockCaretContainer:function(c){if(c.hasAttribute("data-mce-caret")){dh(c);var e=a.selection.getRng();e&&a.selection.setRng(e);a.selection.scrollIntoView(c[0])}},hideFakeCaret:w,destroy:function(){d.destroy();c=null}}},Si=function(a,c,e){var b,d=1;var f=a.getShortEndedElements();for((a=/<([!?\/])?([A-Za-z0-9\-_:\.]+)((?:\s+[^"'>]+(?:(?:"[^"]*")|(?:'[^']*')|[^>]*))*|\/|\s+)>/g).lastIndex=e;b=a.exec(c);){if(e=a.lastIndex,"/"===b[1])d--;else if(!b[1]){if(b[2]in f)continue;d++}if(0===
d)break}return e};(Ya||(Ya={})).findEndTag=Si;var zg=Ya,Hm=function(a,c){var e,b;var d=c;c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g;var f=a.schema;a=a.getTempAttrs();a=new RegExp(["\\s?("+a.join("|")+')="[^"]+"'].join("|"),"gi");d=d.replace(a,"");for(b=f.getShortEndedElements();e=c.exec(d);){a=c.lastIndex;var l=e[0].length;e=b[e[1]]?a:zg.findEndTag(f,d,a);d=d.substring(0,a-l)+d.substring(e);c.lastIndex=a-l}return cc(d)},Im={trimExternal:Hm,trimInternal:Hm},Os=function(a,c){var e=a.length+c.length+
2,b=Array(e),d=Array(e),f=function(e,g,n,h,m){a:{var t=g-e,u=h-n;if(0===t||0===u)var k=null;else{var v,p;k=t-u;t=u+t;var q=(0==t%2?t:t+1)/2;b[1+q]=e;d[1+q]=g+1;for(t=0;t<=q;++t){for(u=-t;u<=t;u+=2){var w=u+q;u===-t||u!==t&&b[w-1]<b[w+1]?b[w]=b[w+1]:b[w]=b[w-1]+1;for(p=(v=b[w])-e+n-u;v<g&&p<h&&a[v]===c[p];)b[w]=++v,++p;if(0!=k%2&&k-t<=u&&u<=k+t&&d[w-k]<=b[w]){k=l(d[w-k],u+e-n,g,h);break a}}for(u=k-t;u<=k+t;u+=2){w=u+q-k;u===k-t||u!==k+t&&d[w+1]<=d[w-1]?d[w]=d[w+1]-1:d[w]=d[w-1];for(p=(v=d[w]-1)-e+
n-u;e<=v&&n<=p&&a[v]===c[p];)d[w]=v--,p--;if(0==k%2&&-t<=u&&u<=t&&d[w]<=b[w+k]){k=l(d[w],u+e-n,g,h);break a}}}k=void 0}}if(null===k||k.start===g&&k.diag===g-h||k.end===e&&k.diag===e-n)for(k=e,t=n;k<g||t<h;)k<g&&t<h&&a[k]===c[t]?(m.push([0,a[k]]),++k,++t):h-n<g-e?(m.push([2,a[k]]),++k):(m.push([1,c[t]]),++t);else{f(e,k.start,n,k.start-k.diag,m);for(e=k.start;e<k.end;++e)m.push([0,a[e]]);f(k.end,g,k.end-k.diag,h,m)}},l=function(e,b,d,g){for(var f=e;f-b<g&&f<d&&a[f]===c[f-b];)++f;return{start:e,end:f,
diag:b}};e=[];return f(0,a.length,0,c.length,e),e},Jm=function(a){return B.isElement(a)?a.outerHTML:B.isText(a)?Ac.encodeRaw(a.data,!1):B.isComment(a)?"\x3c!--"+a.data+"--\x3e":""},Ps=function(a){return W.filter(W.map(a.childNodes,Jm),function(a){return 0<a.length})},Qs=function(a,c){var e,b,d=W.map(c.childNodes,Jm);return e=Os(d,a),b=0,W.each(e,function(a){if(0===a[0])b++;else if(1===a[0]){var e=a[1],d=b;var g=document.createElement("div");a=document.createDocumentFragment();for(e&&(g.innerHTML=
e);e=g.firstChild;)a.appendChild(e);c.hasChildNodes()&&d<c.childNodes.length?(d=c.childNodes[d],d.parentNode.insertBefore(a,d)):c.appendChild(a);b++}else 2===a[0]&&(a=b,c.hasChildNodes()&&a<c.childNodes.length&&(a=c.childNodes[a],a.parentNode.removeChild(a)))}),c},Km=bc(m.none()),Th=function(a){return"fragmented"===a.type?a.fragments.join(""):a.content},Lm=function(a){var c=H.fromTag("body",Km.get().getOrThunk(function(){var a=document.implementation.createHTMLDocument("undo");return Km.set(m.some(a)),
a}));return Uj(c,Th(a)),U($a(c,"*[data-mce-bogus]"),Ji),c.dom().innerHTML},xg=function(a){var c,e,b;return c=Ps(a.getBody()),-1!==(e=(b=wa(c,function(c){c=Im.trimInternal(a.serializer,c);return 0<c.length?[c]:[]})).join("")).indexOf("</iframe>")?{type:"fragmented",fragments:b,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},yg=function(a,c,e){"fragmented"===c.type?Qs(c.fragments,a.getBody()):a.setContent(c.content,{format:"raw"});
a.selection.moveToBookmark(e?c.beforeBookmark:c.bookmark)},wg=function(a,c){return!(!a||!c)&&(b=c,Th(a)===Th(b)||(e=c,Lm(a)===Lm(e)));var e,b},Uh=ca.isEq,Mm=function(a,c,e){if(e=a.formatter.get(e))for(var b=0;b<e.length;b++)if(!1===e[b].inherit&&a.dom.is(c,e[b].selector))return!0;return!1},Vh=function(a,c,e,b){var d=a.dom.getRoot();return c!==d&&(c=a.dom.getParent(c,function(c){return!!Mm(a,c,e)||c.parentNode===d||!!Jf(a,c,e,b,!0)}),Jf(a,c,e,b))},Nm=function(a,c,e){return!!Uh(c,e.inline)||!!Uh(c,
e.block)||(e.selector?1===c.nodeType&&a.is(c,e.selector):void 0)},Om=function(a,c,e,b,d,f){var g,l,n=e[b];if(e.onmatch)return e.onmatch(c,e,b);if(n)if("undefined"==typeof n.length)for(g in n){if(n.hasOwnProperty(g)&&((l="attributes"===b?a.getAttrib(c,g):ca.getStyle(a,c,g),d&&!l&&!e.exact)||(!d||e.exact)&&!Uh(l,ca.normalizeStyleValue(a,ca.replaceVars(n[g],f),g))))return}else for(d=0;d<n.length&&("attributes"===b?!a.getAttrib(c,n[d]):!ca.getStyle(a,c,n[d]));d++);return e},Jf=function(a,c,e,b,d){var g,
f=a.formatter.get(e),l=a.dom;if(f&&c)for(e=0;e<f.length;e++)if(g=f[e],Nm(a.dom,c,g)&&Om(l,c,g,"attributes",d,b)&&Om(l,c,g,"styles",d,b)){if(d=g.classes)for(b=0;b<d.length;b++)if(!a.dom.hasClass(c,d[b]))return;return g}},lb={matchNode:Jf,matchName:Nm,match:function(a,c,e,b){var d;return b?Vh(a,b,c,e):(b=a.selection.getNode(),!!Vh(a,b,c,e)||!((d=a.selection.getStart())===b||!Vh(a,d,c,e)))},matchAll:function(a,c,e){var b,d=[],f={};return b=a.selection.getStart(),a.dom.getParent(b,function(b){var g;for(g=
0;g<c.length;g++){var l=c[g];!f[l]&&Jf(a,b,l,e)&&(f[l]=!0,d.push(l))}},a.dom.getRoot()),d},canApply:function(a,c){var e,b,d;c=a.formatter.get(c);var f=a.dom;if(c)for(a=a.selection.getStart(),a=ca.getParents(f,a),b=c.length-1;0<=b;b--){if(!(d=c[b].selector)||c[b].defaultBlock)return!0;for(e=a.length-1;0<=e;e--)if(f.is(a[e],d))return!0}return!1},matchesUnInheritedFormatSelector:Mm},Ie=function(a){var c=a.startContainer,b=a.startOffset,d=a.endContainer;a=a.endOffset;c===d&&B.isText(c)?0<b&&b<c.nodeValue.length&&
(c=(d=c.splitText(b)).previousSibling,b<a?(c=d=d.splitText(a-b).previousSibling,a=d.nodeValue.length,b=0):a=0):(B.isText(c)&&0<b&&b<c.nodeValue.length&&(c=c.splitText(b),b=0),B.isText(d)&&0<a&&a<d.nodeValue.length&&(a=(d=d.splitText(a).previousSibling).nodeValue.length));return{startContainer:c,startOffset:b,endContainer:d,endOffset:a}},Pm=function(a){a:{for(var c=[];a;){if(3===a.nodeType&&"\ufeff"!==a.nodeValue||1<a.childNodes.length){a=[];break a}1===a.nodeType&&c.push(a);a=a.firstChild}a=c}return 0<
a.length},Qm=function(a){var c;if(a)for(a=(c=new q(a,a)).current();a;a=c.next())if(3===a.nodeType)return a;return null},Wh=function(a){var c=H.fromTag("span");return Od(c,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),a&&ob(c,H.fromText("\ufeff")),c},Xh=function(a,c,b){void 0===b&&(b=!0);var e,d=a.dom,f=a.selection;if(Pm(c))ud(a,!1,H.fromDom(c),b);else{a=f.getRng();b=d.getParent(c,d.isBlock);var l=((e=Qm(c))&&"\ufeff"===e.nodeValue.charAt(0)&&e.deleteData(0,1),e);a.startContainer===
l&&0<a.startOffset&&a.setStart(l,a.startOffset-1);a.endContainer===l&&0<a.endOffset&&a.setEnd(l,a.endOffset-1);d.remove(c,!0);b&&d.isEmpty(b)&&$d(H.fromDom(b));f.setRng(a)}},Yh=function(a,c,b){void 0===b&&(b=!0);var e=a.dom,d=a.selection;if(c)Xh(a,c,b);else if(!Ic(a.getBody(),d.getStart()))for(;c=e.get("_mce_caret");)Xh(a,c,!1)},Rm=function(a,c){return a.appendChild(c),c},Sm=function(a,c){var b,d;a=(b=function(a,c){return Rm(a,c.cloneNode(!1))},d=c,function(a,c){for(var b=a.length-1;0<=b;b--)c(a[b],
b,a)}(a,function(a){d=b(d,a)}),d);return Rm(a,a.ownerDocument.createTextNode("\ufeff"))},To=function(a){a.on("mouseup keydown",function(c){c=c.keyCode;var b=a.selection;var d=a.getBody();Yh(a,null,!1);8!==c&&46!==c||!b.isCollapsed()||"\ufeff"!==b.getStart().innerHTML||Yh(a,Ic(d,b.getStart()));37!==c&&39!==c||Yh(a,Ic(d,b.getStart()))})},Rs=function(a,c){return a.schema.getTextInlineElements().hasOwnProperty(Ua(c))&&!Sb(c.dom())&&!B.isBogus(c.dom())},Kf={},Tm=W.filter,Um=W.each;Kf.pre||(Kf.pre=[]);
Kf.pre.push(function(a){var c,b=a.selection.getRng();var d=B.matchNodeNames("pre");b.collapsed||(c=a.selection.getSelectedBlocks(),Um(Tm(Tm(c,d),function(a){return d(a.previousSibling)&&-1!==W.indexOf(c,a.previousSibling)}),function(a){var c=a.previousSibling;N(a).remove();N(c).append("<br><br>").append(a.childNodes)}))});var Ss=function(a,c){Um(Kf[a],function(a){a(c)})},Ts=/^(src|href|style)$/,Mc=C.each,zd=ca.isEq,Vm=function(a,c,b){var e,d,f;return e=c[b?"startContainer":"endContainer"],d=c[b?"startOffset":
"endOffset"],B.isElement(e)&&(f=e.childNodes.length-1,!b&&d&&d--,e=e.childNodes[f<d?f:d]),B.isText(e)&&b&&d>=e.nodeValue.length&&(e=(new q(e,a.getBody())).next()||e),B.isText(e)&&!b&&0===d&&(e=(new q(e,a.getBody())).prev()||e),e},Zh=function(a,c,b,d){a=a.create(b,d);return c.parentNode.insertBefore(a,c),a.appendChild(c),a},Lf=function(a,c,b,d){return!(c=ca.getNonWhiteSpaceSibling(c,b,d))||"BR"===c.nodeName||a.isBlock(c)},Nc=function(a,c,b,d,f){var e,g,l,n,h,m,k=a.dom;if(!(zd(d,c.inline)||zd(d,c.block)||
c.selector&&B.isElement(d)&&k.is(d,c.selector)||c.links&&"A"===d.tagName))return!1;if("all"!==c.remove){Mc(c.styles,function(a,e){a=ca.normalizeStyleValue(k,ca.replaceVars(a,b),e);"number"==typeof e&&(e=a,f=0);(c.remove_similar||!f||zd(ca.getStyle(k,f,e),a))&&k.setStyle(d,e,"");g=1});g&&""===k.getAttrib(d,"style")&&(d.removeAttribute("style"),d.removeAttribute("data-mce-style"));Mc(c.attributes,function(a,c){var e;if(a=ca.replaceVars(a,b),"number"==typeof c&&(c=a,f=0),!f||zd(k.getAttrib(f,c),a)){if("class"===
c&&(a=k.getAttrib(d,c))&&(e="",Mc(a.split(/\s+/),function(a){/mce\-\w+/.test(a)&&(e+=(e?" ":"")+a)}),e))return void k.setAttrib(d,c,e);"class"===c&&d.removeAttribute("className");Ts.test(c)&&d.removeAttribute("data-mce-"+c);d.removeAttribute(c)}});Mc(c.classes,function(a){a=ca.replaceVars(a,b);f&&!k.hasClass(f,a)||k.removeClass(d,a)});var p=k.getAttribs(d);for(e=0;e<p.length;e++){var q=p[e].nodeName;if(0!==q.indexOf("_")&&0!==q.indexOf("data-"))return!1}}return"none"!==c.remove?(n=d.parentNode,h=
a.dom,m=a.settings.forced_root_block,c.block&&(m?n===h.getRoot()&&(c.list_block&&zd(d,c.list_block)||Mc(C.grep(d.childNodes),function(c){ca.isValid(a,m,c.nodeName.toLowerCase())?l?l.appendChild(c):(l=Zh(h,c,m),h.setAttribs(l,a.settings.forced_root_block_attrs)):l=0})):h.isBlock(d)&&!h.isBlock(n)&&(Lf(h,d,!1)||Lf(h,d.firstChild,!0,1)||d.insertBefore(h.create("br"),d.firstChild),Lf(h,d,!0)||Lf(h,d.lastChild,!1,1)||d.appendChild(h.create("br")))),c.selector&&c.inline&&!zd(c.inline,d)||h.remove(d,1),
!0):void 0},Ui=function(a,c,b,d,f){var e,g,l=a.formatter.get(c),n=l[0],h=!0,m=a.dom,k=a.selection,p=function(e){var d,g=(Mc(ca.getParents(a.dom,e.parentNode).reverse(),function(e){var g;d||"_start"===e.id||"_end"===e.id||(g=lb.matchNode(a,e,c,b,f))&&!1!==g.split&&(d=e)}),d);return function(a,c,b,e,d,g,f,l){var n,h,m,t,u=a.dom;if(b){var k=b.parentNode;for(n=e.parentNode;n&&n!==k;n=n.parentNode){var v=u.clone(n,!1);for(t=0;t<c.length;t++)if(Nc(a,c[t],l,v,v)){v=0;break}v&&(h&&v.appendChild(h),m||(m=
v),h=v)}!g||f.mixed&&u.isBlock(b)||(e=u.split(b,e));h&&(d.parentNode.insertBefore(h,d),m.appendChild(d))}return e}(a,l,g,e,e,!0,n,b)},q=function(c){var e,d,g,f;if(B.isElement(c)&&m.getContentEditable(c)&&(g=h,h="true"===m.getContentEditable(c),f=!0),e=C.grep(c.childNodes),h&&!f){var t=0;for(d=l.length;t<d&&!Nc(a,l[t],b,c,c);t++);}if(n.deep&&e.length){t=0;for(d=e.length;t<d;t++)q(e[t]);f&&(h=g)}},w=function(a){var c,b=m.get(a?"_start":"_end"),e=b[a?"firstChild":"lastChild"];return Ha(c=e)&&B.isElement(c)&&
("_start"===c.id||"_end"===c.id)&&(e=e[a?"firstChild":"lastChild"]),B.isText(e)&&0===e.data.length&&(e=a?b.previousSibling||b.nextSibling:b.nextSibling||b.previousSibling),m.remove(b,!0),e},A=function(c){var b,e,d=c.commonAncestorContainer;if(c=rd(a,c,l,!0),n.split){if(c=Ie(c),(b=Vm(a,c,!0))!==(e=Vm(a,c))){if(/^(TR|TH|TD)$/.test(b.nodeName)&&b.firstChild&&(b="TR"===b.nodeName?b.firstChild.firstChild||b:b.firstChild||b),d&&/^T(HEAD|BODY|FOOT|R)$/.test(d.nodeName)&&/^(TH|TD)$/.test(e.nodeName)&&e.firstChild&&
(e=e.firstChild||e),m.isChildOf(b,e)&&b!==e&&!m.isBlock(e)&&!/^(TH|TD)$/.test(b.nodeName)&&!/^(TH|TD)$/.test(e.nodeName))return c=function(a,c,b,e,d){e=(e?"next":"previous")+"Sibling";var g=a.create(b,d);c.parentNode.insertBefore(g,c);for(a=[c];c=c[e];)a.push(c);return a.forEach(function(a){return g.appendChild(a)}),g}(m,b,"span",!0,{id:"_start","data-mce-type":"bookmark"}),p(c),void(b=w(!0));b=Zh(m,b,"span",{id:"_start","data-mce-type":"bookmark"});e=Zh(m,e,"span",{id:"_end","data-mce-type":"bookmark"});
p(b);p(e);b=w(!0);e=w()}else b=e=p(b);c.startContainer=b.parentNode?b.parentNode:b;c.startOffset=m.nodeIndex(b);c.endContainer=e.parentNode?e.parentNode:e;c.endOffset=m.nodeIndex(e)+1}He(m,c,function(c){Mc(c,function(c){q(c);B.isElement(c)&&"underline"===a.dom.getStyle(c,"text-decoration")&&c.parentNode&&"underline"===ca.getTextDecoration(m,c.parentNode)&&Nc(a,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,c)})})};if(d)d.nodeType?((g=m.createRng()).setStartBefore(d),g.setEndAfter(d),
A(g)):A(d);else if("false"!==m.getContentEditable(k.getNode()))k.isCollapsed()&&n.inline&&!m.select("td[data-mce-selected],th[data-mce-selected]").length?function(a,c,b,e){var d,g,f=a.dom,l=a.selection,n=[],h=l.getRng();var m=h.startContainer;var t=h.startOffset;for(3===(g=m).nodeType&&(t!==m.nodeValue.length&&(d=!0),g=g.parentNode);g;){if(lb.matchNode(a,g,c,b,e)){var u=g;break}g.nextSibling&&(d=!0);n.push(g);g=g.parentNode}if(u)if(d)u=l.getBookmark(),h.collapse(!0),f=rd(a,h,a.formatter.get(c),!0),
f=Ie(f),a.formatter.remove(c,b,f),l.moveToBookmark(u);else{c=Ic(a.getBody(),u);b=Wh(!1).dom();n=Sm(n,b);h=c||u;e=a.dom;if((m=e.getParent(h,Ga.curry(ca.isTextBlock,a)))&&e.isEmpty(m))h.parentNode.replaceChild(b,h);else{d=H.fromDom(h);m=$a(d,"br");t=[];for(d=d.dom();d;)t.push(H.fromDom(d)),d=d.lastChild;t=Ka(t.slice(-1),Qg);m.length===t.length&&U(t,cb);e.isEmpty(h)?h.parentNode.replaceChild(b,h):e.insertAfter(b,h)}Xh(a,c,!1);l.setCursorLocation(n,1);f.isEmpty(u)&&f.remove(u)}}(a,c,b,f):(e=Zc.getPersistentBookmark(a.selection,
!0),A(k.getRng()),k.moveToBookmark(e),n.inline&&lb.match(a,c,b,k.getStart())&&ca.moveStart(m,k,k.getRng()),a.nodeChanged());else for(d=k.getNode(),e=0,g=l.length;e<g&&(!l[e].ceFalseOverride||!Nc(a,l[e],b,d,d));e++);},ee=C.each,$h=function(a){return a&&1===a.nodeType&&!Ha(a)&&!Sb(a)&&!B.isBogus(a)},Wm=function(a,c){var b;for(b=a;b&&(3!==b.nodeType||0===b.nodeValue.length);b=b[c])if(1===b.nodeType&&!Ha(b))return b;return a},Xm=function(a,c,b){var e;var d=new nl(a);if(c&&b&&(c=Wm(c,"previousSibling"),
b=Wm(b,"nextSibling"),d.compare(c,b))){for(d=c.nextSibling;d&&d!==b;)d=(e=d).nextSibling,c.appendChild(e);return a.remove(b),C.each(C.grep(b.childNodes),function(a){c.appendChild(a)}),c}return b},ai=function(a,c,b){ee(a.childNodes,function(a){$h(a)&&(c(a)&&b(a),a.hasChildNodes()&&ai(a,c,b))})},Ym=function(a,c){return K(function(c,b){return!(!b||!ca.getStyle(a,b,c))},c)},Zm=function(a,c,b){return K(function(c,b,e){a.setStyle(e,c,b);""===e.getAttribute("style")&&e.removeAttribute("style");"SPAN"===
e.nodeName&&0===a.getAttribs(e).length&&a.remove(e,!0)},c,b)},$m=function(a,c){var b;1===c.nodeType&&c.parentNode&&1===c.parentNode.nodeType&&(b=ca.getTextDecoration(a,c.parentNode),a.getStyle(c,"color")&&b?a.setStyle(c,"text-decoration",b):a.getStyle(c,"text-decoration")===b&&a.setStyle(c,"text-decoration",null))},Us=function(a,c,b,d){ee(c,function(c){ee(a.dom.select(c.inline,d),function(e){$h(e)&&Nc(a,c,b,e,c.exact?e:null)});(function(a,c,b){c.clear_child_styles&&ee(a.select(c.links?"*:not(a)":
"*",b),function(b){$h(b)&&ee(c.styles,function(c,e){a.setStyle(b,e,"")})})})(a.dom,c,d)})},Vs=function(a,c,b,d){(c.styles.color||c.styles.textDecoration)&&(C.walk(d,K($m,a),"childNodes"),$m(a,d))},Ws=function(a,c,b,d){c.styles&&c.styles.backgroundColor&&ai(d,Ym(a,"fontSize"),Zm(a,"backgroundColor",ca.replaceVars(c.styles.backgroundColor,b)))},Xs=function(a,c,b,d){"sub"!==c.inline&&"sup"!==c.inline||(ai(d,Ym(a,"fontSize"),Zm(a,"fontSize","")),a.remove(a.select("sup"===c.inline?"sub":"sup",d),!0))},
Ys=function(a,c,b,d){d&&!1!==c.merge_siblings&&(d=Xm(a,ca.getNonWhiteSpaceSibling(d),d),Xm(a,d,ca.getNonWhiteSpaceSibling(d,!0)))},Zs=function(a,c,b,d,f){lb.matchNode(a,f.parentNode,b,d)&&Nc(a,c,d,f)||c.merge_with_parents&&a.dom.getParent(f.parentNode,function(e){if(lb.matchNode(a,e,b,d))return Nc(a,c,d,f),!0})},Bb=C.each,an=function(a,c,b,d){var e,g=a.formatter.get(c),f=g[0],l=!d&&a.selection.isCollapsed(),h=a.dom,m=a.selection,k=function(a,c){if(c=c||f,a){if(c.onformat&&c.onformat(a,c,b,d),Bb(c.styles,
function(c,e){h.setStyle(a,e,ca.replaceVars(c,b))}),c.styles){var e=h.getAttrib(a,"style");e&&a.setAttribute("data-mce-style",e)}Bb(c.attributes,function(c,e){h.setAttrib(a,e,ca.replaceVars(c,b))});Bb(c.classes,function(c){c=ca.replaceVars(c,b);h.hasClass(a,c)||h.addClass(a,c)})}},p=function(a,c){var b=!1;return!!f.selector&&(Bb(a,function(a){if(!("collapsed"in a&&a.collapsed!==l))return h.is(c,a.selector)&&!Sb(c)?(k(c,a),!(b=!0)):void 0}),b)},q=function(e,d,l,n){var h=[],m=!0;var t=f.inline||f.block;
var u=e.create(t);k(u);He(e,d,function(d){var l,v=function(d){var q,w,A,x;if(x=m,q=d.nodeName.toLowerCase(),w=d.parentNode.nodeName.toLowerCase(),1===d.nodeType&&e.getContentEditable(d)&&(x=m,m="true"===e.getContentEditable(d),A=!0),ca.isEq(q,"br"))return l=0,void(f.block&&e.remove(d));if(f.wrapper&&lb.matchNode(a,d,c,b))l=0;else{if(m&&!A&&f.block&&!f.wrapper&&ca.isTextBlock(a,q)&&ca.isValid(a,w,t))return d=e.rename(d,t),k(d),h.push(d),void(l=0);if(f.selector){var G=p(g,d);if(!f.inline||G)return void(l=
0)}!m||A||!ca.isValid(a,t,q)||!ca.isValid(a,w,t)||!n&&3===d.nodeType&&1===d.nodeValue.length&&65279===d.nodeValue.charCodeAt(0)||Sb(d)||f.inline&&e.isBlock(d)?(l=0,Bb(C.grep(d.childNodes),v),A&&(m=x),l=0):(l||(l=e.clone(u,!1),d.parentNode.insertBefore(l,d),h.push(l)),l.appendChild(d))}};Bb(d,v)});!0===f.links&&Bb(h,function(a){var c=function(a){"A"===a.nodeName&&k(a,f);Bb(C.grep(a.childNodes),c)};c(a)});Bb(h,function(d){var l,n,m,t=function(a){var c=!1;return Bb(a.childNodes,function(a){if((b=a)&&
1===b.nodeType&&!Ha(b)&&!Sb(b)&&!B.isBogus(b))return c=a,!1;var b}),c};var u=0;Bb(d.childNodes,function(a){ca.isWhiteSpaceNode(a)||Ha(a)||u++});var v=u;!(1<h.length)&&e.isBlock(d)||0!==v?(f.inline||f.wrapper)&&(f.exact||1!==v||((n=t(l=d))&&!Ha(n)&&lb.matchName(e,n,f)&&(m=e.clone(n,!1),k(m),e.replace(m,l,!0),e.remove(n,1)),d=m||l),Us(a,g,b,d),Zs(a,f,c,b,d),Ws(e,f,b,d),Xs(e,f,b,d),Ys(e,f,b,d)):e.remove(d,1)})};if("false"!==h.getContentEditable(m.getNode())){if(f){if(d)d.nodeType?p(g,d)||((e=h.createRng()).setStartBefore(d),
e.setEndAfter(d),q(h,rd(a,e,g),0,!0)):q(h,d,0,!0);else if(l&&f.inline&&!h.select("td[data-mce-selected],th[data-mce-selected]").length)!function(a,c,b){var e,d,g,f,l=a.selection;var n=(e=l.getRng(!0)).startOffset;var h=e.startContainer.nodeValue;(d=Ic(a.getBody(),l.getStart()))&&(g=Qm(d));var m,t,u=/[^\s\u00a0\u00ad\u200b\ufeff]/;h&&0<n&&n<h.length&&u.test(h.charAt(n))&&u.test(h.charAt(n-1))?(f=l.getBookmark(),e.collapse(!0),e=rd(a,e,a.formatter.get(c)),e=Ie(e),a.formatter.apply(c,b,e),l.moveToBookmark(f)):
(d&&"\ufeff"===g.nodeValue||(m=a.getDoc(),t=Wh(!0).dom(),g=(d=m.importNode(t,!0)).firstChild,e.insertNode(d),n=1),a.formatter.apply(c,b,d),l.setCursorLocation(g,n))}(a,c,b);else{var w=a.selection.getNode();a.settings.forced_root_block||!g[0].defaultBlock||h.getParent(w,h.isBlock)||an(a,g[0].defaultBlock);a.selection.setRng(Ah(a.selection.getRng()));e=Zc.getPersistentBookmark(a.selection,!0);q(h,rd(a,m.getRng(),g));f.styles&&Vs(h,f,b,w);m.moveToBookmark(e);ca.moveStart(h,m,m.getRng());a.nodeChanged()}Ss(c,
a)}}else for(d=m.getNode(),m=0,q=g.length;m<q;m++)if(g[m].ceFalseOverride&&h.is(d,g[m].selector))return void k(d,g[m])},Ti={applyFormat:an},Ad=C.each,Vo=function(a,c,b,d,f){var e;null===c.get()&&(e={},c.set({}),a.on("NodeChange",function(b){var d=ca.getParents(a.dom,b.element),g={};d=C.grep(d,function(a){return 1===a.nodeType&&!a.getAttribute("data-mce-bogus")});Ad(c.get(),function(c,b){Ad(d,function(f){return a.formatter.matchNode(f,b,{},c.similar)?(e[b]||(Ad(c,function(a){a(!0,{node:f,format:b,
parents:d})}),e[b]=c),g[b]=c,!1):!lb.matchesUnInheritedFormatSelector(a,f,b)&&void 0})});Ad(e,function(a,c){g[c]||(delete e[c],Ad(a,function(a){a(!1,{node:b.element,format:c,parents:d})}))})}));var g=c.get();Ad(b.split(","),function(a){g[a]||(g[a]=[],g[a].similar=f);g[a].push(d)});c.set(g)},Ro={get:function(a){var c={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],
alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},
{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",
styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,
styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(c,b,d){C.each(d,function(b,e){a.setAttrib(c,e,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",
remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return C.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(a){c[a]={block:a,remove:"all"}}),c}},Mf=C.each,Na=ua.DOM,bn=function(a,c){var b,d,f,l=c&&c.schema||D({}),h=function(a){var c,b;return d="string"==typeof a?{name:a,classes:[],attrs:{}}:a,c=Na.create(d.name),
(b=d).classes.length&&Na.addClass(c,b.classes.join(" ")),Na.setAttribs(c,b.attrs),c},m=function(a,c,b){var e,d,g,f,n,t,u=0<c.length&&c[0],k=u&&u.name;if(f="string"!=typeof a?a.nodeName.toLowerCase():a,n=l.getElementRule(f),g=!(!(t=n&&n.parentsRequired)||!t.length)&&(k&&-1!==C.inArray(t,k)?k:t[0]))k===g?(d=c[0],c=c.slice(1)):d=g;else if(u)d=c[0],c=c.slice(1);else if(!b)return a;return d&&(e=h(d)).appendChild(a),b&&(e||(e=Na.create("div")).appendChild(a),C.each(b,function(c){c=h(c);e.insertBefore(c,
a)})),m(e,c,d&&d.siblings)};return a&&a.length?(d=a[0],b=h(d),(f=Na.create("div")).appendChild(m(b,a.slice(1),d.siblings)),f):""},$s=function(a){var c,b={classes:[],attrs:{}};return"*"!==(a=b.selector=C.trim(a))&&(c=a.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(a,c,e,d,f){switch(c){case "#":b.attrs.id=e;break;case ".":b.classes.push(e);break;case ":":-1!==C.inArray(["checked","disabled","enabled","read-only","required"],e)&&(b.attrs[e]=e)}"["===d&&(a=f.match(/([\w\-]+)(?:="([^"]+))?/))&&
(b.attrs[a[1]]=a[2]);return""})),b.name=c||"div",b},at=function(a){return a&&"string"==typeof a?(a=(a=a.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),C.map(a.split(/(?:>|\s+(?![^\[\]]+\]))/),function(a){a=C.map(a.split(/(?:~\+|~|\+)/),$s);var c=a.pop();return a.length&&(c.siblings=a),c}).reverse()):[]},Wo=function(a,c){var b,d,f,l,h,m,k="";if(!1===(m=a.settings.preview_styles))return"";"string"!=typeof m&&(m="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");
if("string"==typeof c){if(!(c=a.formatter.get(c)))return;c=c[0]}return"preview"in c&&!1===(m=c.preview)?"":(b=c.block||c.inline||"span",(l=at(c.selector)).length?(l[0].name||(l[0].name=b),b=c.selector,d=bn(l,a)):d=bn([b],a),f=Na.select(b,d)[0]||d.firstChild,Mf(c.styles,function(a,c){(a=a.replace(/%(\w+)/g,""))&&Na.setStyle(f,c,a)}),Mf(c.attributes,function(a,c){(a=a.replace(/%(\w+)/g,""))&&Na.setAttrib(f,c,a)}),Mf(c.classes,function(a){a=a.replace(/%(\w+)/g,"");Na.hasClass(f,a)||Na.addClass(f,a)}),
a.fire("PreviewFormats"),Na.setStyles(d,{position:"absolute",left:-65535}),a.getBody().appendChild(d),h=Na.getStyle(a.getBody(),"fontSize",!0),h=/px$/.test(h)?parseInt(h,10):0,Mf(m.split(" "),function(c){var b=Na.getStyle(f,c,!0);if(!("background-color"===c&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(b)&&(b=Na.getStyle(a.getBody(),c,!0),"#ffffff"===Na.toHex(b).toLowerCase())||"color"===c&&"#000000"===Na.toHex(b).toLowerCase())){if("font-size"===c&&/em|%$/.test(b)){if(0===h)return;b=parseFloat(b)/(/%$/.test(b)?
100:1)*h+"px"}"border"===c&&b&&(k+="padding:0 2px;");k+=c+":"+b+";"}}),a.fire("AfterPreviewFormats"),Na.remove(d),k)},Uo=function(a,c,b,d,f){c=c.get(b);!lb.match(a,b,d,f)||"toggle"in c[0]&&!c[0].toggle?Ti.applyFormat(a,b,d,f):Ui(a,b,d,f)},So=function(a){a.addShortcut("meta+b","","Bold");a.addShortcut("meta+i","","Italic");a.addShortcut("meta+u","","Underline");for(var c=1;6>=c;c++)a.addShortcut("access+"+c,"",["FormatBlock",!1,"h"+c]);a.addShortcut("access+7","",["FormatBlock",!1,"p"]);a.addShortcut("access+8",
"",["FormatBlock",!1,"div"]);a.addShortcut("access+9","",["FormatBlock",!1,"address"])},cn,bt=Object.prototype.hasOwnProperty,Hd=(cn=function(a,c){return c},function(){for(var a=Array(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];if(0===a.length)throw Error("Can't merge zero objects");c={};for(var b=0;b<a.length;b++){var d=a[b],f;for(f in d)bt.call(d,f)&&(c[f]=cn(c[f],d[f]))}return c}),Zi={register:function(a,c,b){a.addAttributeFilter("data-mce-tabindex",function(a,c){for(var b,e=a.length;e--;)(b=
a[e]).attr("tabindex",b.attributes.map["data-mce-tabindex"]),b.attr(c,null)});a.addAttributeFilter("src,href,style",function(a,e){for(var d,g,f=a.length,l="data-mce-"+e,n=c.url_converter,h=c.url_converter_scope;f--;)void 0!==(g=(d=a[f]).attributes.map[l])?(d.attr(e,0<g.length?g:null),d.attr(l,null)):(g=d.attributes.map[e],"style"===e?g=b.serializeStyle(b.parseStyle(g),d.name):n&&(g=n.call(h,g,e,d.name)),d.attr(e,0<g.length?g:null))});a.addAttributeFilter("class",function(a){for(var c,b,e=a.length;e--;)(b=
(c=a[e]).attr("class"))&&(b=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<b.length?b:null))});a.addAttributeFilter("data-mce-type",function(a,c,b){var e;for(c=a.length;c--;)"bookmark"!==(e=a[c]).attributes.map["data-mce-type"]||b.cleanup||e.remove()});a.addNodeFilter("noscript",function(a){for(var c,b=a.length;b--;)(c=a[b].firstChild)&&(c.value=Ac.decode(c.value))});a.addNodeFilter("script,style",function(a,b){for(var e,d,g,f=a.length,l=function(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,
"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,"")};f--;)d=(e=a[f]).firstChild?e.firstChild.value:"","script"===b?((g=e.attr("type"))&&e.attr("type","mce-no/type"===g?null:g.replace(/^mce\-/,"")),"xhtml"===c.element_format&&0<d.length&&
(e.firstChild.value="// <![CDATA[\n"+l(d)+"\n// ]]\x3e")):"xhtml"===c.element_format&&0<d.length&&(e.firstChild.value="\x3c!--\n"+l(d)+"\n--\x3e")});a.addNodeFilter("#comment",function(a){for(var c,b=a.length;b--;)0===(c=a[b]).value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))});a.addNodeFilter("xml:namespace,input",function(a,c){for(var b,
e=a.length;e--;)7===(b=a[e]).type?b.remove():1===b.type&&("input"!==c||"type"in b.attributes.map||b.attr("type","text"))});a.addAttributeFilter("data-mce-type",function(c){U(c,function(c){"format-caret"===c.attr("data-mce-type")&&(c.isEmpty(a.schema.getNonEmptyElements())?c.remove():c.unwrap())})});a.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(a,c){for(var b=a.length;b--;)a[b].attr(c,null)})},trimTrailingBr:function(a){var c,
b,d=function(a){return a&&"br"===a.name};d(c=a.lastChild)&&d(b=c.prev)&&(c.remove(),b.remove())}},$o={process:function(a,c,b){return q=b,(p=a)&&p.hasEventListeners("PreProcess")&&!q.no_events?(d=c,f=b,k=(e=a).dom,d=d.cloneNode(!0),(l=document.implementation).createHTMLDocument&&(h=l.createHTMLDocument(""),C.each("BODY"===d.nodeName?d.childNodes:[d],function(a){h.body.appendChild(h.importNode(a,!0))}),d="BODY"!==d.nodeName?h.body.firstChild:h.body,m=k.doc,k.doc=h),ns(e,Hd(f,{node:d})),m&&(k.doc=m),
d):c;var e,d,f,l,h,m,k,p,q}},ct=function(a,c,b){a.addNodeFilter("font",function(a){U(a,function(a){var e=c.parse(a.attr("style")),d=a.attr("color"),g=a.attr("face"),f=a.attr("size");d&&(e.color=d);g&&(e["font-family"]=g);f&&(e["font-size"]=b[parseInt(a.attr("size"),10)-1]);a.name="span";a.attr("style",c.serialize(e));U(["color","face","size"],function(c){a.attr(c,null)})})})},dt=function(a,c){var b=A();c.convert_fonts_to_spans&&ct(a,b,C.explode(c.font_size_legacy_values));a.addNodeFilter("strike",
function(a){U(a,function(a){var c=b.parse(a.attr("style"));c["text-decoration"]="line-through";a.name="span";a.attr("style",b.serialize(c))})})},Zo={register:function(a,c){c.inline_styles&&dt(a,c)}},dn=/^[ \t\r\n]*$/,et={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Nf=function(a,c,b){var e=b?"lastChild":"firstChild";b=b?"prev":"next";if(a[e])return a[e];if(a!==c){if(e=a[b])return e;for(a=a.parent;a&&a!==c;a=a.parent)if(e=a[b])return e}},ab=function(){function a(a,
b){this.name=a;1===(this.type=b)&&(this.attributes=[],this.attributes.map={})}return a.create=function(c,b){var e;if(c=new a(c,et[c]||1),b)for(e in b)c.attr(e,b[e]);return c},a.prototype.replace=function(a){return a.parent&&a.remove(),this.insert(a,this),this.remove(),this},a.prototype.attr=function(a,b){var c,e;if("string"!=typeof a){for(e in a)this.attr(e,a[e]);return this}if(c=this.attributes){if(void 0!==b){if(null===b){if(a in c.map)for(delete c.map[a],e=c.length;e--;)if(c[e].name===a)return c.splice(e,
1),this;return this}if(a in c.map)for(e=c.length;e--;){if(c[e].name===a){c[e].value=b;break}}else c.push({name:a,value:b});return c.map[a]=b,this}return c.map[a]}},a.prototype.clone=function(){var c,b,d,f,l=new a(this.name,this.type);if(b=this.attributes){(f=[]).map={};var h=0;for(c=b.length;h<c;h++)"id"!==(d=b[h]).name&&(f[f.length]={name:d.name,value:d.value},f.map[d.name]=d.value);l.attributes=f}return l.value=this.value,l.shortEnded=this.shortEnded,l},a.prototype.wrap=function(a){return this.parent.insert(a,
this),a.append(this),this},a.prototype.unwrap=function(){var a;for(a=this.firstChild;a;){var b=a.next;this.insert(a,this,!0);a=b}this.remove()},a.prototype.remove=function(){var a=this.parent,b=this.next,d=this.prev;return a&&(a.firstChild===this?(a.firstChild=b)&&(b.prev=null):d.next=b,a.lastChild===this?(a.lastChild=d)&&(d.next=null):b.prev=d,this.parent=this.next=this.prev=null),this},a.prototype.append=function(a){var c;return a.parent&&a.remove(),(c=this.lastChild)?((c.next=a).prev=c,this.lastChild=
a):this.lastChild=this.firstChild=a,a.parent=this,a},a.prototype.insert=function(a,b,d){var c;return a.parent&&a.remove(),c=b.parent||this,d?(b===c.firstChild?c.firstChild=a:b.prev.next=a,a.prev=b.prev,(a.next=b).prev=a):(b===c.lastChild?c.lastChild=a:b.next.prev=a,a.next=b.next,(a.prev=b).next=a),a.parent=c,a},a.prototype.getAll=function(a){var c,b=[];for(c=this.firstChild;c;c=Nf(c,this))c.name===a&&b.push(c);return b},a.prototype.empty=function(){var a,b;if(this.firstChild){var d=[];for(b=this.firstChild;b;b=
Nf(b,this))d.push(b);for(a=d.length;a--;)(b=d[a]).parent=b.firstChild=b.lastChild=b.next=b.prev=null}return this.firstChild=this.lastChild=null,this},a.prototype.isEmpty=function(a,b,d){var c,e,g=this.firstChild;if(b=b||{},g){do{if(1===g.type){if(g.attributes.map["data-mce-bogus"])continue;if(a[g.name])return!1;for(c=g.attributes.length;c--;)if("name"===(e=g.attributes[c].name)||0===e.indexOf("data-mce-bookmark"))return!1}if(8===g.type||3===g.type&&!dn.test(g.value)||3===g.type&&g.parent&&b[g.parent.name]&&
dn.test(g.value)||d&&d(g))return!1}while(g=Nf(g,this))}return!0},a.prototype.walk=function(a){return Nf(this,null,a)},a}(),Yi=function(a,c,b,d){(a.padd_empty_with_br||c.insert)&&b[d.name]?d.empty().append(new ab("br",1)).shortEnded=!0:d.empty().append(new ab("#text",3)).value="\u00a0"},Gd=function(a,c,b,d){return d.isEmpty(c,b,function(c){return b=c,(e=a.getElementRule(b.name))&&e.paddEmpty;var b,e})},Yo=function(a,c){var b=a.schema;c.remove_trailing_brs&&a.addNodeFilter("br",function(a,e,d){var g,
f,l,h,n,m,k=a.length,t=C.extend({},b.getBlockElements()),p=b.getNonEmptyElements(),q=b.getNonEmptyElements();t.body=1;for(e=0;e<k;e++)if(f=(g=a[e]).parent,t[g.parent.name]&&g===f.lastChild){for(l=g.prev;l;){if("span"!==(h=l.name)||"bookmark"!==l.attr("data-mce-type")){if("br"!==h)break;if("br"===h){g=null;break}}l=l.prev}g&&(g.remove(),Gd(b,p,q,f)&&(n=b.getElementRule(f.name))&&(n.removeEmpty?f.remove():n.paddEmpty&&Yi(c,d,t,f)))}else{for(l=g;f&&f.firstChild===l&&f.lastChild===l&&!t[(l=f).name];)f=
f.parent;l===f&&!0!==c.padd_empty_with_br&&((m=new ab("#text",3)).value="\u00a0",g.replace(m))}});a.addAttributeFilter("href",function(a){var b,e,d,g=a.length;if(!c.allow_unsafe_link_target)for(;g--;)"a"===(b=a[g]).name&&"_blank"===b.attr("target")&&b.attr("rel",(e=b.attr("rel"),d=e?C.trim(e):"",/\b(noopener)\b/g.test(d)?d:d.split(" ").filter(function(a){return 0<a.length}).concat(["noopener"]).sort().join(" ")))});c.allow_html_in_named_anchor||a.addAttributeFilter("id,name",function(a){for(var c,
b,e,d,g=a.length;g--;)if("a"===(d=a[g]).name&&d.firstChild&&!d.attr("href"))for(e=d.parent,c=d.lastChild;b=c.prev,e.insert(c,d),c=b;);});c.fix_list_elements&&a.addNodeFilter("ul,ol",function(a){for(var c,b,e=a.length;e--;)if("ul"===(b=(c=a[e]).parent).name||"ol"===b.name)if(c.prev&&"li"===c.prev.name)c.prev.append(c);else{var d=new ab("li",1);d.attr("style","list-style-type: none");c.wrap(d)}});c.validate&&b.getValidClasses()&&a.addAttributeFilter("class",function(a){for(var c,e,d,g,f,l,h,m=a.length,
k=b.getValidClasses();m--;){e=(c=a[m]).attr("class").split(" ");f="";for(d=0;d<e.length;d++)g=e[d],h=!1,(l=k["*"])&&l[g]&&(h=!0),l=k[c.name],!h&&l&&l[g]&&(h=!0),h&&(f&&(f+=" "),f+=g);f.length||(f=null);c.attr("class",f)}})},Xi=C.makeMap,Vi=C.each,Wi=C.explode,Xo=C.extend,ap=function(a,c,b){-1===C.inArray(c,b)&&(a.addAttributeFilter(b,function(a,c){for(var b=a.length;b--;)a[b].attr(c,null)}),c.push(b))};(V||(V={})).isBookmarkNode=Ha;var en=V,fn=B.isContentEditableFalse,ft=B.isContentEditableTrue,gn=
function(a,c){var b,d,f,l,h,m,k,p,q,w,A,x,D,r,T,P,F=c.dom,y=C.each,M=c.getDoc(),z=document,Z=Math.abs,fa=Math.round,B=c.getBody();var R={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};c.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected],.mce-content-body hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+
(S.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}.mce-content-body .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var K=function(a){return a&&("IMG"===a.nodeName||c.dom.is(a,"figure.image"))},E=function(a){var b=a.target;var e=c.selection.getRng();
!K(a.target)||Gm(a.clientX,a.clientY,e)||a.isDefaultPrevented()||(a.preventDefault(),c.selection.select(b))},O=function(a){return c.dom.is(a,"figure.image")?a.querySelector("img"):a},ia=function(a){var b=c.settings.object_resizing;return!1!==b&&!S.iOS&&("string"!=typeof b&&(b="table,img,figure.image,div"),"false"!==a.getAttribute("data-mce-resize")&&a!==c.getBody()&&Qd(H.fromDom(a),b))},ra=function(a){var e=a.screenX-h;var g=a.screenY-m;D=e*l[2]+q;r=g*l[3]+w;D=5>D?5:D;r=5>r?5:r;(K(b)&&!1!==c.settings.resize_img_proportional?
!ha.modifierPressed(a):ha.modifierPressed(a)||K(b)&&0!=l[2]*l[3])&&(Z(e)>Z(g)?(r=fa(D*A),D=fa(r/A)):(D=fa(r/A),r=fa(D*A)));F.setStyles(O(d),{width:D,height:r});var n=0<(n=l.startPos.x+e)?n:0;var t=0<(t=l.startPos.y+g)?t:0;F.setStyles(f,{left:n,top:t,display:"block"});f.innerHTML=D+" &times; "+r;0>l[2]&&d.clientWidth<=D&&F.setStyle(d,"left",k+(q-D));0>l[3]&&d.clientHeight<=r&&F.setStyle(d,"top",p+(w-r));0!=(e=B.scrollWidth-T)+(g=B.scrollHeight-P)&&F.setStyles(f,{left:n-e,top:t-g});x||(c.fire("ObjectResizeStart",
{target:b,width:q,height:w}),x=!0)},ea=function(){x=!1;var a=function(a,e){e&&(b.style[a]||!c.schema.isValid(b.nodeName.toLowerCase(),a)?F.setStyle(O(b),a,e):F.setAttrib(O(b),a,e))};a("width",D);a("height",r);F.unbind(M,"mousemove",ra);F.unbind(M,"mouseup",ea);z!==M&&(F.unbind(z,"mousemove",ra),F.unbind(z,"mouseup",ea));F.remove(d);F.remove(f);I(b);c.fire("ObjectResized",{target:b,width:D,height:r});F.setAttrib(b,"style",F.getAttrib(b,"style"));c.nodeChanged()},I=function(a){da();Y();var e=F.getPos(a,
B);k=e.x;p=e.y;e=a.getBoundingClientRect();var g=e.width||e.right-e.left;var n=e.height||e.bottom-e.top;b!==a&&(b=a,D=r=0);e=c.fire("ObjectSelected",{target:a});ia(a)&&!e.isDefaultPrevented()?y(R,function(a,c){var e;(e=F.get("mceResizeHandle"+c))&&F.remove(e);e=F.add(B,"div",{id:"mceResizeHandle"+c,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+c+"-resize; margin:0; padding:0"});11===S.ie&&(e.contentEditable=!1);F.bind(e,"mousedown",function(c){c.stopImmediatePropagation();
c.preventDefault();h=c.screenX;m=c.screenY;q=O(b).clientWidth;w=O(b).clientHeight;A=w/q;(l=a).startPos={x:g*a[0]+k,y:n*a[1]+p};T=B.scrollWidth;P=B.scrollHeight;d=b.cloneNode(!0);F.addClass(d,"mce-clonedresizable");F.setAttrib(d,"data-mce-bogus","all");d.contentEditable=!1;d.unSelectabe=!0;F.setStyles(d,{left:k,top:p,margin:0});d.removeAttribute("data-mce-selected");B.appendChild(d);F.bind(M,"mousemove",ra);F.bind(M,"mouseup",ea);z!==M&&(F.bind(z,"mousemove",ra),F.bind(z,"mouseup",ea));f=F.add(B,"div",
{"class":"mce-resize-helper","data-mce-bogus":"all"},q+" &times; "+w)});a.elm=e;F.setStyles(e,{left:g*a[0]+k-e.offsetWidth/2,top:n*a[1]+p-e.offsetHeight/2})}):da();b.setAttribute("data-mce-selected","1")},da=function(){var a,c;for(a in Y(),b&&b.removeAttribute("data-mce-selected"),R)(c=F.get("mceResizeHandle"+a))&&(F.unbind(c),F.remove(c))},va=function(b){var e,d=function(a,c){if(a){do if(a===c)return!0;while(a=a.parentNode)}};x||c.removed||(y(F.select("img[data-mce-selected],hr[data-mce-selected]"),
function(a){a.removeAttribute("data-mce-selected")}),e="mousedown"===b.type?b.target:a.getNode(),d(e=F.$(e).closest("table,img,figure.image,hr")[0],B)&&(Da(),d(a.getStart(!0),e)&&d(a.getEnd(!0),e))?I(e):da())},J=function(a){var b;a:{for(b=c.getBody();a&&a!==b;){if(ft(a)||fn(a)){b=a;break a}a=a.parentNode}b=null}return fn(b)},Y=function(){for(var a in R){var c=R[a];c.elm&&(F.unbind(c.elm),delete c.elm)}},Da=function(){try{c.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(fu){}};return c.on("init",
function(){Da();S.ie&&11<=S.ie&&(c.on("mousedown click",function(a){var b=a.target,e=b.nodeName;x||!/^(TABLE|IMG|HR)$/.test(e)||J(b)||(2!==a.button&&c.selection.select(b,"TABLE"===e),"mousedown"===a.type&&c.nodeChanged())}),c.dom.bind(B,"mscontrolselect",function(a){var b=function(a){Za.setEditorTimeout(c,function(){c.selection.select(a)})};if(J(a.target))return a.preventDefault(),void b(a.target);/^(TABLE|IMG|HR)$/.test(a.target.nodeName)&&(a.preventDefault(),"IMG"===a.target.tagName&&b(a.target))}));
var a=Za.throttle(function(a){c.composing||va(a)});c.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",a);c.on("keyup compositionend",function(c){b&&"TABLE"===b.nodeName&&a(c)});c.on("hide blur",da);c.on("contextmenu",E)}),c.on("remove",Y),{isResizable:ia,showResizeRect:I,hideResizeRect:da,updateResizeRect:va,destroy:function(){b=d=null}}},gt=function(a){return B.isContentEditableTrue(a)||B.isContentEditableFalse(a)},Ag=function(a,c,b){var e,d,f,l,h;if(b.caretPositionFromPoint)(d=
b.caretPositionFromPoint(a,c))&&((e=b.createRange()).setStart(d.offsetNode,d.offset),e.collapse(!0));else if(b.caretRangeFromPoint)e=b.caretRangeFromPoint(a,c);else if(b.body.createTextRange){e=b.body.createTextRange();try{e.moveToPoint(a,c),e.collapse(!0)}catch(G){e=function(a,c,b){var e,d;if(e=b.elementFromPoint(a,c),d=b.body.createTextRange(),e&&"HTML"!==e.tagName||(e=b.body),d.moveToElementText(e),0<(b=(b=C.toArray(d.getClientRects())).sort(function(a,b){return Math.abs(Math.max(a.top-c,a.bottom-
c))-Math.abs(Math.max(b.top-c,b.bottom-c))})).length){c=(b[0].bottom+b[0].top)/2;try{return d.moveToPoint(a,c),d.collapse(!0),d}catch(Zb){}}return null}(a,c,b)}return f=e,l=b.body,h=f&&f.parentElement?f.parentElement():null,B.isContentEditableFalse(function(a,c,b){for(;a&&a!==c;){if(b(a))return a;a=a.parentNode}return null}(h,l,gt))?null:f}return e},bi=function(a,c){return Ja(c,function(c){var b=a.fire("GetSelectionRange",{range:c});return b.range!==c?b.range:c})},ci=function(a,c){var b=(c||document).createDocumentFragment();
return U(a,function(a){b.appendChild(a.dom())}),H.fromDom(b)},di=Hb("element","width","rows"),hn=Hb("element","cells"),ht=Hb("x","y"),jn=function(a,c){a=parseInt(we(a,c),10);return isNaN(a)?1:a},kn=function(a){return Yb(a,function(a,b){return b.cells().length>a?b.cells().length:a},0)},ln=function(a,c){a=a.rows();for(var b=0;b<a.length;b++)for(var d=a[b].cells(),f=0;f<d.length;f++)if(za(d[f],c))return m.some(ht(f,b));return m.none()},mn=function(a,c,b,d,f){var e=[];for(a=a.rows();b<=f;b++){var g=a[b].cells();
g=c<d?g.slice(c,d+1):g.slice(d,c+1);e.push(hn(a[b].element(),g))}return e},it=function(a){var c=di(gd(a),0,[]);return U($a(a,"tr"),function(a,b){U($a(a,"td,th"),function(e,d){!function(a,c,b,e,d){var g=jn(d,"rowspan"),f=jn(d,"colspan");a=a.rows();for(var l=b;l<b+g;l++){a[l]||(a[l]=hn(H.fromDom(e.dom().cloneNode(!0)),[]));for(var h=c;h<c+f;h++)a[l].cells()[h]=l===b&&h===c?d:gd(d)}}(c,function(a,c,b){for(;e=c,d=b,g=void 0,((g=a.rows())[d]?g[d].cells():[])[e];)c++;var e,d,g;return c}(c,d,b),b,a,e)})}),
di(c.element(),kn(c.rows()),c.rows())},jt=function(a){return b=Ja((c=a).rows(),function(a){var c=Ja(a.cells(),function(a){a=H.fromDom(a.dom().cloneNode(!0));return Pd(a,"colspan"),Pd(a,"rowspan"),a});a=gd(a.element());return Wg(a,c),a}),d=gd(c.element()),f=H.fromTag("tbody"),Wg(f,b),ob(d,f),d;var c,b,d,f},kt=function(a,c,b){return ln(a,c).bind(function(c){return ln(a,b).map(function(b){return e=a,g=b,f=(d=c).x(),l=d.y(),h=g.x(),m=g.y(),n=l<m?mn(e,f,l,h,m):mn(e,f,m,h,l),di(e.element(),kn(n),n);var e,
d,g,f,l,h,m,n})})},lt=function(a,c){return xa(a,function(a){return"li"===Ua(a)&&Bs(a,c)}).fold(F([]),function(c){return(b=a,xa(b,function(a){return"ul"===Ua(a)||"ol"===Ua(a)})).map(function(a){return[H.fromTag("li"),H.fromTag(Ua(a))]}).getOr([]);var b})},mt=function(a,c){var b=H.fromDom(c.commonAncestorContainer),d=sd(b,a);a=Ka(d,function(a){return Fj(a)||Np(a)});c=lt(d,c);c=a.concat(c.length?c:Ze(b)?Ec(b).filter(Hj).fold(F([]),function(a){return[b,a]}):Hj(b)?[b]:[]);return Ja(c,gd)},nn=function(){return ci([])},
nt=function(a,c){return b=H.fromDom(c.cloneContents()),d=mt(a,c),f=Yb(d,function(a,c){return ob(c,a),c},b),0<d.length?ci([f]):f;var b,d,f},ot=function(a,c){return(b=a,d=c[0],hf(d,"table",K(za,b))).bind(function(a){var b=c[0],e=c[c.length-1];a=it(a);return kt(a,b,e).map(function(a){return ci([jt(a)])})}).getOrThunk(nn);var b,d},on=function(a,c,b,d,f){var e=b?c.startOffset:c.endOffset;return m.from(b?c.startContainer:c.endContainer).map(H.fromDom).map(function(a){return d&&c.collapsed?a:Rd(a,f(a,e)).getOr(a)}).bind(function(a){return Cc(a)?
m.some(a):Ec(a)}).map(function(a){return a.dom()}).getOr(a)},pn=function(a,c,b){return on(a,c,!0,b,function(a,c){return Math.min(a.dom().childNodes.length,c)})},qn=function(a,c,b){return on(a,c,!1,b,function(a,c){return 0<c?c-1:c})},rn=function(a,c){for(var b=a;a&&B.isText(a)&&0===a.length;)a=c?a.nextSibling:a.previousSibling;return a||b},fe=C.each,sn=function(a){return!(!a||!a.ownerDocument)&&Dc(H.fromDom(a.ownerDocument),H.fromDom(a))},tn=function(a,c,b,d){var e,g,f,l,h,k=function(a,c){var b,e,
g=d.selection.getRng(),f=d.getDoc();if((c=c||{format:"html"}).set=!0,c.selection=!0,c.content=a,c.no_events||!(c=d.fire("BeforeSetContent",c)).isDefaultPrevented()){if(a=c.content,g.insertNode){a+='<span id="__caret">_</span>';g.startContainer===f&&g.endContainer===f?f.body.innerHTML=a:(g.deleteContents(),0===f.body.childNodes.length?f.body.innerHTML=a:g.createContextualFragment?g.insertNode(g.createContextualFragment(a)):(b=f.createDocumentFragment(),e=f.createElement("div"),b.appendChild(e),e.outerHTML=
a,g.insertNode(b)));b=d.dom.get("__caret");(g=f.createRange()).setStartBefore(b);g.setEndBefore(b);d.selection.setRng(g);d.dom.remove("__caret");try{d.selection.setRng(g)}catch(wo){}}else g.item&&(f.execCommand("Delete",!1,null),g=d.getRng()),/^\s+/.test(a)?(g.pasteHTML('<span id="__mce_tmp">_</span>'+a),d.dom.remove("__mce_tmp")):g.pasteHTML(a);c.no_events||d.fire("SetContent",c)}else d.fire("SetContent",c)},p=function(a){var c=A();c.collapse(!!a);x(c)},w=function(){return c.getSelection?c.getSelection():
c.document.selection},A=function(){var b,e,g,h,m=function(a,c,b){try{return c.compareBoundaryPoints(a,b)}catch(eu){return-1}};if(!c||null==(h=c.document))return null;if(void 0!==d.bookmark&&!1===xd(d)){var n=Kh(d);if(n.isSome())return n.map(function(a){return bi(d,[a])[0]}).getOr(h.createRange())}try{(b=w())&&(e=0<b.rangeCount?b.getRangeAt(0):b.createRange?b.createRange():h.createRange())}catch(wo){}return(e=bi(d,[e])[0])||(e=h.createRange?h.createRange():h.body.createTextRange()),e.setStart&&9===
e.startContainer.nodeType&&e.collapsed&&(g=a.getRoot(),e.setStart(g,0),e.setEnd(g,0)),f&&l&&(0===m(e.START_TO_START,e,f)&&0===m(e.END_TO_END,e,f)?e=l:l=f=null),e},x=function(a,c){var b,e;if((g=a)&&(g.select||sn(g.startContainer)&&sn(g.endContainer))){var g;if(g=a.select?a:null){l=null;try{g.select()}catch(vo){}}else{if(b=w(),a=d.fire("SetSelectionRange",{range:a,forward:c}).range,b){l=a;try{b.removeAllRanges(),b.addRange(a)}catch(vo){}!1===c&&b.extend&&(b.collapse(a.endContainer,a.endOffset),b.extend(a.startContainer,
a.startOffset));f=0<b.rangeCount?b.getRangeAt(0):null}a.collapsed||a.startContainer!==a.endContainer||!b.setBaseAndExtent||S.ie||2>a.endOffset-a.startOffset&&a.startContainer.hasChildNodes()&&(e=a.startContainer.childNodes[a.startOffset])&&"IMG"===e.tagName&&(b.setBaseAndExtent(a.startContainer,a.startOffset,a.endContainer,a.endOffset),b.anchorNode===a.startContainer&&b.focusNode===a.endContainer||b.setBaseAndExtent(e,0,e,1));d.fire("AfterSetSelectionRange",{range:a,forward:c})}}},D=function(){var c,
b,e=w();return!(e&&e.anchorNode&&e.focusNode)||((c=a.createRng()).setStart(e.anchorNode,e.anchorOffset),c.collapse(!0),(b=a.createRng()).setStart(e.focusNode,e.focusOffset),b.collapse(!0),0>=c.compareBoundaryPoints(c.START_TO_START,b))},r={bookmarkManager:null,controlSelection:null,dom:a,win:c,serializer:b,editor:d,collapse:p,setCursorLocation:function(c,b){var e=a.createRng();c?(e.setStart(c,b),e.setEnd(c,b),x(e),p(!1)):(Ph(a,e,d.getBody(),!0),x(e))},getContent:function(a){var c,b=d.selection.getRng(),
e=d.dom.create("body"),g=d.selection.getSel(),f=bi(d,Hh(g));((a=a||{}).get=!0,a.format=a.format||"html",a.selection=!0,(a=d.fire("BeforeGetContent",a)).isDefaultPrevented())?a=(d.fire("GetContent",a),a.content):"text"===a.format?a=d.selection.isCollapsed()?"":cc(b.text||(g.toString?g.toString():"")):(b.cloneContents?(a.contextual?(b=H.fromDom(d.getBody()),g=Zl(f,b),f=(0<g.length?ot(b,g):0<f.length&&f[0].collapsed?nn():nt(b,f[0])).dom()):f=b.cloneContents(),(c=f)&&e.appendChild(c)):void 0!==b.item||
void 0!==b.htmlText?(e.innerHTML="<br>"+(b.item?b.item(0).outerHTML:b.htmlText),e.removeChild(e.firstChild)):e.innerHTML=b.toString(),a.getInner=!0,c=d.selection.serializer.serialize(e,a),a="tree"===a.format?c:(a.content=d.selection.isCollapsed()?"":c,d.fire("GetContent",a),a.content));return a},setContent:k,getBookmark:function(a,c){return e.getBookmark(a,c)},moveToBookmark:function(a){return e.moveToBookmark(a)},select:function(c,b){return m.from(c).map(function(c){var e=a.nodeIndex(c),d=a.createRng();
return d.setStart(c.parentNode,e),d.setEnd(c.parentNode,e+1),b&&(Ph(a,d,c,!0),Ph(a,d,c,!1)),d}).each(x),c},isCollapsed:function(){var a=A(),c=w();return!(!a||a.item)&&(a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!c||a.collapsed)},isForward:D,setNode:function(c){return k(a.getOuterHTML(c)),c},getNode:function(){return a=d.getBody(),(c=A())?(e=c.startContainer,g=c.endContainer,f=c.startOffset,l=c.endOffset,b=c.commonAncestorContainer,!c.collapsed&&(e===g&&2>l-f&&e.hasChildNodes()&&(b=
e.childNodes[f]),3===e.nodeType&&3===g.nodeType&&(e=e.length===f?rn(e.nextSibling,!0):e.parentNode,g=0===l?rn(g.previousSibling,!1):g.parentNode,e&&e===g))?e:b&&3===b.nodeType?b.parentNode:b):a;var a,c,b,e,g,f,l},getSel:w,setRng:x,getRng:A,getStart:function(a){return pn(d.getBody(),A(),a)},getEnd:function(a){return qn(d.getBody(),A(),a)},getSelectedBlocks:function(c,b){var e=A(),d,g=[];if(d=a.getRoot(),c=a.getParent(c||pn(d,e,e.collapsed),a.isBlock),b=a.getParent(b||qn(d,e,e.collapsed),a.isBlock),
c&&c!==d&&g.push(c),c&&b&&c!==b)for(var f=new q(e=c,d);(e=f.next())&&e!==b;)a.isBlock(e)&&g.push(e);return b&&c!==b&&b!==d&&g.push(b),g},normalize:function(){var c=A(),b=w();return 1<Hh(b).length||!vg(d)?c:(b=Je(a,c),b.each(function(a){x(a,D())}),b.getOr(c))},selectorChanged:function(c,b){var e;return h||(h={},e={},d.on("NodeChange",function(c){var b=c.element,d=a.getParents(b,null,a.getRoot()),g={};fe(h,function(c,b){fe(d,function(f){if(a.is(f,b))return e[b]||(fe(c,function(a){a(!0,{node:f,selector:b,
parents:d})}),e[b]=c),g[b]=c,!1})});fe(e,function(a,c){g[c]||(delete e[c],fe(a,function(a){a(!1,{node:b,selector:c,parents:d})}))})})),h[c]||(h[c]=[]),h[c].push(b),r},getScrollContainer:function(){for(var c,b=a.getRoot();b&&"BODY"!==b.nodeName;){if(b.scrollHeight>b.clientHeight){c=b;break}b=b.parentNode}return c},scrollIntoView:function(a,c){a:{var b,e,g,f,l=d.dom,h=l.getRoot(),m=0;if(f={elm:a,alignToTop:c},d.fire("scrollIntoView",f),!f.isDefaultPrevented()&&B.isElement(a)){if(!1===c&&(m=a.offsetHeight),
"BODY"!==h.nodeName)if(c=d.selection.getScrollContainer()){a=(b=Ek(a).y-Ek(c).y+m,g=c.clientHeight,void((b<(e=c.scrollTop)||e+g<b+25)&&(c.scrollTop=b<e?b:b-g+25)));break a}c=l.getViewPort(d.getWin());b=l.getPos(a).y+m;e=c.y;g=c.h;(b<c.y||e+g<b+25)&&d.getWin().scrollTo(0,b<e?b:b-g+25)}a=void 0}return a},placeCaretAt:function(a,c){return x(Ag(a,c,d.getDoc()))},getBoundingClientRect:function(){var a=A();return a.collapsed?I.fromRangeStart(a).getClientRects()[0]:a.getBoundingClientRect()},destroy:function(){c=
f=l=null;g.destroy()}};return e=en(r),g=gn(r,d),r.bookmarkManager=e,r.controlSelection=g,r},un=B.isContentEditableFalse,Of=function(a,c){for(;(c=a(c))&&!c.isVisible(););return c},vn=function(a,c,b){var e,d,f=Jb(a.getBody()),l=Ga.curry(Of,f.next);f=Ga.curry(Of,f.prev);b.collapsed&&a.settings.forced_root_block&&(e=a.dom.getParent(b.startContainer,"PRE"))&&((1===c?l(I.fromRangeStart(b)):f(I.fromRangeStart(b)))||(d=a.dom.create(a.settings.forced_root_block),(!S.ie||11<=S.ie)&&(d.innerHTML='<br data-mce-bogus="1">'),
1===c?a.$(e).after(d):a.$(e).before(d),a.selection.select(d,!0),a.selection.collapse()))},wn=function(a,c){return function(){var b;var d=Jb(a.getBody());var f=Ga.curry(Of,d.next);var l=Ga.curry(Of,d.prev);d=c?fb.Forwards:fb.Backwards;f=c?f:l;l=a.selection.getRng();var h,m,k,p,q,w,A=d===fb.Forwards,x=A?Yd:Zd;d=(b=!l.collapsed&&(h=nf(l),un(h))?pc(d,a,h,d===fb.Backwards,!0):(p=nc(l.startContainer),x(m=Tk(d,a.getBody(),l))?nh(a,m.getNode(!A)):(m=f(m))?x(m)?pc(d,a,m.getNode(!A),A,!0):x(k=f(m))&&(!(w=rc(q=
m,k))&&B.isBr(q.getNode())||w)?pc(d,a,k.getNode(!A),A,!0):p?oh(a,m.toRange(),!0):null:p?l:null))?b:vn(a,d,l)||null;return!!d&&(a.selection.setRng(d),!0)}},xn=function(a,c){return function(){var b;var d=c?1:-1;var f=c?Is:Hs;var l=a.selection.getRng();var h;a:{var m,k,p,q,w,A,x;if(x=nf(l),m=Tk(d,a.getBody(),l),k=f(a.getBody(),Em(1),m),f=W.filter(k,Rh(1)),q=W.last(m.getClientRects()),(Yd(m)||Hq(m))&&(x=m.getNode()),(Zd(m)||Iq(m))&&(x=m.getNode(!0)),q)if(h=q.left,(p=Hf(f,h))&&un(p.node))h=(w=Math.abs(h-
p.left),A=Math.abs(h-p.right),pc(d,a,p.node,w<A,!0));else{if(x){A=a.getBody();p=Em(1);w=x;var r,D,T,F,P;m=Jb(A);x=[];A=0;1===d?(r=m.next,D=ld,T=kd,F=I.after(w)):(r=m.prev,D=kd,T=ld,F=I.before(w));w=W.last(F.getClientRects());do if(F.isVisible()&&!T(P=W.last(F.getClientRects()),w)){if(0<x.length&&D(P,W.last(x))&&A++,(P=Gc(P)).position=F,P.line=A,p(P))break;x.push(P)}while(F=r(F));if((p=Hf(W.filter(x,Rh(1)),h))||(p=W.last(W.filter(x,Rh(0))))){h=oh(a,p.position.toRange(),!0);break a}}h=void 0}else h=
null}d=(b=h)?b:vn(a,d,l)||null;return!!d&&(a.selection.setRng(d),!0)}},pt=function(a,c){return wa(Ja(a,function(a){return Hd({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:T},a)}),function(a){return b=a,(e=c).keyCode===b.keyCode&&e.shiftKey===b.shiftKey&&e.altKey===b.altKey&&e.ctrlKey===b.ctrlKey&&e.metaKey===b.metaKey?[a]:[];var b,e})},Wa=function(a){for(var c=1;c<arguments.length;c++);var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}},Pf=function(a,
c){return xa(pt(a,c),function(a){return a.action()})},qt=function(a,c){a.on("keydown",function(b){var e;!1===b.isDefaultPrevented()&&(e=kc.detect().os,Pf([{keyCode:ha.RIGHT,action:wn(a,!0)},{keyCode:ha.LEFT,action:wn(a,!1)},{keyCode:ha.UP,action:xn(a,!1)},{keyCode:ha.DOWN,action:xn(a,!0)},{keyCode:ha.RIGHT,action:Ik(a,!0)},{keyCode:ha.LEFT,action:Ik(a,!1)},{keyCode:ha.UP,action:Jk(a,!1)},{keyCode:ha.DOWN,action:Jk(a,!0)},{keyCode:ha.RIGHT,action:wd.move(a,c,!0)},{keyCode:ha.LEFT,action:wd.move(a,
c,!1)},{keyCode:ha.RIGHT,ctrlKey:!e.isOSX(),altKey:e.isOSX(),action:wd.moveNextWord(a,c)},{keyCode:ha.LEFT,ctrlKey:!e.isOSX(),altKey:e.isOSX(),action:wd.movePrevWord(a,c)}],b).each(function(a){b.preventDefault()}))})},rt=function(a){return 1===lc(a).length},st=function(a,c,b,d){var e,g,f,l=K(Rs,c);d=Ja(Ka(d,l),function(a){return a.dom()});0===d.length?ud(c,a,b):(a=(e=b.dom(),g=Wh(!1),f=Sm(d,g.dom()),mc(H.fromDom(e),g),cb(H.fromDom(e)),I(f,0)),c.selection.setRng(a.toRange()))},tt=function(a,c){var b,
d=H.fromDom(a.getBody()),f=H.fromDom(a.selection.getStart()),l=Ka((b=sd(f,d),Tc(b,Sd).fold(F(b),function(a){return b.slice(0,a)})),rt);return Pa(l).map(function(b){var e=I.fromRangeStart(a.selection.getRng());return!(!hr(c,e,b.dom())||Sb(b.dom())&&Pm(b.dom())||(st(c,a,b,l),0))}).getOr(!1)},yn=function(a,c){return!!a.selection.isCollapsed()&&tt(a,c)},ut=function(a,c){a.on("keydown",function(b){!1===b.isDefaultPrevented()&&Pf([{keyCode:ha.BACKSPACE,action:Wa(ze,a,!1)},{keyCode:ha.DELETE,action:Wa(ze,
a,!0)},{keyCode:ha.BACKSPACE,action:Wa(Ae,a,c,!1)},{keyCode:ha.DELETE,action:Wa(Ae,a,c,!0)},{keyCode:ha.BACKSPACE,action:Wa(Ce,a,!1)},{keyCode:ha.DELETE,action:Wa(Ce,a,!0)},{keyCode:ha.BACKSPACE,action:Wa(De,a,!1)},{keyCode:ha.DELETE,action:Wa(De,a,!0)},{keyCode:ha.BACKSPACE,action:Wa(Be,a,!1)},{keyCode:ha.DELETE,action:Wa(Be,a,!0)},{keyCode:ha.BACKSPACE,action:Wa(yn,a,!1)},{keyCode:ha.DELETE,action:Wa(yn,a,!0)}],b).each(function(a){b.preventDefault()})});a.on("keyup",function(c){!1===c.isDefaultPrevented()&&
Pf([{keyCode:ha.BACKSPACE,action:Wa(El,a)},{keyCode:ha.DELETE,action:Wa(El,a)}],c)})},ei=function(a){return m.from(a.dom.getParent(a.selection.getStart(!0),a.dom.isBlock))},ge=function(a,c){var b,d,f,l=c,h=a.dom,m=a.schema.getMoveCaretBeforeOnEnterElements();if(c){if(/^(LI|DT|DD)$/.test(c.nodeName)){a:{for(b=c.firstChild;b;){if(1===b.nodeType||3===b.nodeType&&b.data&&/[\r\n\s]/.test(b.data))break a;b=b.nextSibling}b=void 0}b&&/^(UL|OL|DL)$/.test(b.nodeName)&&c.insertBefore(h.doc.createTextNode("\u00a0"),
c.firstChild)}if(f=h.createRng(),c.normalize(),c.hasChildNodes()){for(b=new q(c,c);d=b.current();){if(B.isText(d)){f.setStart(d,0);f.setEnd(d,0);break}if(m[d.nodeName.toLowerCase()]){f.setStartBefore(d);f.setEndBefore(d);break}l=d;b.next()}d||(f.setStart(l,0),f.setEnd(l,0))}else B.isBr(c)?c.nextSibling&&h.isBlock(c.nextSibling)?(f.setStartBefore(c),f.setEndBefore(c)):(f.setStartAfter(c),f.setEndAfter(c)):(f.setStart(c,0),f.setEnd(c,0));a.selection.setRng(f);h.remove(void 0);a.selection.scrollIntoView(c)}},
vt=function(a){return ei(a).fold(F(""),function(a){return a.nodeName.toUpperCase()})},wt=function(a){return ei(a).filter(function(a){return Ze(H.fromDom(a))}).isSome()},zn=function(a){return a&&/^(OL|UL|LI)$/.test(a.nodeName)},Qf=function(a){var c=a.parentNode;return/^(LI|DT|DD)$/.test(c.nodeName)?c:a},Rf=function(a,c,b){for(a=a[b?"firstChild":"lastChild"];a&&!B.isElement(a);)a=a[b?"nextSibling":"previousSibling"];return a===c},xt=function(a,c,b,d,f){var e=a.dom,g=a.selection.getRng();if(b!==a.getBody()){var l;
zn(l=b)&&zn(l.parentNode)&&(f="LI");c=f?c(f):e.create("BR");Rf(b,d,!0)&&Rf(b,d,!1)?b&&b.parentNode&&"LI"===b.parentNode.nodeName?e.insertAfter(c,Qf(b)):e.replace(c,b):Rf(b,d,!0)?b&&b.parentNode&&"LI"===b.parentNode.nodeName?(e.insertAfter(c,Qf(b)),c.appendChild(e.doc.createTextNode(" ")),c.appendChild(b)):b.parentNode.insertBefore(c,b):Rf(b,d,!1)?e.insertAfter(c,Qf(b)):(b=Qf(b),g=g.cloneRange(),g.setStartAfter(d),g.setEndAfter(b),g=g.extractContents(),"LI"===f&&g.firstChild&&"LI"===g.firstChild.nodeName?
(c=g.firstChild,e.insertAfter(g,b)):(e.insertAfter(g,b),e.insertAfter(c,b)));e.remove(d);ge(a,c)}},fi=function(a){a.innerHTML='<br data-mce-bogus="1">'},gi=function(a,c){return a.nodeName===c||a.previousSibling&&a.previousSibling.nodeName===c},An=function(a,c){return c&&a.isBlock(c)&&!/^(TD|TH|CAPTION|FORM)$/.test(c.nodeName)&&!/^(fixed|absolute)/i.test(c.style.position)&&"true"!==a.getContentEditable(c)},hi=function(a,c,b){return!1===B.isText(c)?b:a?1===b&&"\ufeff"===c.data.charAt(b-1)?0:b:b===c.data.length-
1&&"\ufeff"===c.data.charAt(b)?c.data.length:b},Bn=function(a,c){for(var b,d=a.getRoot();c!==d&&"false"!==a.getContentEditable(c);)"true"===a.getContentEditable(c)&&(b=c),c=c.parentNode;return c!==d?b:d},ii=function(a,c){var b=Jc(a);b&&b.toLowerCase()===c.tagName.toLowerCase()&&a.dom.setAttribs(c,a.getParam("forced_root_block_attrs",{}))},yt=function(a,c){var b,d,f,l,h,m,k,p,w,A,x,r,D=a.dom,T=a.schema,F=T.getNonEmptyElements(),P=a.selection.getRng(),y=function(c){var b,e,g=Z,l=T.getTextInlineElements();
if(c||"TABLE"===k||"HR"===k?(b=D.create(c||R),ii(a,b)):b=f.cloneNode(!1),e=b,!1===a.getParam("keep_styles",!0))D.setAttrib(b,"style",null),D.setAttrib(b,"class",null);else{do l[g.nodeName]&&!Sb(g)&&(c=g.cloneNode(!1),D.setAttrib(c,"id",""),b.hasChildNodes()?c.appendChild(b.firstChild):e=c,b.appendChild(c));while((g=g.parentNode)&&g!==d)}return fi(e),b},M=function(a){var c,b;if(c=hi(a,Z,fa),B.isText(Z)&&(a?0<c:c<Z.nodeValue.length))return!1;if(Z.parentNode===f&&w&&!a||a&&B.isElement(Z)&&Z===f.firstChild)return!0;
if(gi(Z,"TABLE")||gi(Z,"HR"))return w&&!a||!w&&a;var e=new q(Z,f);for(B.isText(Z)&&(a&&0===c?e.prev():a||c!==Z.nodeValue.length||e.next());c=e.current();){if(B.isElement(c)){if(!c.getAttribute("data-mce-bogus")&&(b=c.nodeName.toLowerCase(),F[b]&&"br"!==b))return!1}else if(B.isText(c)&&!/^[ \t\r\n]*$/.test(c.nodeValue))return!1;a?e.prev():e.next()}return!0},z=function(){l=/^(H[1-6]|PRE|FIGURE)$/.test(k)&&"HGROUP"!==p?y(R):y();a.getParam("end_container_on_empty_block",!1)&&An(D,m)&&D.isEmpty(f)?l=D.split(m,
f):D.insertAfter(l,f);ge(a,l)};Je(D,P).each(function(a){P.setStart(a.startContainer,a.startOffset);P.setEnd(a.endContainer,a.endOffset)});var Z=P.startContainer;var fa=P.startOffset;var R=Jc(a);var K=c.shiftKey;B.isElement(Z)&&Z.hasChildNodes()&&(w=fa>Z.childNodes.length-1,Z=Z.childNodes[Math.min(fa,Z.childNodes.length-1)]||Z,fa=w&&B.isText(Z)?Z.nodeValue.length:0);(d=Bn(D,Z))&&((R&&!K||!R&&K)&&(Z=function(a,c,b,e,d){var g,f,l,h,m=c||"P";c=a.dom;var n=Bn(c,e);if(!(f=c.getParent(e,c.isBlock))||!An(c,
f)){if(n=(f=f||n)===a.getBody()||(h=f)&&/^(TD|TH|CAPTION)$/.test(h.nodeName)?f.nodeName.toLowerCase():f.parentNode.nodeName.toLowerCase(),!f.hasChildNodes())return g=c.create(m),ii(a,g),f.appendChild(g),b.setStart(g,0),b.setEnd(g,0),g;for(h=e;h.parentNode!==f;)h=h.parentNode;for(;h&&!c.isBlock(h);)h=(l=h).previousSibling;if(l&&a.schema.isValidChild(n,m.toLowerCase())){g=c.create(m);ii(a,g);l.parentNode.insertBefore(g,l);for(h=l;h&&!c.isBlock(h);)a=h.nextSibling,g.appendChild(h),h=a;b.setStart(e,d);
b.setEnd(e,d)}}return e}(a,R,P,Z,fa)),f=D.getParent(Z,D.isBlock),m=f?D.getParent(f.parentNode,D.isBlock):null,k=f?f.nodeName.toUpperCase():"","LI"!==(p=m?m.nodeName.toUpperCase():"")||c.ctrlKey||(m=(f=m).parentNode,k=p),/^(LI|DT|DD)$/.test(k)&&D.isEmpty(f)?xt(a,y,m,f,R):R&&f===a.getBody()||(R=R||"P",nc(f)?(l=dh(f),D.isEmpty(f)&&fi(f),ge(a,l)):M()?z():M(!0)?(l=f.parentNode.insertBefore(y(),f),ge(a,gi(f,"HR")?l:f)):((b=(r=P.cloneRange(),r.setStart(P.startContainer,hi(!0,P.startContainer,P.startOffset)),
r.setEnd(P.endContainer,hi(!1,P.endContainer,P.endOffset)),r).cloneRange()).setEndAfter(f),function(a){for(;B.isText(a)&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;);}(h=b.extractContents()),l=h.firstChild,D.insertAfter(h,f),function(a,c,b){var e=[];if(b){for(;b=b.firstChild;){if(a.isBlock(b))return;B.isElement(b)&&!c[b.nodeName.toLowerCase()]&&e.push(b)}for(c=e.length;c--;)!(b=e[c]).hasChildNodes()||b.firstChild===b.lastChild&&""===b.firstChild.nodeValue?a.remove(b):(d=b)&&"A"===
d.nodeName&&0===C.trim(cc(d.innerText||d.textContent)).length&&a.remove(b);var d}}(D,F,l),(A=f).normalize(),(x=A.lastChild)&&!/^(left|right)$/gi.test(D.getStyle(x,"float",!0))||D.add(A,"br"),D.isEmpty(f)&&fi(f),l.normalize(),D.isEmpty(l)?(D.remove(l),z()):ge(a,l)),D.setAttrib(l,"id",""),a.fire("NewBlock",{newBlock:l})))},Cn=function(a,c){return ei(a).filter(function(a){return 0<c.length&&Qd(H.fromDom(a),c)}).isSome()},gb=td([{br:[]},{block:[]},{none:[]}]),zt=function(a,c){return Cn(a,a.getParam("no_newline_selector",
""))},ji=function(a){return function(c,b){return""===Jc(c)===a}},Dn=function(a){return function(c,b){return wt(c)===a}},he=function(a,c){return function(b,d){return vt(b)===a.toUpperCase()===c}},Sf=function(a){return function(c,b){return c.getParam("br_in_pre",!0)===a}},At=function(a,c){return Cn(a,a.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"))},ie=function(a,c){return c},En=function(a){var c=Jc(a);var b=a.dom;for(var d=a.selection.getStart(),f,l=b.getRoot();d!==l&&"false"!==
b.getContentEditable(d);)"true"===b.getContentEditable(d)&&(f=d),d=d.parentNode;return(b=d!==l?f:l)&&a.schema.isValidChild(b.nodeName,c||"P")},pb=function(a,c){return function(b,d){return Yb(a,function(a,c){return a&&c(b,d)},!0)?m.some(c):m.none()}},Bt=function(a,c){return Kl([pb([zt],gb.none()),pb([he("summary",!0)],gb.br()),pb([he("pre",!0),Sf(!1),ie],gb.br()),pb([he("pre",!0),Sf(!1)],gb.block()),pb([he("pre",!0),Sf(!0),ie],gb.block()),pb([he("pre",!0),Sf(!0)],gb.br()),pb([Dn(!0),ie],gb.br()),pb([Dn(!0)],
gb.block()),pb([ji(!0),ie,En],gb.block()),pb([ji(!0)],gb.br()),pb([At],gb.br()),pb([ji(!1),ie],gb.br()),pb([En],gb.block())],[a,c.shiftKey]).getOr(gb.none())},Ct=function(a,c){Bt(a,c).fold(function(){Ni(a,c)},function(){yt(a,c)},T)},Dt=function(a){a.on("keydown",function(c){var b;c.keyCode===ha.ENTER&&(c.isDefaultPrevented()||(c.preventDefault(),(b=a.undoManager).typing&&(b.typing=!1,b.add()),a.undoManager.transact(function(){!1===a.selection.isCollapsed()&&a.execCommand("Delete");Ct(a,c)})))})},
Et=function(a,c,b){return h=c,!(!b.fold(F(!1),F(!0),F(!0),F(!1))||!B.isText(h.container())||(e=a,f=(d=c).container(),l=d.offset(),f.insertData(l,"\u00a0"),e.selection.setCursorLocation(f,l+1),0));var e,d,f,l,h},Ft=function(a){return!!a.selection.isCollapsed()&&(c=a,b=K(oa.isInlineTarget,c),d=I.fromRangeStart(c.selection.getRng()),Vb(b,c.getBody(),d).map(K(Et,c,d)).getOr(!1));var c,b,d},Gt=function(a){a.on("keydown",function(c){!1===c.isDefaultPrevented()&&Pf([{keyCode:ha.SPACEBAR,action:Wa(Ft,a)}],
c).each(function(a){c.preventDefault()})})},Fn=function(a,c){c.hasAttribute("data-mce-caret")&&(dh(c),a.selection.setRng(a.selection.getRng()),a.selection.scrollIntoView(c))},Ht=function(a,c){var b=jf(H.fromDom(a.getBody()),"*[data-mce-caret]").fold(F(null),function(a){return a.dom()});if(b)return"compositionstart"===c.type?(c.preventDefault(),c.stopPropagation(),void Fn(a,b)):void((b.firstChild!==b.lastChild||!B.isBr(b.firstChild))&&(Fn(a,b),a.undoManager.add()))},It=function(a){var c=wd.setupSelectedState(a);
a.on("keyup compositionstart",K(Ht,a));qt(a,c);ut(a,c);Dt(a);Gt(a)},Gn=function(a){return B.isElement(a)&&Gj(H.fromDom(a))},Jt=function(a){a.on("click",function(c){3<=c.detail&&function(a){var c=a.selection.getRng(),b=M.fromRangeStart(c),e=M.fromRangeEnd(c);if(M.isElementPosition(b)){var d=b.container();Gn(d)&&X.firstPositionIn(d).each(function(a){return c.setStart(a.container(),a.offset())})}M.isElementPosition(e)&&(d=b.container(),Gn(d)&&X.lastPositionIn(d).each(function(a){return c.setEnd(a.container(),
a.offset())}));a.selection.setRng(Ah(c))}(a)})},Kt=function(a){a.on("click",function(c){a.dom.getParent(c.target,"details")&&c.preventDefault()});a.parser.addNodeFilter("details",function(a){U(a,function(a){a.attr("data-mce-open",a.attr("open"));a.attr("open","open")})});a.serializer.addNodeFilter("details",function(a){U(a,function(a){var c=a.attr("data-mce-open");a.attr("open",ib(c)?c:null);a.attr("data-mce-open",null)})})},Oc=ua.DOM,Hn=function(a){a.bindPendingEventDelegates();a.initialized=!0;
a.fire("init");a.focus(!0);a.nodeChanged({initial:!0});a.execCallback("init_instance_callback",a);a.settings.auto_focus&&Za.setEditorTimeout(a,function(){var c;(c=!0===a.settings.auto_focus?a:a.editorManager.get(a.settings.auto_focus)).destroyed||c.focus()},100)},ki=function(a,c){var b,d,f,l,h,m=a.settings,k=a.getElement(),p=a.getDoc();m.inline||(a.getElement().style.visibility=a.orgVisibility);c||m.content_editable||(p.open(),p.write(a.iframeHTML),p.close());m.content_editable&&(a.on("remove",function(){var a=
this.getBody();Oc.removeClass(a,"mce-content-body");Oc.removeClass(a,"mce-edit-focus");Oc.setAttrib(a,"contentEditable",null)}),Oc.addClass(k,"mce-content-body"),a.contentDocument=p=m.content_document||document,a.contentWindow=m.content_window||window,a.bodyElement=k,m.content_document=m.content_window=null,m.root_name=k.nodeName.toLowerCase());(c=a.getBody()).disabled=!0;a.readonly=m.readonly;a.readonly||(a.inline&&"static"===Oc.getStyle(c,"position",!0)&&(c.style.position="relative"),c.contentEditable=
a.getParam("content_editable_state",!0));c.disabled=!1;a.editorUpload=Xa(a);a.schema=D(m);a.dom=ua(p,{keep_values:!0,url_converter:a.convertURL,url_converter_scope:a,hex_colors:m.force_hex_style_colors,class_filter:m.class_filter,update_styles:!0,root_element:a.inline?a.getBody():null,collect:m.content_editable,schema:a.schema,contentCssCors:a.getParam("content_css_cors",!1,"boolean"),onSetAttrib:function(c){a.fire("SetAttrib",c)}});a.parser=((d=Ba(a.settings,a.schema)).addAttributeFilter("src,href,style,tabindex",
function(c,b){for(var e,d,g,f=c.length,l=a.dom;f--;)(d=(e=c[f]).attr(b),g="data-mce-"+b,e.attributes.map[g])||0===d.indexOf("data:")||0===d.indexOf("blob:")||("style"===b?((d=l.serializeStyle(l.parseStyle(d),e.name)).length||(d=null),e.attr(g,d),e.attr(b,d)):"tabindex"===b?(e.attr(g,d),e.attr(b,null)):e.attr(g,a.convertURL(d,b,e.name)))}),d.addNodeFilter("script",function(a){for(var c,b,e=a.length;e--;)0!==(b=(c=a[e]).attr("type")||"no/type").indexOf("mce-")&&c.attr("type","mce-"+b)}),d.addNodeFilter("#cdata",
function(a){for(var c,b=a.length;b--;)(c=a[b]).type=8,c.name="#comment",c.value="[CDATA["+c.value+"]]"}),d.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(c){for(var b,e=c.length,d=a.schema.getNonEmptyElements();e--;)(b=c[e]).isEmpty(d)&&0===b.getAll("br").length&&(b.append(new ab("br",1)).shortEnded=!0)}),d);a.serializer=Ea(m,a);a.selection=tn(a.dom,a.getWin(),a.serializer,a);a.annotator=ea(a);a.formatter=Ta(a);a.undoManager=ma(a);a._nodeChangeDispatcher=new jb(a);a._selectionOverrides=Ns(a);Kt(a);
Jt(a);It(a);a.settings.forced_root_block&&a.on("NodeChange",K(As,a));a.fire("PreInit");m.browser_spellcheck||m.gecko_spellcheck||(p.body.spellcheck=!1,Oc.setAttrib(c,"spellcheck","false"));a.quirks=Lb(a);a.fire("PostRender");m.directionality&&(c.dir=m.directionality);m.nowrap&&(c.style.whiteSpace="nowrap");m.protect&&a.on("BeforeSetContent",function(a){C.each(m.protect,function(c){a.content=a.content.replace(c,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});a.on("SetContent",function(){a.addVisual(a.getBody())});
a.load({initial:!0,format:"html"});a.startContent=a.getContent({format:"raw"});a.on("compositionstart compositionend",function(c){a.composing="compositionstart"===c.type});0<a.contentStyles.length&&(b="",C.each(a.contentStyles,function(a){b+=a+"\r\n"}),a.dom.addStyle(b));(a.inline?Oc.styleSheetLoader:a.dom.styleSheetLoader).loadAll(a.contentCSS,function(c){Hn(a)},function(c){Hn(a)});m.content_style&&(f=m.content_style,l=H.fromDom(a.getDoc().head),h=H.fromTag("style"),Nd(h,"type","text/css"),ob(h,
H.fromText(f)),ob(l,h))},je=ua.DOM,Lt=function(a,c){var b,d,f,l,h,m=a.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),k=(b=a.id,d=c.height,f=a.getParam("iframe_attrs",{}),h=H.fromTag("iframe"),Od(h,f),Od(h,{id:b+"_ifr",frameBorder:"0",allowTransparency:"true",title:m}),Ip(h,{width:"100%",height:(l="number"==typeof d?d+"px":d,l||""),display:"block"}),h).dom();k.onload=function(){k.onload=null;a.fire("load")};var p,q,w;b=function(a,c){if(document.domain!==
window.location.hostname&&S.ie&&12>S.ie){var b=sg.uuid("mce");a[b]=function(){ki(a)};return je.setAttrib(c,"src",'javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+a.id+'");document.write(ed.iframeHTML);document.close();ed.'+b+"(true);})()"),!0}return!1}(a,k);return a.contentAreaContainer=c.iframeContainer,a.iframeElement=k,a.iframeHTML=(w=a.getParam("doctype","<!DOCTYPE html>")+"<html><head>",a.getParam("document_base_url","")!==a.documentBaseUrl&&
(w+='<base href="'+a.documentBaseURI.getURI()+'" />'),w+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',p=Fk(a,"body_id","tinymce"),q=Fk(a,"body_class",""),a.getParam("content_security_policy","")&&(w+='<meta http-equiv="Content-Security-Policy" content="'+a.getParam("content_security_policy","")+'" />'),w+='</head><body id="'+p+'" class="mce-content-body '+q+'" data-id="'+a.id+'"><br></body></html>'),je.add(c.iframeContainer,k),b},Mt=function(a,c){var b=Lt(a,c);c.editorContainer&&
(je.get(c.editorContainer).style.display=a.orgDisplay,a.hidden=je.isHidden(c.editorContainer));a.getElement().style.display="none";je.setAttrib(a.id,"aria-hidden","true");b||ki(a)},ke=ua.DOM,In=function(a,c,b){var e;var d=Wb.get(b);(e=Wb.urls[b]||a.documentBaseUrl.replace(/\/$/,""),b=C.trim(b),d&&-1===C.inArray(c,b))&&(C.each(Wb.dependencies(b),function(b){In(a,c,b)}),!a.plugins[b])&&(d=new d(a,e,a.$),(a.plugins[b]=d).init&&(d.init(a,e),c.push(b)))},Jn=function(a){return{editorContainer:a,iframeContainer:a}},
Nt=function(a){var c,b,d,f,l,h,m,k,p,q=a.settings,w=a.getElement();a.orgDisplay=w.style.display;if(ib(q.theme))var A=(k=a.settings,p=a.getElement(),d=k.width||ke.getStyle(p,"width")||"100%",f=k.height||ke.getStyle(p,"height")||p.offsetHeight,l=k.min_height||100,(h=/^[0-9\.]+(|px)$/i).test(""+d)&&(d=Math.max(parseInt(d,10),100)),h.test(""+f)&&(f=Math.max(parseInt(f,10),l)),m=a.theme.renderUI({targetNode:p,width:d,height:f,deltaWidth:k.delta_width,deltaHeight:k.delta_height}),k.content_editable||(f=
(m.iframeHeight||f)+("number"==typeof f?m.deltaHeight||0:""))<l&&(f=l),m.height=f,m);else Mb(q.theme)?a=(b=a.getElement(),(c=a.settings.theme(a,b)).editorContainer.nodeType&&(c.editorContainer.id=c.editorContainer.id||a.id+"_parent"),c.iframeContainer&&c.iframeContainer.nodeType&&(c.iframeContainer.id=c.iframeContainer.id||a.id+"_iframecontainer"),c.height=c.iframeHeight?c.iframeHeight:b.offsetHeight,c):(c=a.getElement(),a=a.inline?Jn(null):(A=ke.create("div"),ke.insertAfter(A,c),Jn(A))),A=a;return A},
Kn=function(a){var c,b,d,f,l=a.settings,h=a.getElement();return a.rtl=l.rtl_ui||a.editorManager.i18n.rtl,a.editorManager.i18n.setCode(l.language),l.aria_label=l.aria_label||ke.getAttrib(h,"aria-label",a.getLang("aria.rich_text_area")),a.fire("ScriptsLoaded"),d=a.settings.theme,ib(d)?(a.settings.theme=d.replace(/^\-/,""),b=Lc.get(d),a.theme=new b(a,Lc.urls[d]),a.theme.init&&a.theme.init(a,Lc.urls[d]||a.documentBaseUrl.replace(/\/$/,""),a.$)):a.theme={},f=[],C.each(a.settings.plugins.split(/[ ,]/),
function(c){In(a,f,c.replace(/^\-/,""))}),c=Nt(a),a.editorContainer=c.editorContainer?c.editorContainer:null,l.content_css&&C.each(C.explode(l.content_css),function(c){a.contentCSS.push(a.documentBaseURI.toAbsolute(c))}),l.content_editable?ki(a):Mt(a,c)},Pc=ua.DOM,Ot=function(a,c){var b=Pb.ScriptLoader;!function(a,c,b,e){var d=c.settings,g=d.theme;ib(g)?("-"===g.charAt(0)||Lc.urls.hasOwnProperty(g)||((d=d.theme_url)?Lc.load(g,c.documentBaseURI.toAbsolute(d)):Lc.load(g,"themes/"+g+"/theme"+b+".js")),
a.loadQueue(function(){Lc.waitFor(g,e)})):e()}(b,a,c,function(){var e;(e=a.settings).language&&"en"!==e.language&&!e.language_url&&(e.language_url=a.editorManager.baseURL+"/langs/"+e.language+".js");e.language_url&&!a.editorManager.i18n.data[e.language]&&b.add(e.language_url);var d=a.settings;C.isArray(d.plugins)&&(d.plugins=d.plugins.join(" "));C.each(d.external_plugins,function(a,c){Wb.load(c,a);d.plugins+=" "+c});C.each(d.plugins.split(/[ ,]/),function(a){(a=C.trim(a))&&!Wb.urls[a]&&("-"===a.charAt(0)?
(a=a.substr(1,a.length),a=Wb.dependencies(a),C.each(a,function(a){a=Wb.createUrl({prefix:"plugins/",resource:a,suffix:"/plugin"+c+".js"},a);Wb.load(a.resource,a)})):Wb.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+c+".js"}))});b.loadQueue(function(){a.removed||Kn(a)},a,function(c){c=c[0];a:{for(b in wm.urls)if(wm.urls[b]+"/plugin"+a.suffix+".js"===c)break a;var b=null}tg(a,b?"Failed to load plugin: "+b+" from url "+c:"Failed to load plugin url: "+c);a.removed||Kn(a)})})},Pt=function(a){var c=
a.settings,b=a.id,d=function(){Pc.unbind(window,"ready",d);a.render()};if(Ob.Event.domLoaded){if(a.getElement()&&S.contentEditable){c.inline?a.inline=!0:(a.orgVisibility=a.getElement().style.visibility,a.getElement().style.visibility="hidden");var f=a.getElement().form||Pc.getParent(b,"form");f&&(a.formElement=f,c.hidden_input&&!/TEXTAREA|INPUT/i.test(a.getElement().nodeName)&&(Pc.insertAfter(Pc.create("input",{type:"hidden",name:b}),b),a.hasHiddenInput=!0),a.formEventDelegate=function(c){a.fire(c.type,
c)},Pc.bind(f,"submit reset",a.formEventDelegate),a.on("reset",function(){a.setContent(a.startContent,{format:"raw"})}),!c.submit_patch||f.submit.nodeType||f.submit.length||f._mceOldSubmit||(f._mceOldSubmit=f.submit,f.submit=function(){return a.editorManager.triggerSave(),a.setDirty(!1),f._mceOldSubmit(f)}));a.windowManager=va(a);a.notificationManager=P(a);"xml"===c.encoding&&a.on("GetContent",function(a){a.save&&(a.content=Pc.encode(a.content))});c.add_form_submit_trigger&&a.on("submit",function(){a.initialized&&
a.save()});c.add_unload_trigger&&(a._beforeUnload=function(){!a.initialized||a.destroyed||a.isHidden()||a.save({format:"raw",no_events:!0,set_dirty:!1})},a.editorManager.on("BeforeUnload",a._beforeUnload));a.editorManager.add(a);Ot(a,a.suffix)}}else Pc.bind(window,"ready",d)},Ln=C.each,Qt=C.trim,Rt="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),St={ftp:21,http:80,https:443,mailto:25},qb=function(a,c){var b,d,f=this;if(a=Qt(a),b=(c=
f.settings=c||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(a)||/^\s*#/.test(a))f.source=a;else{var l=0===a.indexOf("//");0!==a.indexOf("/")||l||(a=(b&&b.protocol||"http")+"://mce_host"+a);/^[\w\-]*:?\/\//.test(a)||(d=c.base_uri?c.base_uri.path:(new qb(document.location.href)).directory,""==c.base_uri.protocol?a="//mce_host"+f.toAbsPath(d,a):(a=/([^#?]*)([#?]?.*)/.exec(a),a=(b&&b.protocol||"http")+"://mce_host"+f.toAbsPath(d,a[1])+a[2]));a=a.replace(/@@/g,"(mce_at)");a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a);
Ln(Rt,function(c,b){(b=a[b])&&(b=b.replace(/\(mce_at\)/g,"@@"));f[c]=b});b&&(f.protocol||(f.protocol=b.protocol),f.userInfo||(f.userInfo=b.userInfo),f.port||"mce_host"!==f.host||(f.port=b.port),f.host&&"mce_host"!==f.host||(f.host=b.host),f.source="");l&&(f.protocol="")}};qb.prototype={setPath:function(a){a=/^(.*?)\/?(\w+)?$/.exec(a);this.path=a[0];this.directory=a[1];this.file=a[2];this.source="";this.getURI()},toRelative:function(a){var c;if("./"===a)return a;if("mce_host"!==(a=new qb(a,{base_uri:this})).host&&
this.host!==a.host&&a.host||this.port!==a.port||this.protocol!==a.protocol&&""!==a.protocol)return a.getURI();var b=this.getURI(),d=a.getURI();return b===d||"/"===b.charAt(b.length-1)&&b.substr(0,b.length-1)===d?b:(c=this.toRelPath(this.path,a.path),a.query&&(c+="?"+a.query),a.anchor&&(c+="#"+a.anchor),c)},toAbsolute:function(a,c){return(a=new qb(a,{base_uri:this})).getURI(c&&this.isSameOrigin(a))},isSameOrigin:function(a){if(this.host==a.host&&this.protocol==a.protocol){if(this.port==a.port)return!0;
var c=St[this.protocol];if(c&&(this.port||c)==(a.port||c))return!0}return!1},toRelPath:function(a,c){var b,d,f=0,l="";if(a=(a=a.substring(0,a.lastIndexOf("/"))).split("/"),b=c.split("/"),a.length>=b.length){var h=0;for(d=a.length;h<d;h++)if(h>=b.length||a[h]!==b[h]){f=h+1;break}}if(a.length<b.length)for(h=0,d=b.length;h<d;h++)if(h>=a.length||a[h]!==b[h]){f=h+1;break}if(1===f)return c;h=0;for(d=a.length-(f-1);h<d;h++)l+="../";h=f-1;for(d=b.length;h<d;h++)l+=h!==f-1?"/"+b[h]:b[h];return l},toAbsPath:function(a,
c){var b,d=0,f=[];var l=/\/$/.test(c)?"/":"";a=a.split("/");c=c.split("/");Ln(a,function(a){a&&f.push(a)});a=f;var h=c.length-1;for(f=[];0<=h;h--)0!==c[h].length&&"."!==c[h]&&(".."!==c[h]?0<d?d--:f.push(c[h]):d++);return 0!==(b=0>=(h=a.length-d)?f.reverse().join("/"):a.slice(0,h).join("/")+"/"+f.reverse().join("/")).indexOf("/")&&(b="/"+b),l&&b.lastIndexOf("/")!==b.length-1&&(b+=l),b},getURI:function(a){var c;return this.source&&!a||(c="",a||(this.protocol?c+=this.protocol+"://":c+="//",this.userInfo&&
(c+=this.userInfo+"@"),this.host&&(c+=this.host),this.port&&(c+=":"+this.port)),this.path&&(c+=this.path),this.query&&(c+="?"+this.query),this.anchor&&(c+="#"+this.anchor),this.source=c),this.source}};qb.parseDataUri=function(a){var c,b;return a=decodeURIComponent(a).split(","),(b=/data:([^;]+)/.exec(a[0]))&&(c=b[1]),{type:c,data:a[1]}};qb.getDocumentBaseUrl=function(a){var c;return c=0!==a.protocol.indexOf("http")&&"file:"!==a.protocol?a.href:a.protocol+"//"+a.host+a.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(c)&&
(c=c.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(c)||(c+="/")),c};var li=function(a,c){c(a);a.firstChild&&li(a.firstChild,c);a.next&&li(a.next,c)},Tt=function(a,c,b){a=function(a,c,b){var e={},d={},f=[],g;for(g in b.firstChild&&li(b.firstChild,function(b){U(a,function(a){a.name===b.name&&(e[a.name]?e[a.name].nodes.push(b):e[a.name]={filter:a,nodes:[b]})});U(c,function(a){"string"==typeof b.attr(a.name)&&(d[a.name]?d[a.name].nodes.push(b):d[a.name]={filter:a,nodes:[b]})})}),e)e.hasOwnProperty(g)&&
f.push(e[g]);for(g in d)d.hasOwnProperty(g)&&f.push(d[g]);return f}(a,c,b);U(a,function(a){U(a.filter.callbacks,function(c){c(a.nodes,a.filter.name,{})})})},mi=function(a,c){a.dom.setHTML(a.getBody(),c);xd(a)&&X.firstPositionIn(a.getBody()).each(function(c){var b=c.getNode();c=B.isTable(b)?X.firstPositionIn(b).getOr(c):c;a.selection.setRng(c.toRange())})},Ut=function(a,c,b){return void 0===b&&(b={}),b.format=b.format?b.format:"html",b.set=!0,b.content=c instanceof ab?"":c,c instanceof ab||b.no_events||
(a.fire("BeforeSetContent",b),c=b.content),m.from(a.getBody()).fold(F(c),function(e){if(c instanceof ab){var d=c,f=b;Tt(a.parser.getNodeFilters(),a.parser.getAttributeFilters(),d);var g=qa({validate:a.validate},a.schema).serialize(d);e=(f.content=Ge(H.fromDom(e))?g:C.trim(g),mi(a,f.content),f.no_events||a.fire("SetContent",f),d)}else e=(d=a,f=e,l=b,0===(g=c).length||/^\s+$/.test(g)?(m='<br data-mce-bogus="1">',"TABLE"===f.nodeName?g="<tr><td>"+m+"</td></tr>":/^(UL|OL)$/.test(f.nodeName)&&(g="<li>"+
m+"</li>"),(h=Jc(d))&&d.schema.isValidChild(f.nodeName.toLowerCase(),h.toLowerCase())?(g=m,g=d.dom.createHTML(h,d.settings.forced_root_block_attrs,g)):g||(g='<br data-mce-bogus="1">'),mi(d,g),d.fire("SetContent",l)):("raw"!==l.format&&(g=qa({validate:d.validate},d.schema).serialize(d.parser.parse(g,{isRootContent:!0,insert:!0}))),l.content=Ge(H.fromDom(f))?g:C.trim(g),mi(d,l.content),l.no_events||d.fire("SetContent",l)),l.content);return e;var l,h,m})},Tf=ua.DOM,Uf=function(a){return m.from(a).each(function(a){return a.destroy()})},
Qc=ua.DOM,Mn=C.extend,Nn=C.each,On=C.resolve,Vt=S.ie,le=function(a,c,b){var e=this,d=e.documentBaseUrl=b.documentBaseURL,f=b.baseURI;c=dr($q,{id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:d,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",
forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
entity_encoding:"named",url_converter:e.convertURL,url_converter_scope:e,ie7_compat:!0},b.defaultSettings,c);e.settings=c;R.language=c.language||"en";R.languageLoad=c.language_load;R.baseURL=b.baseURL;e.id=a;e.setDirty(!1);e.plugins={};e.documentBaseURI=new qb(c.document_base_url,{base_uri:f});e.baseURI=f;e.contentCSS=[];e.contentStyles=[];e.shortcuts=new Y(e);e.loadedCSS={};e.editorCommands=new ia(e);e.suffix=b.suffix;e.editorManager=b;e.inline=c.inline;e.buttons={};e.menuItems={};c.cache_suffix&&
(S.cacheSuffix=c.cache_suffix.replace(/^[\?&]+/,""));!1===c.override_viewport&&(S.overrideViewPort=!1);b.fire("SetupEditor",{editor:e});e.execCallback("setup",e);e.$=N.overrideDefaults(function(){return{context:e.inline?e.getBody():e.getDoc(),element:e.getBody()}})};Mn(le.prototype={render:function(){Pt(this)},focus:function(a){rs(this,a)},hasFocus:function(){return xd(this)},execCallback:function(a){for(var c=1;c<arguments.length;c++);var b;if(c=this.settings[a])return this.callbackLookup&&(b=this.callbackLookup[a])&&
(c=b.func,b=b.scope),"string"==typeof c&&(b=(b=c.replace(/\.\w+$/,""))?On(b):0,c=On(c),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:c,scope:b}),c.apply(b||this,Array.prototype.slice.call(arguments,1))},translate:function(a){if(a&&C.is(a,"string")){var c=this.settings.language||"en",b=this.editorManager.i18n;a=b.data[c+"."+a]||a.replace(/\{#([^\}]+)\}/g,function(a,e){return b.data[c+"."+e]||"{#"+e+"}"})}return this.editorManager.translate(a)},getLang:function(a,c){return this.editorManager.i18n.data[(this.settings.language||
"en")+"."+a]||(void 0!==c?c:"{#"+a+"}")},getParam:function(a,c,b){return fr(this,a,c,b)},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(a,c){var b=this;c.cmd&&(c.onclick=function(){b.execCommand(c.cmd)});c.stateSelector&&"undefined"==typeof c.active&&(c.active=!1);c.text||c.icon||(c.icon=a);c.tooltip=c.tooltip||c.title;b.buttons[a]=c},addSidebar:function(a,c){var b=this.sidebars?this.sidebars:[];b.push({name:a,settings:c});this.sidebars=b},addMenuItem:function(a,
c){var b=this;c.cmd&&(c.onclick=function(){b.execCommand(c.cmd)});b.menuItems[a]=c},addContextToolbar:function(a,c){var b,d=this;d.contextToolbars=d.contextToolbars||[];"string"==typeof a&&(b=a,a=function(a){return d.dom.is(a,b)});d.contextToolbars.push({id:sg.uuid("mcet"),predicate:a,items:c})},addCommand:function(a,c,b){this.editorCommands.addCommand(a,c,b)},addQueryStateHandler:function(a,c,b){this.editorCommands.addQueryStateHandler(a,c,b)},addQueryValueHandler:function(a,c,b){this.editorCommands.addQueryValueHandler(a,
c,b)},addShortcut:function(a,c,b,d){this.shortcuts.add(a,c,b,d)},execCommand:function(a,c,b,d){return this.editorCommands.execCommand(a,c,b,d)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(Qc.show(this.getContainer()),
Qc.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var a=this.getDoc();this.hidden||(Vt&&a&&!this.inline&&a.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this===this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(Qc.hide(this.getContainer()),Qc.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(a,c){this.fire("ProgressState",{state:a,
time:c})},load:function(a){var c,b=this.getElement();return this.removed?"":b?((a=a||{}).load=!0,c=this.setContent(void 0!==b.value?b.value:b.innerHTML,a),a.element=b,a.no_events||this.fire("LoadContent",a),a.element=null,c):void 0},save:function(a){var c,b,d=this,f=d.getElement();if(f&&d.initialized&&!d.removed)return(a=a||{}).save=!0,a.element=f,a.content=d.getContent(a),a.no_events||d.fire("SaveContent",a),"raw"===a.format&&d.fire("RawSaveContent",a),c=a.content,/TEXTAREA|INPUT/i.test(f.nodeName)?
f.value=c:(!a.is_removing&&d.inline||(f.innerHTML=c),(b=Qc.getParent(d.id,"form"))&&Nn(b.elements,function(a){if(a.name===d.id)return a.value=c,!1})),a.element=f=null,!1!==a.set_dirty&&d.setDirty(!1),c},setContent:function(a,c){return Ut(this,a,c)},getContent:function(a){return c=this,void 0===(b=a)&&(b={}),m.from(c.getBody()).fold(F("tree"===b.format?new ab("body",11):""),function(a){a:{var e=c,d=b;if(d.format=d.format?d.format:"html",d.get=!0,d.getInner=!0,d.no_events||e.fire("BeforeGetContent",
d),"raw"===d.format)var f=C.trim(Im.trimExternal(e.serializer,a.innerHTML));else if("text"===d.format)f=cc(a.innerText||a.textContent);else{if("tree"===d.format){a=e.serializer.serialize(a,d);break a}f=e.serializer.serialize(a,d);var g=Jc(e);g=new RegExp("^(<"+g+"[^>]*>(&nbsp;|&#160;|\\s|\u00a0|<br \\/>|)<\\/"+g+">[\r\n]*|<br \\/>[\r\n]*)$");f=f.replace(g,"")}a=("text"===d.format||Ge(H.fromDom(a))?d.content=f:d.content=C.trim(f),d.no_events||e.fire("GetContent",d),d.content)}return a});var c,b},insertContent:function(a,
c){c&&(a=Mn({content:a},c));this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty},setDirty:function(a){var c=!this.isNotDirty;this.isNotDirty=!a;a&&a!==c&&this.fire("dirty")},setMode:function(a){var c;a!==os(c=this)&&(c.initialized?nm(c,"readonly"===a):c.on("init",function(){nm(c,"readonly"===a)}),c.fire("SwitchMode",{mode:a}))},getContainer:function(){return this.container||(this.container=Qc.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},
getElement:function(){return this.targetElm||(this.targetElm=Qc.get(this.id)),this.targetElm},getWin:function(){var a;return this.contentWindow||(a=this.iframeElement)&&(this.contentWindow=a.contentWindow),this.contentWindow},getDoc:function(){var a;return this.contentDocument||(a=this.getWin())&&(this.contentDocument=a.document),this.contentDocument},getBody:function(){var a=this.getDoc();return this.bodyElement||(a?a.body:null)},convertURL:function(a,c,b){var e=this.settings;return e.urlconverter_callback?
this.execCallback("urlconverter_callback",a,b,!0,c):!e.convert_urls||b&&"LINK"===b.nodeName||0===a.indexOf("file:")||0===a.length?a:e.relative_urls?this.documentBaseURI.toRelative(a):this.documentBaseURI.toAbsolute(a,e.remove_script_host)},addVisual:function(a){var c,b=this,d=b.settings,f=b.dom;a=a||b.getBody();void 0===b.hasVisual&&(b.hasVisual=d.visual);Nn(f.select("table,a",a),function(a){var e;switch(a.nodeName){case "TABLE":return c=d.visual_table_class||"mce-item-table",void((e=f.getAttrib(a,
"border"))&&"0"!==e||!b.hasVisual?f.removeClass(a,c):f.addClass(a,c));case "A":return void(f.getAttrib(a,"href")||(e=f.getAttrib(a,"name")||a.id,c=d.visual_anchor_class||"mce-item-anchor",e&&b.hasVisual?f.addClass(a,c):f.removeClass(a,c)))}});b.fire("VisualAid",{element:a,hasVisual:b.hasVisual})},remove:function(){if(!this.removed){var a=this._selectionOverrides,c=this.editorUpload,b=this.getBody(),d=this.getElement();b&&this.save({is_removing:!0});this.removed=!0;this.unbindAllNativeEvents();this.hasHiddenInput&&
d&&Tf.remove(d.nextSibling);!this.inline&&b&&(f=this,Tf.setStyle(f.id,"display",f.orgDisplay));this.fire("remove");this.editorManager.remove(this);Tf.remove(this.getContainer());Uf(a);Uf(c);this.destroy()}var f},destroy:function(a){var c,b=this.selection,d=this.dom;this.destroyed||(a||this.removed?(a||(this.editorManager.off("beforeunload",this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),Uf(b),Uf(d)),(c=this.formElement)&&(c._mceOldSubmit&&(c.submit=c._mceOldSubmit,c._mceOldSubmit=
null),Tf.unbind(c,"submit reset",this.formEventDelegate)),this.contentAreaContainer=this.formElement=this.container=this.editorContainer=null,this.bodyElement=this.contentDocument=this.contentWindow=null,this.iframeElement=this.targetElm=null,this.selection&&(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=null),this.destroyed=!0):this.remove())},uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()}},
qm);var me,Vf,wc,Pn={isEditorUIElement:function(a){return-1!==a.className.toString().indexOf("mce-")}},Wt=function(a,c){kc.detect().browser.isIE()?a.on("focusout",function(){Fe(a)}):a.on("mouseup touchend",function(a){c.throttle()});a.on("keyup nodechange",function(c){"nodechange"===c.type&&c.selectionChange||Fe(a)})},Xt=function(a){var c,b=Qj(function(){Fe(a)},0);a.inline&&(c=function(){b.throttle()},ua.DOM.bind(document,"mouseup",c),a.on("remove",function(){ua.DOM.unbind(document,"mouseup",c)}));
a.on("init",function(){Wt(a,b)});a.on("remove",function(){b.cancel()})},ni=ua.DOM,Qn=function(a,c){var b=a?a.settings.custom_ui_selector:"";return null!==ni.getParent(c,function(c){return Pn.isEditorUIElement(c)||!!b&&a.dom.is(c,b)})},Yt=function(a,c){c=c.editor;Xt(c);c.on("focusin",function(){var c=a.focusedEditor;c!==this&&(c&&c.fire("blur",{focusedEditor:this}),a.setActive(this),(a.focusedEditor=this).fire("focus",{blurredEditor:c}),this.focus(!0))});c.on("focusout",function(){var c=this;Za.setEditorTimeout(c,
function(){var b=a.focusedEditor;try{var e=document.activeElement}catch(t){e=document.body}Qn(c,e)||b!==c||(c.fire("blur",{focusedEditor:null}),a.focusedEditor=null)})});me||(me=function(c){var b=a.activeEditor;c=c.target;b&&c.ownerDocument===document&&(c===document.body||Qn(b,c)||a.focusedEditor!==b||(b.fire("blur",{focusedEditor:null}),a.focusedEditor=null))},ni.bind(document,"focusin",me))},Zt=function(a,c){a.focusedEditor===c.editor&&(a.focusedEditor=null);a.activeEditor||(ni.unbind(document,
"focusin",me),me=null)},Wf={},oi="en",Xf={setCode:function(a){a&&(oi=a,this.rtl=!!this.data[a]&&"rtl"===this.data[a]._dir)},getCode:function(){return oi},rtl:!1,add:function(a,c){var b=Wf[a],d;for(d in b||(Wf[a]=b={}),c)b[d]=c[d];this.setCode(a)},translate:function(a){var c=Wf[oi]||{},b=function(a){return C.is(a,"function")?Object.prototype.toString.call(a):d(a)?"":""+a},d=function(a){return""===a||null===a||C.is(a,"undefined")},f=function(a){return a=b(a),C.hasOwn(c,a)?b(c[a]):a};if(d(a))return"";
if(C.is(a,"object")&&C.hasOwn(a,"raw"))return b(a.raw);if(C.is(a,"array")){var l=a.slice(1);a=f(a[0]).replace(/\{([0-9]+)\}/g,function(a,c){return C.hasOwn(l,c)?b(l[c]):a})}return f(a).replace(/{context:\w+}$/,"")},data:Wf},hb=ua.DOM,$t=C.explode,Kb=C.each,Rn=C.extend,au=0,Sn=!1,xc=[],Sa=[],Tn=function(a){Kb(wc.get(),function(c){"scroll"===a.type?c.fire("ScrollWindow",a):c.fire("ResizeWindow",a)})},Un=function(a){a!==Sn&&(a?N(window).on("resize scroll",Tn):N(window).off("resize scroll",Tn),Sn=a)},
Vn=function(a){var c=Sa;delete xc[a.id];for(var b=0;b<xc.length;b++)if(xc[b]===a){xc.splice(b,1);break}return Sa=Ka(Sa,function(c){return a!==c}),wc.activeEditor===a&&(wc.activeEditor=0<Sa.length?Sa[0]:null),wc.focusedEditor===a&&(wc.focusedEditor=null),c.length!==Sa.length};Rn(wc={defaultSettings:{},$:N,majorVersion:"4",minorVersion:"8.5",releaseDate:"2018-10-30",editors:xc,i18n:Xf,activeEditor:null,settings:{},setup:function(){var a,c,b,d="";if(a=qb.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&
(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),c=window.tinymce||window.tinyMCEPreInit){var f=c.base||c.baseURL;d=c.suffix}else{c=document.getElementsByTagName("script");for(var l=0;l<c.length;l++){var h=(b=c[l].src).substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){-1!==h.indexOf(".min")&&(d=".min");f=b.substring(0,b.lastIndexOf("/"));break}}!f&&document.currentScript&&(-1!==(b=document.currentScript.src).indexOf(".min")&&
(d=".min"),f=b.substring(0,b.lastIndexOf("/")))}this.baseURL=(new qb(a)).toAbsolute(f);this.documentBaseURL=a;this.baseURI=new qb(this.baseURL);this.suffix=d;this.on("AddEditor",K(Yt,this));this.on("RemoveEditor",K(Zt,this))},overrideDefaults:function(a){var c;(c=a.base_url)&&(this.baseURL=(new qb(this.documentBaseURL)).toAbsolute(c.replace(/\/+$/,"")),this.baseURI=new qb(this.baseURL));(c=a.suffix)&&(this.suffix=c);a=(this.defaultSettings=a).plugin_base_urls;for(var b in a)R.PluginManager.urls[b]=
a[b]},init:function(a){var c,b=this;var d=C.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var f=function(a){var c=a.id;return c||(c=(c=a.name)&&!hb.get(c)?a.name:hb.uniqueId(),a.setAttribute("id",c)),c},l=function(a,c){return c.constructor===RegExp?c.test(a.className):hb.hasClass(a,c)},h=function(a){c=a},m=function(){var c=0,e=[],g=function(a,
d,f){a=new le(a,d,b);e.push(a);a.on("init",function(){++c===k.length&&h(e)});a.targetElm=a.targetElm||f;a.render()};hb.unbind(window,"ready",m);(function(c){var e=a[c];e&&e.apply(b,Array.prototype.slice.call(arguments,2))})("onpageload");var k=N.unique(function(a){var c,b=[];if(S.ie&&11>S.ie)return xm("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(a.types)return Kb(a.types,function(a){b=
b.concat(hb.select(a.selector))}),b;if(a.selector)return hb.select(a.selector);if(a.target)return[a.target];switch(a.mode){case "exact":0<(c=a.elements||"").length&&Kb($t(c),function(a){var c;(c=hb.get(a))?b.push(c):Kb(document.forms,function(c){Kb(c.elements,function(c){c.name===a&&(a="mce_editor_"+au++,hb.setAttrib(c,"id",a),b.push(c))})})});break;case "textareas":case "specific_textareas":Kb(hb.select("textarea"),function(c){a.editor_deselector&&l(c,a.editor_deselector)||a.editor_selector&&!l(c,
a.editor_selector)||b.push(c)})}return b}(a));a.types?Kb(a.types,function(c){C.each(k,function(b){return!hb.is(b,c.selector)||(g(f(b),Rn({},a,c),b),!1)})}):(C.each(k,function(a){var c;(c=b.get(a.id))&&c.initialized&&!(c.getContainer()||c.getBody()).parentNode&&(Vn(c),c.unbindAllNativeEvents(),c.destroy(!0),c.removed=!0)}),0===(k=C.grep(k,function(a){return!b.get(a.id)})).length?h([]):Kb(k,function(c){a.inline&&c.tagName.toLowerCase()in d?xm("Could not initialize inline editor on invalid inline target element",
c):g(f(c),a,c)}))};return b.settings=a,hb.bind(window,"ready",m),new kb(function(a){c?a(c):h=function(c){a(c)}})},get:function(a){return 0===arguments.length?Sa.slice(0):ib(a)?xa(Sa,function(c){return c.id===a}).getOr(null):eg(a)&&Sa[a]?Sa[a]:null},add:function(a){var c=this;return xc[a.id]===a||(null===c.get(a.id)&&("length"!==a.id&&(xc[a.id]=a),xc.push(a),Sa.push(a)),Un(!0),c.activeEditor=a,c.fire("AddEditor",{editor:a}),Vf||(Vf=function(){c.fire("BeforeUnload")},hb.bind(window,"beforeunload",Vf))),
a},createEditor:function(a,c){return this.add(new le(a,c,this))},remove:function(a){var c,b=this;if(a){if(!ib(a))return c=a,fo(b.get(c.id))?null:(Vn(c)&&b.fire("RemoveEditor",{editor:c}),0===Sa.length&&hb.unbind(window,"beforeunload",Vf),c.remove(),Un(0<Sa.length),c);Kb(hb.select(a),function(a){(c=b.get(a.id))&&b.remove(c)})}else for(a=Sa.length-1;0<=a;a--)b.remove(Sa[a])},execCommand:function(a,c,b){var e=this.get(b);switch(a){case "mceAddEditor":return this.get(b)||(new le(b,this.settings,this)).render(),
!0;case "mceRemoveEditor":return e&&e.remove(),!0;case "mceToggleEditor":return e?e.isHidden()?e.show():e.hide():this.execCommand("mceAddEditor",0,b),!0}return!!this.activeEditor&&this.activeEditor.execCommand(a,c,b)},triggerSave:function(){Kb(Sa,function(a){a.save()})},addI18n:function(a,c){Xf.add(a,c)},translate:function(a){return Xf.translate(a)},setActive:function(a){var c=this.activeEditor;this.activeEditor!==a&&(c&&c.fire("deactivate",{relatedTarget:a}),a.fire("activate",{relatedTarget:c}));
this.activeEditor=a}},Df);wc.setup();var Yf,Wn=wc;(Yf=Ia||(Ia={})).compareRanges=ug;Yf.getCaretRangeFromPoint=Ag;Yf.getSelectedNode=nf;Yf.getNode=md;var Xn,pi,bu=Ia,Yn=Math.min,Bd=Math.max,Zf=Math.round,Zn=function(a,c,b){var e,d,f,l,h,m;return e=c.x,d=c.y,f=a.w,l=a.h,h=c.w,m=c.h,"b"===(b=(b||"").split(""))[0]&&(d+=m),"r"===b[1]&&(e+=h),"c"===b[0]&&(d+=Zf(m/2)),"c"===b[1]&&(e+=Zf(h/2)),"b"===b[3]&&(d-=l),"r"===b[4]&&(e-=f),"c"===b[3]&&(d-=Zf(l/2)),"c"===b[4]&&(e-=Zf(f/2)),Cd(e,d,f,l)},Cd=function(a,
c,b,d){return{x:a,y:c,w:b,h:d}},cu={inflate:function(a,c,b){return Cd(a.x-c,a.y-b,a.w+2*c,a.h+2*b)},relativePosition:Zn,findBestRelativePosition:function(a,c,b,d){var e,f;for(f=0;f<d.length;f++)if((e=Zn(a,c,d[f])).x>=b.x&&e.x+e.w<=b.w+b.x&&e.y>=b.y&&e.y+e.h<=b.h+b.y)return d[f];return null},intersect:function(a,c){var b,d,f,l;return b=Bd(a.x,c.x),d=Bd(a.y,c.y),f=Yn(a.x+a.w,c.x+c.w),l=Yn(a.y+a.h,c.y+c.h),0>f-b||0>l-d?null:Cd(b,d,f-b,l-d)},clamp:function(a,c,b){var e,d,f,l,h,m,k,p,q,w;return h=a.x,
m=a.y,k=a.x+a.w,p=a.y+a.h,q=c.x+c.w,w=c.y+c.h,e=Bd(0,c.x-h),d=Bd(0,c.y-m),f=Bd(0,k-q),l=Bd(0,p-w),h+=e,m+=d,b&&(k+=e,p+=d,h-=f,m-=l),Cd(h,m,k-f-h,p-l-m)},create:Cd,fromClientRect:function(a){return Cd(a.left,a.top,a.width,a.height)}},ne={},$f=C.each,du=C.extend,$n=function(){};$n.extend=Xn=function(a){var c,b,d,f=this.prototype,l=function(){var a,c,b;if(!pi&&(this.init&&this.init.apply(this,arguments),c=this.Mixins))for(a=c.length;a--;)(b=c[a]).init&&b.init.apply(this,arguments)},h=function(){return this},
m=function(a,c){return function(){var b,e=this._super;return this._super=f[a],b=c.apply(this,arguments),this._super=e,b}};for(b in pi=!0,c=new this,pi=!1,a.Mixins&&($f(a.Mixins,function(c){for(var b in c)"init"!==b&&(a[b]=c[b])}),f.Mixins&&(a.Mixins=f.Mixins.concat(a.Mixins))),a.Methods&&$f(a.Methods.split(","),function(c){a[c]=h}),a.Properties&&$f(a.Properties.split(","),function(c){var b="_"+c;a[c]=function(a){return void 0!==a?(this[b]=a,this):this[b]}}),a.Statics&&$f(a.Statics,function(a,c){l[c]=
a}),a.Defaults&&f.Defaults&&(a.Defaults=du({},f.Defaults,a.Defaults)),a)"function"==typeof(d=a[b])&&f[b]?c[b]=m(b,d):c[b]=d;return l.prototype=c,(l.constructor=l).extend=Xn,l};var ag=Math.min,bg=Math.max,Rc=Math.round,qi=function(a,c){var b,d,f;if(c=c||'"',null===a)return"null";if("string"==(d=typeof a))return b="\bb\tt\nn\ff\rr\"\"''\\\\",c+a.replace(/([\u0080-\uFFFF\x00-\x1f"'\\])/g,function(a,e){return'"'===c&&"'"===a?a:(l=b.indexOf(e))+1?"\\"+b.charAt(l+1):(a=e.charCodeAt().toString(16),"\\u"+
"0000".substring(a.length)+a)})+c;if("object"===d){if(a.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(a)){var l=0;for(b="[";l<a.length;l++)b+=(0<l?",":"")+qi(a[l],c);return b+"]"}for(f in b="{",a)a.hasOwnProperty(f)&&(b+="function"!=typeof a[f]?(1<b.length?","+c:c)+f+c+":"+qi(a[f],c):"");return b+"}"}return""+a},ri={serialize:qi,parse:function(a){try{return JSON.parse(a)}catch(c){}}},oe={send:function(a){var c,b=0,d=function(){!a.async||4===c.readyState||1E4<b++?(a.success&&1E4>
b&&200===c.status?a.success.call(a.success_scope,""+c.responseText,c,a):a.error&&a.error.call(a.error_scope,1E4<b?"TIMED_OUT":"GENERAL",c,a),c=null):setTimeout(d,10)};if(a.scope=a.scope||this,a.success_scope=a.success_scope||a.scope,a.error_scope=a.error_scope||a.scope,a.async=!1!==a.async,a.data=a.data||"",oe.fire("beforeInitialize",{settings:a}),c=Da()){if(c.overrideMimeType&&c.overrideMimeType(a.content_type),c.open(a.type||(a.data?"POST":"GET"),a.url,a.async),a.crossDomain&&(c.withCredentials=
!0),a.content_type&&c.setRequestHeader("Content-Type",a.content_type),a.requestheaders&&C.each(a.requestheaders,function(a){c.setRequestHeader(a.key,a.value)}),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),(c=oe.fire("beforeSend",{xhr:c,settings:a}).xhr).send(a.data),!a.async)return d();setTimeout(d,10)}}};C.extend(oe,Df);var ao=C.extend,cg=function(a){this.settings=ao({},a);this.count=0};cg.sendRPC=function(a){return(new cg).send(a)};cg.prototype={send:function(a){var c=a.error,b=a.success;
(a=ao(this.settings,a)).success=function(e,d){void 0===(e=ri.parse(e))&&(e={error:"JSON Parse error."});e.error?c.call(a.error_scope||a.scope,e.error,d):b.call(a.success_scope||a.scope,e.result)};a.error=function(b,e){c&&c.call(a.error_scope||a.scope,b,e)};a.data=ri.serialize({id:a.id||"c"+this.count++,method:a.method,params:a.params});a.content_type="application/json";oe.send(a)}};try{var bo=window.localStorage}catch(a){var dg={};var Dd=[];var co={getItem:function(a){return dg[a]||null},setItem:function(a,
b){Dd.push(a);dg[a]=String(b)},key:function(a){return Dd[a]},removeItem:function(a){Dd=Dd.filter(function(c){return c===a});delete dg[a]},clear:function(){Dd=[];dg={}},length:0};Object.defineProperty(co,"length",{get:function(){return Dd.length},configurable:!1,enumerable:!1});bo=co}var eo=Wn,si=eo=C.extend(eo,{geom:{Rect:cu},util:{Promise:kb,Delay:Za,Tools:C,VK:ha,URI:qb,Class:$n,EventDispatcher:Cf,Observable:Df,I18n:Xf,XHR:oe,JSON:ri,JSONRequest:cg,JSONP:{callbacks:{},count:0,send:function(a){var c=
this,b=ua.DOM,d=void 0!==a.count?a.count:c.count,f="tinymce_jsonp_"+d;c.callbacks[d]=function(e){b.remove(f);delete c.callbacks[d];a.callback(e)};b.add(b.doc.body,"script",{id:f,src:a.url,type:"text/javascript"});c.count++}},LocalStorage:bo,Color:function(a){var c={},b=0,d=0,f=0,l=function(a){if("object"==typeof a)if("r"in a)b=a.r,d=a.g,f=a.b;else{if("v"in a){var e=a.h;var g=a.s;a=a.v;var l,h;if(e=(parseInt(e,10)||0)%360,g=parseInt(g,10)/100,a=parseInt(a,10)/100,g=bg(0,ag(g,1)),a=bg(0,ag(a,1)),0!==
g){switch(l=e/60,e=(h=a*g)*(1-Math.abs(l%2-1)),a-=h,Math.floor(l)){case 0:b=h;d=e;f=0;break;case 1:b=e;d=h;f=0;break;case 2:b=0;d=h;f=e;break;case 3:b=0;d=e;f=h;break;case 4:b=e;d=0;f=h;break;case 5:b=h;d=0;f=e;break;default:b=d=f=0}b=Rc(255*(b+a));d=Rc(255*(d+a));f=Rc(255*(f+a))}else b=d=f=Rc(255*a)}}else(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(a))?(b=parseInt(e[1],10),d=parseInt(e[2],10),f=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(a))?(b=parseInt(e[1],
16),d=parseInt(e[2],16),f=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(a))&&(b=parseInt(e[1]+e[1],16),d=parseInt(e[2]+e[2],16),f=parseInt(e[3]+e[3],16));return b=0>b?0:255<b?255:b,d=0>d?0:255<d?255:d,f=0>f?0:255<f?255:f,c};return a&&l(a),c.toRgb=function(){return{r:b,g:d,b:f}},c.toHsv=function(){return a=b,c=d,e=f,(h=ag(a/=255,ag(c/=255,e/=255)))===(m=bg(a,bg(c,e)))?{h:0,s:0,v:100*h}:(g=(m-h)/m,{h:Rc(60*((a===h?3:e===h?1:5)-(a===h?c-e:e===h?a-c:e-a)/((l=m)-h))),s:Rc(100*g),v:Rc(100*l)});
var a,c,e,g,l,h,m},c.toHex=function(){var a=function(a){return 1<(a=parseInt(a,10).toString(16)).length?a:"0"+a};return"#"+a(b)+a(d)+a(f)},c.parse=l,c}},dom:{EventUtils:Ob,Sizzle:ja,DomQuery:N,TreeWalker:q,DOMUtils:ua,ScriptLoader:Pb,RangeUtils:bu,Serializer:Ea,ControlSelection:gn,BookmarkManager:en,Selection:tn,Event:Ob.Event},html:{Styles:A,Entities:Ac,Node:ab,Schema:D,SaxParser:zg,DomParser:Ba,Writer:da,Serializer:qa},ui:{Factory:{add:function(a,c){ne[a.toLowerCase()]=c},has:function(a){return!!ne[a.toLowerCase()]},
get:function(a){var c=a.toLowerCase();c=ne.hasOwnProperty(c)?ne[c]:null;if(null===c)throw Error("Could not find module for type: "+a);return c},create:function(a,c){var b;if("string"==typeof a?(c=c||{}).type=a:a=(c=a).type,a=a.toLowerCase(),!(b=ne[a]))throw Error("Could not find control by type: "+a);return(b=new b(c)).type=a,b}}},Env:S,AddOnManager:R,Annotator:ea,Formatter:Ta,UndoManager:ma,EditorCommands:ia,WindowManager:va,NotificationManager:P,EditorObservable:qm,Shortcuts:Y,Editor:le,FocusManager:Pn,
EditorManager:Wn,DOM:ua.DOM,ScriptLoader:Pb.ScriptLoader,PluginManager:R.PluginManager,ThemeManager:R.ThemeManager,trim:C.trim,isArray:C.isArray,is:C.is,toArray:C.toArray,makeMap:C.makeMap,each:C.each,map:C.map,grep:C.grep,inArray:C.inArray,extend:C.extend,create:C.create,walk:C.walk,createNS:C.createNS,resolve:C.resolve,explode:C.explode,_addCacheSuffix:C._addCacheSuffix,isOpera:S.opera,isWebKit:S.webkit,isIE:S.ie,isGecko:S.gecko,isMac:S.mac});window.tinymce=si;window.tinyMCE=si;if("object"==typeof module)try{module.exports=
si}catch(a){}}();
!function(){(function(){var f={nu:function(b,d){return{isRequired:b,applyPatch:d}},before:function(b,d){return function(){var f=Array.prototype.slice.call(arguments),h=d.apply(this,f);return b.apply(this,"undefined"==typeof h?f:h)}},after:function(b,d){return function(){var f=b.apply(this,arguments),h=d(f);return"undefined"==typeof h?f:h}},applyPatches:function(b,d){if(b)for(var f=0;f<d.length;f++)d[f].isRequired(b)&&d[f].applyPatch(b);return b}},k=function(b){return function(){return b}},y=function(b,
d,f){return{major:k(b),minor:k(d),patch:k(f)}},b=function(b,d){b-=d;return 0===b?0:0<b?1:-1},d={nu:y,parse:function(b){return(b=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(b))?y(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10)):y(0,0,0)},compare:function(d,f){var h=b(d.major(),f.major());if(0!==h)return h;h=b(d.minor(),f.minor());if(0!==h)return h;d=b(d.patch(),f.patch());return 0!==d?d:0}},r=function(b){return b?d.parse([b.majorVersion,b.minorVersion].join(".").split(".").slice(0,3).join(".")):
null},J={getVersion:r,isLessThan:function(b,f){return 0>d.compare(r(b),d.parse(f))}},z={resolve:function(b,d){d=d.split(".");for(var f=0;f<d.length&&(b=b[d[f]],b);f++);return b}},E=function(b){return function(d){if(null===d)d="null";else{var f=typeof d;d="object"===f&&Array.prototype.isPrototypeOf(d)?"array":"object"===f&&String.prototype.isPrototypeOf(d)?"string":f}return d===b}},Q={isString:E("string"),isObject:E("object"),isArray:E("array"),isNull:E("null"),isBoolean:E("boolean"),isUndefined:E("undefined"),
isFunction:E("function"),isNumber:E("number")},O=function(b){return function(d){var f=z.resolve(window,"tinymce.util.Tools");var h=d.plugins;h=Q.isUndefined(h)||""===h?[]:Q.isArray(h)?h:h.split(" ");var k=(k=b.defaultSettings.forced_plugins)?k:[];h=0<k.length?h.concat(k):h;return[f.extend({},d,{plugins:h})]}},h=f.nu(function(b){return J.isLessThan(b,"4.7.0")},function(b){b.EditorManager.init=f.before(b.EditorManager.init,O(b.EditorManager))}),x={waitFor:function(b,d,f,h,k){var p=(new Date).getTime();
var q=setInterval(function(){b()&&(clearInterval(q),d());(new Date).getTime()-p>k&&(clearInterval(q),f())},h)}},p=function(b){return function(){var d=b.currentStyle?b.currentStyle.position:window.getComputedStyle(b,null).position;d=(d?d:"").toLowerCase();return"absolute"===d||"fixed"===d}},q=function(){var b=document.createElement("div");return b.style.display="none",b.className="mce-floatpanel",b},D={waitForSkinLoaded:function(b,d){var f=q();document.body.appendChild(f);x.waitFor(p(f),function(){f.parentNode.removeChild(f);
b()},function(){f.parentNode.removeChild(f);d()},10,5E3)}},A=function(b,d){b.notificationManager?b.notificationManager.open({text:d,type:"warning",timeout:0,icon:""}):b.windowManager.alert(d)},fa={error:A,register:function(b){b.EditorManager.on("AddEditor",function(b){var d=b.editor,f=d.settings.service_message;f&&D.waitForSkinLoaded(function(){A(d,d.settings.service_message)},function(){alert(f)})})}},R=function(b){var d,f=z.resolve(window,"tinymce.util.URI");(d=b.base_url)&&(this.baseURL=(new f(this.documentBaseURL)).toAbsolute(d.replace(/\/+$/,
"")),this.baseURI=new f(this.baseURL));(d=b.suffix)&&(this.suffix=d);this.defaultSettings=b},pa=function(b){return[z.resolve(window,"tinymce.util.Tools").extend({},this.defaultSettings,b)]},M=f.nu(function(b){return"function"!=typeof b.overrideDefaults},function(b){fa.register(b);b.overrideDefaults=R;b.EditorManager.init=f.before(b.EditorManager.init,pa)}),ea=function(b){return function(d){d=d.plugin_base_urls;for(var f in d)b.PluginManager.urls[f]=d[f]}},da=f.nu(function(b){return J.isLessThan(b,
"4.5.0")},function(b){b.overrideDefaults=f.before(b.overrideDefaults,ea(b))}),qa=function(b){f.applyPatches(b,[M,da,h])};qa(window.tinymce);return function(){return{applyPatches:qa}}})()}();
(function(f){tinymce.overrideDefaults(f)})({chiffer_snowplow_service_url:"https://sp.tinymce.com/i",forced_plugins:["chiffer","rain"],suffix:".min",service_message:'The domain is not supported by your API key. Please review your domain settings <a target="_blank" href="https://apps.tiny.cloud/my-account/api-key-manager/">here</a>.',api_key:"9nc4tsvmt9he7zsqga33qz5r5zn6ajz0i1cm9vxpr6ttjsd4",plugin_base_urls:{advcode:"https://plugins.tinymce.com/advcode/stable",a11ychecker:"https://plugins.tinymce.com/a11ychecker/stable",
mediaembed:"https://plugins.tinymce.com/mediaembed/stable",powerpaste:"https://plugins.tinymce.com/powerpaste/stable",linkchecker:"https://plugins.tinymce.com/linkchecker/stable",rain:"https://plugins.tinymce.com/rain/stable",chiffer:"https://plugins.tinymce.com/chiffer/stable",tinymcespellchecker:"https://plugins.tinymce.com/tinymcespellchecker/stable",tinydrive:"https://plugins.tinymce.com/tinydrive/stable",tinycomments:"https://plugins.tinymce.com/tinycomments/stable"},rain_rainmaker_service_url:"https://rainmaker.tiny.cloud"});
!function(){!function(){var f=function(b){return function(){return b}},k=f(!1),y=f(!0),b={noop:function(){for(var b=0;b<arguments.length;b++);},noarg:function(b){return function(){for(var d=0;d<arguments.length;d++);return b()}},compose:function(b,d){return function(){for(var f=0;f<arguments.length;f++);return b(d.apply(null,arguments))}},constant:f,identity:function(b){return b},tripleEquals:function(b,d){return b===d},curry:function(b){for(var d=1;d<arguments.length;d++);var f=Array(arguments.length-
1);for(d=1;d<arguments.length;d++)f[d-1]=arguments[d];return function(){for(var d=0;d<arguments.length;d++);d=Array(arguments.length);for(var h=0;h<d.length;h++)d[h]=arguments[h];d=f.concat(d);return b.apply(null,d)}},not:function(b){return function(){for(var d=0;d<arguments.length;d++);return!b.apply(null,arguments)}},die:function(b){return function(){throw Error(b);}},apply:function(b){return b()},call:function(b){b()},never:k,always:y},d=b.never,r=b.always,J=function(){return z},z=function(){var f=
function(b){return b.isNone()},h=function(b){return b()},k=function(b){return b};f={fold:function(b,d){return b()},is:d,isSome:d,isNone:r,getOr:k,getOrThunk:h,getOrDie:function(b){throw Error(b||"error: getOrDie called on none.");},or:k,orThunk:h,map:J,ap:J,each:function(){},bind:J,flatten:J,exists:d,forall:r,filter:J,equals:f,equals_:f,toArray:function(){return[]},toString:b.constant("none()")};return Object.freeze&&Object.freeze(f),f}(),E=function(b){var f=function(){return b},h=function(){return p},
k=function(d){return d(b)},p={fold:function(d,f){return f(b)},is:function(d){return b===d},isSome:r,isNone:d,getOr:f,getOrThunk:f,getOrDie:f,or:h,orThunk:h,map:function(d){return E(d(b))},ap:function(d){return d.fold(J,function(d){return E(d(b))})},each:function(d){d(b)},bind:k,flatten:f,exists:k,forall:k,filter:function(d){return d(b)?p:z},equals:function(d){return d.is(b)},equals_:function(f,h){return f.fold(d,function(d){return h(b,d)})},toArray:function(){return[b]},toString:function(){return"some("+
b+")"}};return p},Q={some:E,none:J,from:function(b){return null===b||void 0===b?z:E(b)}};f=function(b){return function(d){if(null===d)d="null";else{var f=typeof d;d="object"===f&&Array.prototype.isPrototypeOf(d)?"array":"object"===f&&String.prototype.isPrototypeOf(d)?"string":f}return d===b}};f={isString:f("string"),isObject:f("object"),isArray:f("array"),isNull:f("null"),isBoolean:f("boolean"),isUndefined:f("undefined"),isFunction:f("function"),isNumber:f("number")};var O=function(){var b=Array.prototype.indexOf,
d=function(d,f){return b.call(d,f)},f=function(b,d){a:{for(var f=0,h=b.length;f<h;++f)if(b[f]===d){b=f;break a}b=-1}return b};return void 0===b?f:d}(),h=function(b,d){return-1<O(b,d)},x=function(b,d){for(var f=b.length,h=Array(f),k=0;k<f;k++)h[k]=d(b[k],k,b);return h},p=function(b,d){for(var f=0,h=b.length;f<h;f++)d(b[f],f,b)},q=function(b,d){for(var f=b.length-1;0<=f;f--)d(b[f],f,b)},D=function(b,d){for(var f=[],h=0,k=b.length;h<k;h++){var p=b[h];d(p,h,b)&&f.push(p)}return f},A=function(b,d){for(var f=
0,h=b.length;f<h;f++)if(d(b[f],f,b))return Q.some(f);return Q.none()},fa=Array.prototype.push,R=function(b){for(var d=[],f=0,h=b.length;f<h;++f){if(!Array.prototype.isPrototypeOf(b[f]))throw Error("Arr.flatten item "+f+" was not an array, input: "+b);fa.apply(d,b[f])}return d},pa=function(b,d){for(var f=0,h=b.length;f<h;++f)if(!0!==d(b[f],f,b))return!1;return!0},M=Array.prototype.slice;f=f.isFunction(Array.from)?Array.from:function(b){return M.call(b)};var ea={map:x,each:p,eachr:q,partition:function(b,
d){for(var f=[],h=[],k=0,p=b.length;k<p;k++){var q=b[k];(d(q,k,b)?f:h).push(q)}return{pass:f,fail:h}},filter:D,groupBy:function(b,d){if(0===b.length)return[];for(var f=d(b[0]),h=[],k=[],p=0,q=b.length;p<q;p++){var A=b[p],x=d(A);x!==f&&(h.push(k),k=[]);f=x;k.push(A)}return 0!==k.length&&h.push(k),h},indexOf:function(b,d){b=O(b,d);return-1===b?Q.none():Q.some(b)},foldr:function(b,d,f){return q(b,function(b){f=d(f,b)}),f},foldl:function(b,d,f){return p(b,function(b){f=d(f,b)}),f},find:function(b,d){for(var f=
0,h=b.length;f<h;f++){var k=b[f];if(d(k,f,b))return Q.some(k)}return Q.none()},findIndex:A,flatten:R,bind:function(b,d){b=x(b,d);return R(b)},forall:pa,exists:function(b,d){return A(b,d).isSome()},contains:h,equal:function(b,d){return b.length===d.length&&pa(b,function(b,f){return b===d[f]})},reverse:function(b){b=M.call(b,0);return b.reverse(),b},chunk:function(b,d){for(var f=[],h=0;h<b.length;h+=d){var k=b.slice(h,h+d);f.push(k)}return f},difference:function(b,d){return D(b,function(b){return!h(d,
b)})},mapToObject:function(b,d){for(var f={},h=0,k=b.length;h<k;h++){var p=b[h];f[String(p)]=d(p,h)}return f},pure:function(b){return[b]},sort:function(b,d){b=M.call(b,0);return b.sort(d),b},range:function(b,d){for(var f=[],h=0;h<b;h++)f.push(d(h));return f},head:function(b){return 0===b.length?Q.none():Q.some(b[0])},last:function(b){return 0===b.length?Q.none():Q.some(b[b.length-1])},from:f},da=function(b){var d=Q.none(),f=[],h=function(b){k()?p(b):f.push(b)},k=function(){return d.isSome()},p=function(b){d.each(function(d){setTimeout(function(){b(d)},
0)})};return b(function(b){d=Q.some(b);ea.each(f,p);f=[]}),{get:h,map:function(b){return da(function(d){h(function(f){d(b(f))})})},isReady:k}},qa={nu:da,pure:function(b){return da(function(d){d(b)})}},ia={bounce:function(b){return function(){var d=Array.prototype.slice.call(arguments),f=this;setTimeout(function(){b.apply(f,d)},0)}}},Y=function(b){var d=function(d){b(ia.bounce(d))};return{map:function(b){return Y(function(f){d(function(d){d=b(d);f(d)})})},bind:function(b){return Y(function(f){d(function(d){b(d).get(f)})})},
anonBind:function(b){return Y(function(f){d(function(d){b.get(f)})})},toLazy:function(){return qa.nu(d)},get:d}},P={nu:Y,pure:function(b){return Y(function(d){d(b)})}};(function(){var b=Object.keys,d=function(b){var d=[],f;for(f in b)b.hasOwnProperty(f)&&d.push(f);return d};return void 0===b?d:b})();f={};k={exports:f};!function(b,d,f,h){!function(h){"object"==typeof d&&void 0!==f?f.exports=h():"function"==typeof b&&b.amd?b([],h):("undefined"!=typeof window?window:"undefined"!=typeof global?global:
"undefined"!=typeof self?self:this).EphoxContactWrapper=h()}(function(){return function Xb(b,d,f){function l(k,p){if(!d[k]){if(!b[k]){var q="function"==typeof h&&h;if(!p&&q)return q(k,!0);if(m)return m(k,!0);p=Error("Cannot find module '"+k+"'");throw p.code="MODULE_NOT_FOUND",p;}p=d[k]={exports:{}};b[k][0].call(p.exports,function(d){return l(b[k][1][d]||d)},p,p.exports,Xb,b,d,f)}return d[k].exports}for(var m="function"==typeof h&&h,k=0;k<f.length;k++)l(f[k]);return l}({1:[function(b,d,f){!function(b,
f,h){void 0!==d&&d.exports?d.exports=h():f.exports?f.exports=h():f.Fingerprint2=h()}(0,this,function(){var b=function(d){if(!(this instanceof b))return new b(d);this.options=this.extend(d,{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i],userDefinedFonts:[]});this.nativeForEach=Array.prototype.forEach;this.nativeMap=Array.prototype.map};return b.prototype={extend:function(b,d){if(null==b)return d;for(var f in b)null!=b[f]&&
d[f]!==b[f]&&(d[f]=b[f]);return d},get:function(b){var d=[];d=this.userAgentKey(d);d=this.languageKey(d);d=this.colorDepthKey(d);d=this.pixelRatioKey(d);d=this.hardwareConcurrencyKey(d);d=this.screenResolutionKey(d);d=this.availableScreenResolutionKey(d);d=this.timezoneOffsetKey(d);d=this.sessionStorageKey(d);d=this.localStorageKey(d);d=this.indexedDbKey(d);d=this.addBehaviorKey(d);d=this.openDatabaseKey(d);d=this.cpuClassKey(d);d=this.platformKey(d);d=this.doNotTrackKey(d);d=this.pluginsKey(d);d=
this.canvasKey(d);d=this.webglKey(d);d=this.adBlockKey(d);d=this.hasLiedLanguagesKey(d);d=this.hasLiedResolutionKey(d);d=this.hasLiedOsKey(d);d=this.hasLiedBrowserKey(d);d=this.touchSupportKey(d);d=this.customEntropyFunction(d);var f=this;this.fontsKey(d,function(d){var l=[];f.each(d,function(b){var d=b.value;void 0!==b.value.join&&(d=b.value.join(";"));l.push(d)});var h=f.x64hash128(l.join("~~~"),31);return b(h,d)})},customEntropyFunction:function(b){return"function"==typeof this.options.customFunction&&
b.push({key:"custom",value:this.options.customFunction()}),b},userAgentKey:function(b){return this.options.excludeUserAgent||b.push({key:"user_agent",value:this.getUserAgent()}),b},getUserAgent:function(){return navigator.userAgent},languageKey:function(b){return this.options.excludeLanguage||b.push({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""}),b},colorDepthKey:function(b){return this.options.excludeColorDepth||b.push({key:"color_depth",
value:screen.colorDepth||-1}),b},pixelRatioKey:function(b){return this.options.excludePixelRatio||b.push({key:"pixel_ratio",value:this.getPixelRatio()}),b},getPixelRatio:function(){return window.devicePixelRatio||""},screenResolutionKey:function(b){return this.options.excludeScreenResolution?b:this.getScreenResolution(b)},getScreenResolution:function(b){var d;return d=this.options.detectScreenOrientation&&screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height],void 0!==
d&&b.push({key:"resolution",value:d}),b},availableScreenResolutionKey:function(b){return this.options.excludeAvailableScreenResolution?b:this.getAvailableScreenResolution(b)},getAvailableScreenResolution:function(b){var d;return screen.availWidth&&screen.availHeight&&(d=this.options.detectScreenOrientation?screen.availHeight>screen.availWidth?[screen.availHeight,screen.availWidth]:[screen.availWidth,screen.availHeight]:[screen.availHeight,screen.availWidth]),void 0!==d&&b.push({key:"available_resolution",
value:d}),b},timezoneOffsetKey:function(b){return this.options.excludeTimezoneOffset||b.push({key:"timezone_offset",value:(new Date).getTimezoneOffset()}),b},sessionStorageKey:function(b){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&b.push({key:"session_storage",value:1}),b},localStorageKey:function(b){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&b.push({key:"local_storage",value:1}),b},indexedDbKey:function(b){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&
b.push({key:"indexed_db",value:1}),b},addBehaviorKey:function(b){return document.body&&!this.options.excludeAddBehavior&&document.body.addBehavior&&b.push({key:"add_behavior",value:1}),b},openDatabaseKey:function(b){return!this.options.excludeOpenDatabase&&window.openDatabase&&b.push({key:"open_database",value:1}),b},cpuClassKey:function(b){return this.options.excludeCpuClass||b.push({key:"cpu_class",value:this.getNavigatorCpuClass()}),b},platformKey:function(b){return this.options.excludePlatform||
b.push({key:"navigator_platform",value:this.getNavigatorPlatform()}),b},doNotTrackKey:function(b){return this.options.excludeDoNotTrack||b.push({key:"do_not_track",value:this.getDoNotTrack()}),b},canvasKey:function(b){return!this.options.excludeCanvas&&this.isCanvasSupported()&&b.push({key:"canvas",value:this.getCanvasFp()}),b},webglKey:function(b){return this.options.excludeWebGL?b:this.isWebGlSupported()?(b.push({key:"webgl",value:this.getWebglFp()}),b):b},adBlockKey:function(b){return this.options.excludeAdBlock||
b.push({key:"adblock",value:this.getAdBlock()}),b},hasLiedLanguagesKey:function(b){return this.options.excludeHasLiedLanguages||b.push({key:"has_lied_languages",value:this.getHasLiedLanguages()}),b},hasLiedResolutionKey:function(b){return this.options.excludeHasLiedResolution||b.push({key:"has_lied_resolution",value:this.getHasLiedResolution()}),b},hasLiedOsKey:function(b){return this.options.excludeHasLiedOs||b.push({key:"has_lied_os",value:this.getHasLiedOs()}),b},hasLiedBrowserKey:function(b){return this.options.excludeHasLiedBrowser||
b.push({key:"has_lied_browser",value:this.getHasLiedBrowser()}),b},fontsKey:function(b,d){return this.options.excludeJsFonts?this.flashFontsKey(b,d):this.jsFontsKey(b,d)},flashFontsKey:function(b,d){return this.options.excludeFlashFonts?d(b):this.hasSwfObjectLoaded()&&this.hasMinFlashInstalled()?void 0===this.options.swfPath?d(b):void this.loadSwfAndDetectFonts(function(f){b.push({key:"swf_fonts",value:f.join(";")});d(b)}):d(b)},jsFontsKey:function(b,d){var f=this;return setTimeout(function(){var l=
["monospace","sans-serif","serif"],h="Andale Mono;Arial;Arial Black;Arial Hebrew;Arial MT;Arial Narrow;Arial Rounded MT Bold;Arial Unicode MS;Bitstream Vera Sans Mono;Book Antiqua;Bookman Old Style;Calibri;Cambria;Cambria Math;Century;Century Gothic;Century Schoolbook;Comic Sans;Comic Sans MS;Consolas;Courier;Courier New;Garamond;Geneva;Georgia;Helvetica;Helvetica Neue;Impact;Lucida Bright;Lucida Calligraphy;Lucida Console;Lucida Fax;LUCIDA GRANDE;Lucida Handwriting;Lucida Sans;Lucida Sans Typewriter;Lucida Sans Unicode;Microsoft Sans Serif;Monaco;Monotype Corsiva;MS Gothic;MS Outlook;MS PGothic;MS Reference Sans Serif;MS Sans Serif;MS Serif;MYRIAD;MYRIAD PRO;Palatino;Palatino Linotype;Segoe Print;Segoe Script;Segoe UI;Segoe UI Light;Segoe UI Semibold;Segoe UI Symbol;Tahoma;Times;Times New Roman;Times New Roman PS;Trebuchet MS;Verdana;Wingdings;Wingdings 2;Wingdings 3".split(";"),
m="Abadi MT Condensed Light;Academy Engraved LET;ADOBE CASLON PRO;Adobe Garamond;ADOBE GARAMOND PRO;Agency FB;Aharoni;Albertus Extra Bold;Albertus Medium;Algerian;Amazone BT;American Typewriter;American Typewriter Condensed;AmerType Md BT;Andalus;Angsana New;AngsanaUPC;Antique Olive;Aparajita;Apple Chancery;Apple Color Emoji;Apple SD Gothic Neo;Arabic Typesetting;ARCHER;ARNO PRO;Arrus BT;Aurora Cn BT;AvantGarde Bk BT;AvantGarde Md BT;AVENIR;Ayuthaya;Bandy;Bangla Sangam MN;Bank Gothic;BankGothic Md BT;Baskerville;Baskerville Old Face;Batang;BatangChe;Bauer Bodoni;Bauhaus 93;Bazooka;Bell MT;Bembo;Benguiat Bk BT;Berlin Sans FB;Berlin Sans FB Demi;Bernard MT Condensed;BernhardFashion BT;BernhardMod BT;Big Caslon;BinnerD;Blackadder ITC;BlairMdITC TT;Bodoni 72;Bodoni 72 Oldstyle;Bodoni 72 Smallcaps;Bodoni MT;Bodoni MT Black;Bodoni MT Condensed;Bodoni MT Poster Compressed;Bookshelf Symbol 7;Boulder;Bradley Hand;Bradley Hand ITC;Bremen Bd BT;Britannic Bold;Broadway;Browallia New;BrowalliaUPC;Brush Script MT;Californian FB;Calisto MT;Calligrapher;Candara;CaslonOpnface BT;Castellar;Centaur;Cezanne;CG Omega;CG Times;Chalkboard;Chalkboard SE;Chalkduster;Charlesworth;Charter Bd BT;Charter BT;Chaucer;ChelthmITC Bk BT;Chiller;Clarendon;Clarendon Condensed;CloisterBlack BT;Cochin;Colonna MT;Constantia;Cooper Black;Copperplate;Copperplate Gothic;Copperplate Gothic Bold;Copperplate Gothic Light;CopperplGoth Bd BT;Corbel;Cordia New;CordiaUPC;Cornerstone;Coronet;Cuckoo;Curlz MT;DaunPenh;Dauphin;David;DB LCD Temp;DELICIOUS;Denmark;DFKai-SB;Didot;DilleniaUPC;DIN;DokChampa;Dotum;DotumChe;Ebrima;Edwardian Script ITC;Elephant;English 111 Vivace BT;Engravers MT;EngraversGothic BT;Eras Bold ITC;Eras Demi ITC;Eras Light ITC;Eras Medium ITC;EucrosiaUPC;Euphemia;Euphemia UCAS;EUROSTILE;Exotc350 Bd BT;FangSong;Felix Titling;Fixedsys;FONTIN;Footlight MT Light;Forte;FrankRuehl;Fransiscan;Freefrm721 Blk BT;FreesiaUPC;Freestyle Script;French Script MT;FrnkGothITC Bk BT;Fruitger;FRUTIGER;Futura;Futura Bk BT;Futura Lt BT;Futura Md BT;Futura ZBlk BT;FuturaBlack BT;Gabriola;Galliard BT;Gautami;Geeza Pro;Geometr231 BT;Geometr231 Hv BT;Geometr231 Lt BT;GeoSlab 703 Lt BT;GeoSlab 703 XBd BT;Gigi;Gill Sans;Gill Sans MT;Gill Sans MT Condensed;Gill Sans MT Ext Condensed Bold;Gill Sans Ultra Bold;Gill Sans Ultra Bold Condensed;Gisha;Gloucester MT Extra Condensed;GOTHAM;GOTHAM BOLD;Goudy Old Style;Goudy Stout;GoudyHandtooled BT;GoudyOLSt BT;Gujarati Sangam MN;Gulim;GulimChe;Gungsuh;GungsuhChe;Gurmukhi MN;Haettenschweiler;Harlow Solid Italic;Harrington;Heather;Heiti SC;Heiti TC;HELV;Herald;High Tower Text;Hiragino Kaku Gothic ProN;Hiragino Mincho ProN;Hoefler Text;Humanst 521 Cn BT;Humanst521 BT;Humanst521 Lt BT;Imprint MT Shadow;Incised901 Bd BT;Incised901 BT;Incised901 Lt BT;INCONSOLATA;Informal Roman;Informal011 BT;INTERSTATE;IrisUPC;Iskoola Pota;JasmineUPC;Jazz LET;Jenson;Jester;Jokerman;Juice ITC;Kabel Bk BT;Kabel Ult BT;Kailasa;KaiTi;Kalinga;Kannada Sangam MN;Kartika;Kaufmann Bd BT;Kaufmann BT;Khmer UI;KodchiangUPC;Kokila;Korinna BT;Kristen ITC;Krungthep;Kunstler Script;Lao UI;Latha;Leelawadee;Letter Gothic;Levenim MT;LilyUPC;Lithograph;Lithograph Light;Long Island;Lydian BT;Magneto;Maiandra GD;Malayalam Sangam MN;Malgun Gothic;Mangal;Marigold;Marion;Marker Felt;Market;Marlett;Matisse ITC;Matura MT Script Capitals;Meiryo;Meiryo UI;Microsoft Himalaya;Microsoft JhengHei;Microsoft New Tai Lue;Microsoft PhagsPa;Microsoft Tai Le;Microsoft Uighur;Microsoft YaHei;Microsoft Yi Baiti;MingLiU;MingLiU_HKSCS;MingLiU_HKSCS-ExtB;MingLiU-ExtB;Minion;Minion Pro;Miriam;Miriam Fixed;Mistral;Modern;Modern No. 20;Mona Lisa Solid ITC TT;Mongolian Baiti;MONO;MoolBoran;Mrs Eaves;MS LineDraw;MS Mincho;MS PMincho;MS Reference Specialty;MS UI Gothic;MT Extra;MUSEO;MV Boli;Nadeem;Narkisim;NEVIS;News Gothic;News GothicMT;NewsGoth BT;Niagara Engraved;Niagara Solid;Noteworthy;NSimSun;Nyala;OCR A Extended;Old Century;Old English Text MT;Onyx;Onyx BT;OPTIMA;Oriya Sangam MN;OSAKA;OzHandicraft BT;Palace Script MT;Papyrus;Parchment;Party LET;Pegasus;Perpetua;Perpetua Titling MT;PetitaBold;Pickwick;Plantagenet Cherokee;Playbill;PMingLiU;PMingLiU-ExtB;Poor Richard;Poster;PosterBodoni BT;PRINCETOWN LET;Pristina;PTBarnum BT;Pythagoras;Raavi;Rage Italic;Ravie;Ribbon131 Bd BT;Rockwell;Rockwell Condensed;Rockwell Extra Bold;Rod;Roman;Sakkal Majalla;Santa Fe LET;Savoye LET;Sceptre;Script;Script MT Bold;SCRIPTINA;Serifa;Serifa BT;Serifa Th BT;ShelleyVolante BT;Sherwood;Shonar Bangla;Showcard Gothic;Shruti;Signboard;SILKSCREEN;SimHei;Simplified Arabic;Simplified Arabic Fixed;SimSun;SimSun-ExtB;Sinhala Sangam MN;Sketch Rockwell;Skia;Small Fonts;Snap ITC;Snell Roundhand;Socket;Souvenir Lt BT;Staccato222 BT;Steamer;Stencil;Storybook;Styllo;Subway;Swis721 BlkEx BT;Swiss911 XCm BT;Sylfaen;Synchro LET;System;Tamil Sangam MN;Technical;Teletype;Telugu Sangam MN;Tempus Sans ITC;Terminal;Thonburi;Traditional Arabic;Trajan;TRAJAN PRO;Tristan;Tubular;Tunga;Tw Cen MT;Tw Cen MT Condensed;Tw Cen MT Condensed Extra Bold;TypoUpright BT;Unicorn;Univers;Univers CE 55 Medium;Univers Condensed;Utsaah;Vagabond;Vani;Vijaya;Viner Hand ITC;VisualUI;Vivaldi;Vladimir Script;Vrinda;Westminster;WHITNEY;Wide Latin;ZapfEllipt BT;ZapfHumnst BT;ZapfHumnst Dm BT;Zapfino;Zurich BlkEx BT;Zurich Ex BT;ZWAdobeF".split(";");
f.options.extendedJsFonts&&(h=h.concat(m));h=h.concat(f.options.userDefinedFonts);m=document.getElementsByTagName("body")[0];var k=document.createElement("div"),p=document.createElement("div"),q={},w={},A=function(){var b=document.createElement("span");return b.style.position="absolute",b.style.left="-9999px",b.style.fontSize="72px",b.style.lineHeight="normal",b.innerHTML="mmmmmmmmmmlli",b},x=function(){for(var b=[],d=0,f=l.length;d<f;d++){var h=A();h.style.fontFamily=l[d];k.appendChild(h);b.push(h)}return b}();
m.appendChild(k);for(var D=0,r=l.length;D<r;D++)q[l[D]]=x[D].offsetWidth,w[l[D]]=x[D].offsetHeight;x=function(){for(var b={},d=0,f=h.length;d<f;d++){for(var m=[],k=0,q=l.length;k<q;k++){var w=h[d];var x=l[k],D=A();w=(D.style.fontFamily="'"+w+"',"+x,D);p.appendChild(w);m.push(w)}b[h[d]]=m}return b}();m.appendChild(p);D=[];r=0;for(var y=h.length;r<y;r++)(function(b){for(var d=!1,f=0;f<l.length&&!(d=b[f].offsetWidth!==q[l[f]]||b[f].offsetHeight!==w[l[f]]);f++);return d})(x[h[r]])&&D.push(h[r]);m.removeChild(p);
m.removeChild(k);b.push({key:"js_fonts",value:D});d(b)},1)},pluginsKey:function(b){return this.options.excludePlugins||(this.isIE()?this.options.excludeIEPlugins||b.push({key:"ie_plugins",value:this.getIEPlugins()}):b.push({key:"regular_plugins",value:this.getRegularPlugins()})),b},getRegularPlugins:function(){for(var b=[],d=0,f=navigator.plugins.length;d<f;d++)b.push(navigator.plugins[d]);return this.pluginsShouldBeSorted()&&(b=b.sort(function(b,d){return b.name>d.name?1:b.name<d.name?-1:0})),this.map(b,
function(b){var d=this.map(b,function(b){return[b.type,b.suffixes].join("~")}).join(",");return[b.name,b.description,d].join("::")},this)},getIEPlugins:function(){var b=[];if(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window)b=this.map("AcroPDF.PDF;Adodb.Stream;AgControl.AgControl;DevalVRXCtrl.DevalVRXCtrl.1;MacromediaFlashPaper.MacromediaFlashPaper;Msxml2.DOMDocument;Msxml2.XMLHTTP;PDF.PdfCtrl;QuickTime.QuickTime;QuickTimeCheckObject.QuickTimeCheck.1;RealPlayer;RealPlayer.RealPlayer(tm) ActiveX Control (32-bit);RealVideo.RealVideo(tm) ActiveX Control (32-bit);Scripting.Dictionary;SWCtl.SWCtl;Shell.UIHelper;ShockwaveFlash.ShockwaveFlash;Skype.Detection;TDCCtl.TDCCtl;WMPlayer.OCX;rmocx.RealPlayer G2 Control;rmocx.RealPlayer G2 Control.1".split(";"),
function(b){try{return new ActiveXObject(b),b}catch(w){return null}});return navigator.plugins&&(b=b.concat(this.getRegularPlugins())),b},pluginsShouldBeSorted:function(){for(var b=!1,d=0,f=this.options.sortPluginsFor.length;d<f;d++)if(navigator.userAgent.match(this.options.sortPluginsFor[d])){b=!0;break}return b},touchSupportKey:function(b){return this.options.excludeTouchSupport||b.push({key:"touch_support",value:this.getTouchSupport()}),b},hardwareConcurrencyKey:function(b){return this.options.excludeHardwareConcurrency||
b.push({key:"hardware_concurrency",value:this.getHardwareConcurrency()}),b},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(l){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(l){return!0}},hasIndexedDB:function(){try{return!!window.indexedDB}catch(l){return!0}},getHardwareConcurrency:function(){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:"unknown"},getNavigatorCpuClass:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"},
getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:"unknown"},getTouchSupport:function(){var b=0,d=!1;void 0!==navigator.maxTouchPoints?b=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(b=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),d=!0}catch(w){}return[b,d,"ontouchstart"in
window]},getCanvasFp:function(){var b=[],d=document.createElement("canvas");d.width=2E3;d.height=200;d.style.display="inline";var f=d.getContext("2d");return f.rect(0,0,10,10),f.rect(2,2,6,6),b.push("canvas winding:"+(!1===f.isPointInPath(5,5,"evenodd")?"yes":"no")),f.textBaseline="alphabetic",f.fillStyle="#f60",f.fillRect(125,1,62,20),f.fillStyle="#069",this.options.dontUseFakeFontInCanvas?f.font="11pt Arial":f.font="11pt no-real-font-123",f.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03",
2,15),f.fillStyle="rgba(102, 204, 0, 0.2)",f.font="18pt Arial",f.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03",4,45),f.globalCompositeOperation="multiply",f.fillStyle="rgb(255,0,255)",f.beginPath(),f.arc(50,50,50,0,2*Math.PI,!0),f.closePath(),f.fill(),f.fillStyle="rgb(0,255,255)",f.beginPath(),f.arc(100,50,50,0,2*Math.PI,!0),f.closePath(),f.fill(),f.fillStyle="rgb(255,255,0)",f.beginPath(),f.arc(75,100,50,0,2*Math.PI,!0),f.closePath(),f.fill(),f.fillStyle="rgb(255,0,255)",f.arc(75,75,75,
0,2*Math.PI,!0),f.arc(75,75,25,0,2*Math.PI,!0),f.fill("evenodd"),b.push("canvas fp:"+d.toDataURL()),b.join("~")},getWebglFp:function(){var b,d=function(d){return b.clearColor(0,0,0,1),b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),"["+d[0]+", "+d[1]+"]"};if(!(b=this.getWebglCanvas()))return null;var f=[],h=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,h);var k=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);b.bufferData(b.ARRAY_BUFFER,k,b.STATIC_DRAW);
h.itemSize=3;h.numItems=3;k=b.createProgram();var p=b.createShader(b.VERTEX_SHADER);b.shaderSource(p,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}");b.compileShader(p);var q=b.createShader(b.FRAGMENT_SHADER);b.shaderSource(q,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}");b.compileShader(q);b.attachShader(k,
p);b.attachShader(k,q);b.linkProgram(k);b.useProgram(k);k.vertexPosAttrib=b.getAttribLocation(k,"attrVertex");k.offsetUniform=b.getUniformLocation(k,"uniformOffset");b.enableVertexAttribArray(k.vertexPosArray);b.vertexAttribPointer(k.vertexPosAttrib,h.itemSize,b.FLOAT,!1,0,0);b.uniform2f(k.offsetUniform,1,1);b.drawArrays(b.TRIANGLE_STRIP,0,h.numItems);null!=b.canvas&&f.push(b.canvas.toDataURL());f.push("extensions:"+b.getSupportedExtensions().join(";"));f.push("webgl aliased line width range:"+d(b.getParameter(b.ALIASED_LINE_WIDTH_RANGE)));
f.push("webgl aliased point size range:"+d(b.getParameter(b.ALIASED_POINT_SIZE_RANGE)));f.push("webgl alpha bits:"+b.getParameter(b.ALPHA_BITS));f.push("webgl antialiasing:"+(b.getContextAttributes().antialias?"yes":"no"));f.push("webgl blue bits:"+b.getParameter(b.BLUE_BITS));f.push("webgl depth bits:"+b.getParameter(b.DEPTH_BITS));f.push("webgl green bits:"+b.getParameter(b.GREEN_BITS));f.push("webgl max anisotropy:"+function(b){var d,f=b.getExtension("EXT_texture_filter_anisotropic")||b.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||
b.getExtension("MOZ_EXT_texture_filter_anisotropic");return f?(d=b.getParameter(f.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===d&&(d=2),d):null}(b));f.push("webgl max combined texture image units:"+b.getParameter(b.MAX_COMBINED_TEXTURE_IMAGE_UNITS));f.push("webgl max cube map texture size:"+b.getParameter(b.MAX_CUBE_MAP_TEXTURE_SIZE));f.push("webgl max fragment uniform vectors:"+b.getParameter(b.MAX_FRAGMENT_UNIFORM_VECTORS));f.push("webgl max render buffer size:"+b.getParameter(b.MAX_RENDERBUFFER_SIZE));
f.push("webgl max texture image units:"+b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS));f.push("webgl max texture size:"+b.getParameter(b.MAX_TEXTURE_SIZE));f.push("webgl max varying vectors:"+b.getParameter(b.MAX_VARYING_VECTORS));f.push("webgl max vertex attribs:"+b.getParameter(b.MAX_VERTEX_ATTRIBS));f.push("webgl max vertex texture image units:"+b.getParameter(b.MAX_VERTEX_TEXTURE_IMAGE_UNITS));f.push("webgl max vertex uniform vectors:"+b.getParameter(b.MAX_VERTEX_UNIFORM_VECTORS));f.push("webgl max viewport dims:"+
d(b.getParameter(b.MAX_VIEWPORT_DIMS)));f.push("webgl red bits:"+b.getParameter(b.RED_BITS));f.push("webgl renderer:"+b.getParameter(b.RENDERER));f.push("webgl shading language version:"+b.getParameter(b.SHADING_LANGUAGE_VERSION));f.push("webgl stencil bits:"+b.getParameter(b.STENCIL_BITS));f.push("webgl vendor:"+b.getParameter(b.VENDOR));f.push("webgl version:"+b.getParameter(b.VERSION));try{var A=b.getExtension("WEBGL_debug_renderer_info");A&&(f.push("webgl unmasked vendor:"+b.getParameter(A.UNMASKED_VENDOR_WEBGL)),
f.push("webgl unmasked renderer:"+b.getParameter(A.UNMASKED_RENDERER_WEBGL)))}catch(Mb){}return b.getShaderPrecisionFormat?(f.push("webgl vertex shader high float precision:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.HIGH_FLOAT).precision),f.push("webgl vertex shader high float precision rangeMin:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.HIGH_FLOAT).rangeMin),f.push("webgl vertex shader high float precision rangeMax:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.HIGH_FLOAT).rangeMax),f.push("webgl vertex shader medium float precision:"+
b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.MEDIUM_FLOAT).precision),f.push("webgl vertex shader medium float precision rangeMin:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.MEDIUM_FLOAT).rangeMin),f.push("webgl vertex shader medium float precision rangeMax:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.MEDIUM_FLOAT).rangeMax),f.push("webgl vertex shader low float precision:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.LOW_FLOAT).precision),f.push("webgl vertex shader low float precision rangeMin:"+
b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.LOW_FLOAT).rangeMin),f.push("webgl vertex shader low float precision rangeMax:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.LOW_FLOAT).rangeMax),f.push("webgl fragment shader high float precision:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_FLOAT).precision),f.push("webgl fragment shader high float precision rangeMin:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_FLOAT).rangeMin),f.push("webgl fragment shader high float precision rangeMax:"+
b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_FLOAT).rangeMax),f.push("webgl fragment shader medium float precision:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.MEDIUM_FLOAT).precision),f.push("webgl fragment shader medium float precision rangeMin:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.MEDIUM_FLOAT).rangeMin),f.push("webgl fragment shader medium float precision rangeMax:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.MEDIUM_FLOAT).rangeMax),f.push("webgl fragment shader low float precision:"+
b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.LOW_FLOAT).precision),f.push("webgl fragment shader low float precision rangeMin:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.LOW_FLOAT).rangeMin),f.push("webgl fragment shader low float precision rangeMax:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.LOW_FLOAT).rangeMax),f.push("webgl vertex shader high int precision:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.HIGH_INT).precision),f.push("webgl vertex shader high int precision rangeMin:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,
b.HIGH_INT).rangeMin),f.push("webgl vertex shader high int precision rangeMax:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.HIGH_INT).rangeMax),f.push("webgl vertex shader medium int precision:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.MEDIUM_INT).precision),f.push("webgl vertex shader medium int precision rangeMin:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.MEDIUM_INT).rangeMin),f.push("webgl vertex shader medium int precision rangeMax:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.MEDIUM_INT).rangeMax),
f.push("webgl vertex shader low int precision:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.LOW_INT).precision),f.push("webgl vertex shader low int precision rangeMin:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.LOW_INT).rangeMin),f.push("webgl vertex shader low int precision rangeMax:"+b.getShaderPrecisionFormat(b.VERTEX_SHADER,b.LOW_INT).rangeMax),f.push("webgl fragment shader high int precision:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_INT).precision),f.push("webgl fragment shader high int precision rangeMin:"+
b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_INT).rangeMin),f.push("webgl fragment shader high int precision rangeMax:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_INT).rangeMax),f.push("webgl fragment shader medium int precision:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.MEDIUM_INT).precision),f.push("webgl fragment shader medium int precision rangeMin:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.MEDIUM_INT).rangeMin),f.push("webgl fragment shader medium int precision rangeMax:"+
b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.MEDIUM_INT).rangeMax),f.push("webgl fragment shader low int precision:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.LOW_INT).precision),f.push("webgl fragment shader low int precision rangeMin:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.LOW_INT).rangeMin),f.push("webgl fragment shader low int precision rangeMax:"+b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.LOW_INT).rangeMax),f.join("~")):f.join("~")},getAdBlock:function(){var b=document.createElement("div");
b.innerHTML="&nbsp;";b.className="adsbox";var d=!1;try{document.body.appendChild(b),d=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(b)}catch(w){d=!1}return d},getHasLiedLanguages:function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(l){return!0}return!1},getHasLiedResolution:function(){return screen.width<screen.availWidth||screen.height<screen.availHeight},getHasLiedOs:function(){var b=
navigator.userAgent.toLowerCase();var d=navigator.oscpu,f=navigator.platform.toLowerCase();b=0<=b.indexOf("windows phone")?"Windows Phone":0<=b.indexOf("win")?"Windows":0<=b.indexOf("android")?"Android":0<=b.indexOf("linux")?"Linux":0<=b.indexOf("iphone")||0<=b.indexOf("ipad")?"iOS":0<=b.indexOf("mac")?"Mac":"Other";return("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&"Windows Phone"!==b&&"Android"!==b&&"iOS"!==b&&"Other"!==b||void 0!==d&&((d=d.toLowerCase(),
0<=d.indexOf("win")&&"Windows"!==b&&"Windows Phone"!==b)||0<=d.indexOf("linux")&&"Linux"!==b&&"Android"!==b||0<=d.indexOf("mac")&&"Mac"!==b&&"iOS"!==b||0===d.indexOf("win")&&0===d.indexOf("linux")&&0<=d.indexOf("mac")&&"other"!==b)?!0:0<=f.indexOf("win")&&"Windows"!==b&&"Windows Phone"!==b||(0<=f.indexOf("linux")||0<=f.indexOf("android")||0<=f.indexOf("pike"))&&"Linux"!==b&&"Android"!==b||(0<=f.indexOf("mac")||0<=f.indexOf("ipad")||0<=f.indexOf("ipod")||0<=f.indexOf("iphone"))&&"Mac"!==b&&"iOS"!==
b||0===f.indexOf("win")&&0===f.indexOf("linux")&&0<=f.indexOf("mac")&&"other"!==b||void 0===navigator.plugins&&"Windows"!==b&&"Windows Phone"!==b},getHasLiedBrowser:function(){var b,d=navigator.userAgent.toLowerCase(),f=navigator.productSub;if(("Chrome"===(b=0<=d.indexOf("firefox")?"Firefox":0<=d.indexOf("opera")||0<=d.indexOf("opr")?"Opera":0<=d.indexOf("chrome")?"Chrome":0<=d.indexOf("safari")?"Safari":0<=d.indexOf("trident")?"Internet Explorer":"Other")||"Safari"===b||"Opera"===b)&&"20030107"!==
f)return!0;d=eval.toString().length;if(37===d&&"Safari"!==b&&"Firefox"!==b&&"Other"!==b||39===d&&"Internet Explorer"!==b&&"Other"!==b||33===d&&"Chrome"!==b&&"Opera"!==b&&"Other"!==b)return!0;try{throw"a";}catch(pe){try{pe.toSource();var h=!0}catch(Sc){h=!1}}return!(!h||"Firefox"===b||"Other"===b)},isCanvasSupported:function(){var b=document.createElement("canvas");return!(!b.getContext||!b.getContext("2d"))},isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var b=document.createElement("canvas");
try{var d=b.getContext&&(b.getContext("webgl")||b.getContext("experimental-webgl"))}catch(w){d=!1}return!!window.WebGLRenderingContext&&!!d},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},hasSwfObjectLoaded:function(){return void 0!==window.swfobject},hasMinFlashInstalled:function(){return swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var b=document.createElement("div");b.setAttribute("id",
this.options.swfContainerId);document.body.appendChild(b)},loadSwfAndDetectFonts:function(b){window.___fp_swf_loaded=function(d){b(d)};var d=this.options.swfContainerId;this.addFlashDivNode();swfobject.embedSWF(this.options.swfPath,d,"1","1","9.0.0",!1,{onReady:"___fp_swf_loaded"},{allowScriptAccess:"always",menu:"false"},{})},getWebglCanvas:function(){var b=document.createElement("canvas"),d=null;try{d=b.getContext("webgl")||b.getContext("experimental-webgl")}catch(w){}return d||(d=null),d},each:function(b,
d,f){if(null!==b)if(this.nativeForEach&&b.forEach===this.nativeForEach)b.forEach(d,f);else if(b.length===+b.length)for(var h=0,l=b.length;h<l&&d.call(f,b[h],h,b)!=={};h++);else for(h in b)if(b.hasOwnProperty(h)&&d.call(f,b[h],h,b)==={})break},map:function(b,d,f){var h=[];return null==b?h:this.nativeMap&&b.map===this.nativeMap?b.map(d,f):(this.each(b,function(b,l,m){h[h.length]=d.call(f,b,l,m)}),h)},x64Add:function(b,d){b=[b[0]>>>16,65535&b[0],b[1]>>>16,65535&b[1]];d=[d[0]>>>16,65535&d[0],d[1]>>>16,
65535&d[1]];var f=[0,0,0,0];return f[3]+=b[3]+d[3],f[2]+=f[3]>>>16,f[3]&=65535,f[2]+=b[2]+d[2],f[1]+=f[2]>>>16,f[2]&=65535,f[1]+=b[1]+d[1],f[0]+=f[1]>>>16,f[1]&=65535,f[0]+=b[0]+d[0],f[0]&=65535,[f[0]<<16|f[1],f[2]<<16|f[3]]},x64Multiply:function(b,d){b=[b[0]>>>16,65535&b[0],b[1]>>>16,65535&b[1]];d=[d[0]>>>16,65535&d[0],d[1]>>>16,65535&d[1]];var f=[0,0,0,0];return f[3]+=b[3]*d[3],f[2]+=f[3]>>>16,f[3]&=65535,f[2]+=b[2]*d[3],f[1]+=f[2]>>>16,f[2]&=65535,f[2]+=b[3]*d[2],f[1]+=f[2]>>>16,f[2]&=65535,f[1]+=
b[1]*d[3],f[0]+=f[1]>>>16,f[1]&=65535,f[1]+=b[2]*d[2],f[0]+=f[1]>>>16,f[1]&=65535,f[1]+=b[3]*d[1],f[0]+=f[1]>>>16,f[1]&=65535,f[0]+=b[0]*d[3]+b[1]*d[2]+b[2]*d[1]+b[3]*d[0],f[0]&=65535,[f[0]<<16|f[1],f[2]<<16|f[3]]},x64Rotl:function(b,d){return d%=64,32===d?[b[1],b[0]]:32>d?[b[0]<<d|b[1]>>>32-d,b[1]<<d|b[0]>>>32-d]:(d-=32,[b[1]<<d|b[0]>>>32-d,b[0]<<d|b[1]>>>32-d])},x64LeftShift:function(b,d){return d%=64,0===d?b:32>d?[b[0]<<d|b[1]>>>32-d,b[1]<<d]:[b[1]<<d-32,0]},x64Xor:function(b,d){return[b[0]^d[0],
b[1]^d[1]]},x64Fmix:function(b){return b=this.x64Xor(b,[0,b[0]>>>1]),b=this.x64Multiply(b,[4283543511,3981806797]),b=this.x64Xor(b,[0,b[0]>>>1]),b=this.x64Multiply(b,[3301882366,444984403]),this.x64Xor(b,[0,b[0]>>>1])},x64hash128:function(b,d){b=b||"";d=d||0;var f=b.length%16,h=b.length-f,l=[0,d];d=[0,d];for(var k,m,p=[2277735313,289559509],q=[1291169091,658871167],A=0;A<h;A+=16)k=[255&b.charCodeAt(A+4)|(255&b.charCodeAt(A+5))<<8|(255&b.charCodeAt(A+6))<<16|(255&b.charCodeAt(A+7))<<24,255&b.charCodeAt(A)|
(255&b.charCodeAt(A+1))<<8|(255&b.charCodeAt(A+2))<<16|(255&b.charCodeAt(A+3))<<24],m=[255&b.charCodeAt(A+12)|(255&b.charCodeAt(A+13))<<8|(255&b.charCodeAt(A+14))<<16|(255&b.charCodeAt(A+15))<<24,255&b.charCodeAt(A+8)|(255&b.charCodeAt(A+9))<<8|(255&b.charCodeAt(A+10))<<16|(255&b.charCodeAt(A+11))<<24],k=this.x64Multiply(k,p),k=this.x64Rotl(k,31),k=this.x64Multiply(k,q),l=this.x64Xor(l,k),l=this.x64Rotl(l,27),l=this.x64Add(l,d),l=this.x64Add(this.x64Multiply(l,[0,5]),[0,1390208809]),m=this.x64Multiply(m,
q),m=this.x64Rotl(m,33),m=this.x64Multiply(m,p),d=this.x64Xor(d,m),d=this.x64Rotl(d,31),d=this.x64Add(d,l),d=this.x64Add(this.x64Multiply(d,[0,5]),[0,944331445]);switch(k=[0,0],m=[0,0],f){case 15:m=this.x64Xor(m,this.x64LeftShift([0,b.charCodeAt(A+14)],48));case 14:m=this.x64Xor(m,this.x64LeftShift([0,b.charCodeAt(A+13)],40));case 13:m=this.x64Xor(m,this.x64LeftShift([0,b.charCodeAt(A+12)],32));case 12:m=this.x64Xor(m,this.x64LeftShift([0,b.charCodeAt(A+11)],24));case 11:m=this.x64Xor(m,this.x64LeftShift([0,
b.charCodeAt(A+10)],16));case 10:m=this.x64Xor(m,this.x64LeftShift([0,b.charCodeAt(A+9)],8));case 9:m=this.x64Xor(m,[0,b.charCodeAt(A+8)]),m=this.x64Multiply(m,q),m=this.x64Rotl(m,33),m=this.x64Multiply(m,p),d=this.x64Xor(d,m);case 8:k=this.x64Xor(k,this.x64LeftShift([0,b.charCodeAt(A+7)],56));case 7:k=this.x64Xor(k,this.x64LeftShift([0,b.charCodeAt(A+6)],48));case 6:k=this.x64Xor(k,this.x64LeftShift([0,b.charCodeAt(A+5)],40));case 5:k=this.x64Xor(k,this.x64LeftShift([0,b.charCodeAt(A+4)],32));case 4:k=
this.x64Xor(k,this.x64LeftShift([0,b.charCodeAt(A+3)],24));case 3:k=this.x64Xor(k,this.x64LeftShift([0,b.charCodeAt(A+2)],16));case 2:k=this.x64Xor(k,this.x64LeftShift([0,b.charCodeAt(A+1)],8));case 1:k=this.x64Xor(k,[0,b.charCodeAt(A)]),k=this.x64Multiply(k,p),k=this.x64Rotl(k,31),k=this.x64Multiply(k,q),l=this.x64Xor(l,k)}return l=this.x64Xor(l,[0,b.length]),d=this.x64Xor(d,[0,b.length]),l=this.x64Add(l,d),d=this.x64Add(d,l),l=this.x64Fmix(l),d=this.x64Fmix(d),l=this.x64Add(l,d),d=this.x64Add(d,
l),("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)+("00000000"+(d[0]>>>0).toString(16)).slice(-8)+("00000000"+(d[1]>>>0).toString(16)).slice(-8)}},b.VERSION="1.5.1",b})},{}],2:[function(b,d,f){b=b("fingerprintjs2");d.exports={boltExport:b}},{fingerprintjs2:1}]},{},[2])(2)})}(void 0,f,k,void 0);var va=k.exports.boltExport,Da=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=
arguments[h];if(d.length!==f.length)throw Error('Wrong number of arguments to struct. Expected "['+d.length+']", got '+f.length+" arguments");var k={};return ea.each(d,function(d,h){k[d]=b.constant(f[h])}),k}}("hash","components"),Aa=function(){return P.nu(function(b){document.body?b(document.body):document.addEventListener("DOMContentLoaded",function(){b(document.body)},!1)})},Xa=function(){return Aa().bind(function(b){return P.nu(function(b){(new va).get(function(d,f){b(Da(d,f))})})})},jb=qa.nu(function(b){Xa().get(b)}),
Ya={getLazyFingerprint:function(){return jb}},ma={addToStart:function(b,d){return d+b},addToEnd:function(b,d){return b+d},removeFromStart:function(b,d){return b.substring(d)},removeFromEnd:function(b,d){return b.substring(0,b.length-d)}},Ta={first:function(b,d){return b.substr(0,d)},last:function(b,d){return b.substr(b.length-d,b.length)},head:function(b){return""===b?Q.none():Q.some(b.substr(0,1))},tail:function(b){return""===b?Q.none():Q.some(b.substring(1))}},Ba=function(b,d,f){return""===d||!(b.length<
d.length)&&b.substr(f,f+d.length)===d},Ea=function(b,d){return Ba(b,d,0)},V=function(b,d){return Ba(b,d,b.length-d.length)},Lb={supplant:function(b,d){return b.replace(/\${([^{}]*)}/g,function(b,f){f=d[f];var h=typeof f;return"string"===h||"number"===h?f:b})},startsWith:Ea,removeLeading:function(b,d){return Ea(b,d)?ma.removeFromStart(b,d.length):b},removeTrailing:function(b,d){return V(b,d)?ma.removeFromEnd(b,d.length):b},ensureLeading:function(b,d){return Ea(b,d)?b:ma.addToStart(b,d)},ensureTrailing:function(b,
d){return V(b,d)?b:ma.addToEnd(b,d)},endsWith:V,contains:function(b,d){return-1!==b.indexOf(d)},trim:function(b){return b.replace(/^\s+|\s+$/g,"")},lTrim:function(b){return b.replace(/^\s+/g,"")},rTrim:function(b){return b.replace(/\s+$/g,"")},capitalize:function(b){return Ta.head(b).bind(function(d){return Ta.tail(b).map(function(b){return d.toUpperCase()+b})}).getOr(b)}},Ia={now:function(){return(new Date).getTime()}},rb={getApiKey:function(b){return Q.from(b.api_key)},getServiceUrl:function(b){return b.chiffer_snowplow_service_url}},
ba=[];for(f=0;256>f;++f)ba[f]=(f+256).toString(16).substr(1);var ka={v4:function(){for(var b,d=Array(16),f=0;16>f;f++)0==(3&f)&&(b=4294967296*Math.random()),d[f]=b>>>((3&f)<<3)&255;d[6]=15&d[6]|64;d[8]=63&d[8]|128;b=0;return ba[d[b++]]+ba[d[b++]]+ba[d[b++]]+ba[d[b++]]+"-"+ba[d[b++]]+ba[d[b++]]+"-"+ba[d[b++]]+ba[d[b++]]+"-"+ba[d[b++]]+ba[d[b++]]+"-"+ba[d[b++]]+ba[d[b++]]+ba[d[b++]]+ba[d[b++]]+ba[d[b++]]+ba[d[b++]]}},sa=function(b,d){return{send:function(f,h,k){var p=Lb.supplant("?aid=${aid}&tna=${tna}&p=${p}&dtm=${dtm}&stm=${stm}&tz=${tz}&e=${e}&se_ca=${se_ca}&eid=${eid}&fp=${fp}&tv=${tv}",
{aid:d,tna:"tinymce_cloud",p:"web",dtm:h,stm:Ia.now(),tz:"undefined"!=typeof Intl?encodeURIComponent(Intl.DateTimeFormat().resolvedOptions().timeZone):"N%2FA",e:"se",eid:ka.v4(),se_ca:f,fp:k.hash(),tv:"js-2.6.1"});return P.nu(function(d){var f=document.createElement("img");f.src=rb.getServiceUrl(b)+p;f.onload=function(){d(!0)};f.onerror=function(){d(!1)}})}}},yc=function(b,d){return{sendStat:function(f){return function(){var h=Ia.now();b.get(function(b){d.send(f,h,b).get(function(){})})}}}},Oa=function(b,
d){var f=Ya.getLazyFingerprint();b=sa(b,d);return yc(f,b)};return function(){var b=tinymce.defaultSettings,d=rb.getApiKey(b).fold(function(){return function(){}},function(d){var f=Oa(b,d);return f.sendStat("script_load")(),function(b,d){b.once("init",f.sendStat("init"));b.once("focus",f.sendStat("focus"))}});tinymce.PluginManager.add("chiffer",d)}}()()}();
!function(){!function(){var f=function(b){return function(){return b}},k=f(!1),y=f(!0),b={noop:function(){},noarg:function(b){return function(){return b()}},compose:function(b,d){return function(){return b(d.apply(null,arguments))}},constant:f,identity:function(b){return b},tripleEquals:function(b,d){return b===d},curry:function(b){for(var d=Array(arguments.length-1),f=1;f<arguments.length;f++)d[f-1]=arguments[f];return function(){for(var f=Array(arguments.length),h=0;h<f.length;h++)f[h]=arguments[h];
f=d.concat(f);return b.apply(null,f)}},not:function(b){return function(){return!b.apply(null,arguments)}},die:function(b){return function(){throw Error(b);}},apply:function(b){return b()},call:function(b){b()},never:k,always:y},d=b.never,r=b.always,J=function(){return z},z=function(){var f=function(b){return b.isNone()},h=function(b){return b()},k=function(b){return b};f={fold:function(b,d){return b()},is:d,isSome:d,isNone:r,getOr:k,getOrThunk:h,getOrDie:function(b){throw Error(b||"error: getOrDie called on none.");
},or:k,orThunk:h,map:J,ap:J,each:function(){},bind:J,flatten:J,exists:d,forall:r,filter:J,equals:f,equals_:f,toArray:function(){return[]},toString:b.constant("none()")};return Object.freeze&&Object.freeze(f),f}(),E=function(b){var f=function(){return b},h=function(){return p},k=function(d){return d(b)},p={fold:function(d,f){return f(b)},is:function(d){return b===d},isSome:r,isNone:d,getOr:f,getOrThunk:f,getOrDie:f,or:h,orThunk:h,map:function(d){return E(d(b))},ap:function(d){return d.fold(J,function(d){return E(d(b))})},
each:function(d){d(b)},bind:k,flatten:f,exists:k,forall:k,filter:function(d){return d(b)?p:z},equals:function(d){return d.is(b)},equals_:function(f,h){return f.fold(d,function(d){return h(b,d)})},toArray:function(){return[b]},toString:function(){return"some("+b+")"}};return p},Q={some:E,none:J,from:function(b){return null===b||void 0===b?z:E(b)}},O=function(){var b=Array.prototype.indexOf,d=function(d,f){return b.call(d,f)},f=function(b,d){a:{for(var f=0,h=b.length;f<h;++f)if(b[f]===d){b=f;break a}b=
-1}return b};return void 0===b?f:d}(),h=function(b,d){return-1<O(b,d)},x=function(b,d){for(var f=b.length,h=Array(f),k=0;k<f;k++)h[k]=d(b[k],k,b);return h},p=function(b,d){for(var f=0,h=b.length;f<h;f++)d(b[f],f,b)},q=function(b,d){for(var f=b.length-1;0<=f;f--)d(b[f],f,b)},D=function(b,d){for(var f=[],h=0,k=b.length;h<k;h++){var p=b[h];d(p,h,b)&&f.push(p)}return f},A=function(b,d){for(var f=0,h=b.length;f<h;f++)if(d(b[f],f,b))return Q.some(f);return Q.none()},fa=Array.prototype.push,R=function(b){for(var d=
[],f=0,h=b.length;f<h;++f){if(!Array.prototype.isPrototypeOf(b[f]))throw Error("Arr.flatten item "+f+" was not an array, input: "+b);fa.apply(d,b[f])}return d},pa=function(b,d){for(var f=0,h=b.length;f<h;++f)if(!0!==d(b[f],f,b))return!1;return!0},M=Array.prototype.slice,ea={map:x,each:p,eachr:q,partition:function(b,d){for(var f=[],h=[],k=0,p=b.length;k<p;k++){var q=b[k];(d(q,k,b)?f:h).push(q)}return{pass:f,fail:h}},filter:D,groupBy:function(b,d){if(0===b.length)return[];for(var f=d(b[0]),h=[],k=[],
p=0,q=b.length;p<q;p++){var A=b[p],D=d(A);D!==f&&(h.push(k),k=[]);f=D;k.push(A)}return 0!==k.length&&h.push(k),h},indexOf:function(b,d){b=O(b,d);return-1===b?Q.none():Q.some(b)},foldr:function(b,d,f){return q(b,function(b){f=d(f,b)}),f},foldl:function(b,d,f){return p(b,function(b){f=d(f,b)}),f},find:function(b,d){for(var f=0,h=b.length;f<h;f++){var k=b[f];if(d(k,f,b))return Q.some(k)}return Q.none()},findIndex:A,flatten:R,bind:function(b,d){b=x(b,d);return R(b)},forall:pa,exists:function(b,d){return A(b,
d).isSome()},contains:h,equal:function(b,d){return b.length===d.length&&pa(b,function(b,f){return b===d[f]})},reverse:function(b){b=M.call(b,0);return b.reverse(),b},chunk:function(b,d){for(var f=[],h=0;h<b.length;h+=d){var k=b.slice(h,h+d);f.push(k)}return f},difference:function(b,d){return D(b,function(b){return!h(d,b)})},mapToObject:function(b,d){for(var f={},h=0,k=b.length;h<k;h++){var p=b[h];f[String(p)]=d(p,h)}return f},pure:function(b){return[b]},sort:function(b,d){b=M.call(b,0);return b.sort(d),
b},range:function(b,d){for(var f=[],h=0;h<b;h++)f.push(d(h));return f},head:function(b){return 0===b.length?Q.none():Q.some(b[0])},last:function(b){return 0===b.length?Q.none():Q.some(b[b.length-1])}},da={getApiKey:function(b){return Q.from(b.api_key)},getServiceUrl:function(b){return Q.from(b.rain_rainmaker_service_url).filter(function(b){return 0<b.length})}};f=tinymce.util;var qa=f.JSON,ia=f.URI,Y=f.XHR;return function(){return tinymce.PluginManager.add("rain",function(b,d){da.getApiKey(b.settings).bind(function(d){return da.getServiceUrl(b.settings).map(function(b){b+=
"/1/messages";var f=(-1===b.indexOf("?")?"?":"&")+"apiKey="+encodeURIComponent(d);return"string"==typeof d?b+f:b})}).each(function(f){f={url:(new ia(d)).toAbsolute(f),type:"get",content_type:"application/json",success:function(d){(d=qa.parse(d))&&ea.each(d.messages,function(d){b.notificationManager.open({type:"info",text:d})})},error:function(){}};Y.send(f)})}),function(){}}}()()}();
(function(f,k){tinymce.PluginManager.add(f,function(f){f.on("skinLoaded",function(){f.notificationManager.open({text:k,type:"warning"})})})})("a11ychecker",'The a11ychecker enterprise plugin is not enabled on your API key. Please contact <a target="_blank" href="https://apps.tiny.cloud/product-category/tiny-cloud-extensions/">Tiny</a> to upgrade your key.');
(function(f,k){tinymce.PluginManager.add(f,function(f){f.on("skinLoaded",function(){f.notificationManager.open({text:k,type:"warning"})})})})("advcode",'The advcode enterprise plugin is not enabled on your API key. Please contact <a target="_blank" href="https://apps.tiny.cloud/product-category/tiny-cloud-extensions/">Tiny</a> to upgrade your key.');
(function(f,k){tinymce.PluginManager.add(f,function(f){f.on("skinLoaded",function(){f.notificationManager.open({text:k,type:"warning"})})})})("linkchecker",'The linkchecker enterprise plugin is not enabled on your API key. Please contact <a target="_blank" href="https://apps.tiny.cloud/product-category/tiny-cloud-extensions/">Tiny</a> to upgrade your key.');
(function(f,k){tinymce.PluginManager.add(f,function(f){f.on("skinLoaded",function(){f.notificationManager.open({text:k,type:"warning"})})})})("mediaembed",'The mediaembed enterprise plugin is not enabled on your API key. Please contact <a target="_blank" href="https://apps.tiny.cloud/product-category/tiny-cloud-extensions/">Tiny</a> to upgrade your key.');
(function(f,k){tinymce.PluginManager.add(f,function(f){f.on("skinLoaded",function(){f.notificationManager.open({text:k,type:"warning"})})})})("powerpaste",'The powerpaste enterprise plugin is not enabled on your API key. Please contact <a target="_blank" href="https://apps.tiny.cloud/product-category/tiny-cloud-extensions/">Tiny</a> to upgrade your key.');
(function(f,k){tinymce.PluginManager.add(f,function(f){f.on("skinLoaded",function(){f.notificationManager.open({text:k,type:"warning"})})})})("tinycomments",'The tinycomments enterprise plugin is not enabled on your API key. Please contact <a target="_blank" href="https://apps.tiny.cloud/product-category/tiny-cloud-extensions/">Tiny</a> to upgrade your key.');
(function(f,k){tinymce.PluginManager.add(f,function(f){f.on("skinLoaded",function(){f.notificationManager.open({text:k,type:"warning"})})})})("tinydrive",'The tinydrive enterprise plugin is not enabled on your API key. Please contact <a target="_blank" href="https://apps.tiny.cloud/product-category/tiny-cloud-extensions/">Tiny</a> to upgrade your key.');
(function(f,k){tinymce.PluginManager.add(f,function(f){f.on("skinLoaded",function(){f.notificationManager.open({text:k,type:"warning"})})})})("tinymcespellchecker",'The tinymcespellchecker enterprise plugin is not enabled on your API key. Please contact <a target="_blank" href="https://apps.tiny.cloud/product-category/tiny-cloud-extensions/">Tiny</a> to upgrade your key.');
!function(f,k){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(y){return f.Bloodhound=k(y)}):"object"==typeof exports?module.exports=k(require("jquery")):f.Bloodhound=k(jQuery)}(this,function(f){var k=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(b){return!b||/^\s*$/.test(b)},escapeRegExChars:function(b){return b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$&")},isString:function(b){return"string"==typeof b},isNumber:function(b){return"number"==typeof b},isArray:f.isArray,isFunction:f.isFunction,isObject:f.isPlainObject,isUndefined:function(b){return"undefined"==typeof b},isElement:function(b){return!(!b||1!==b.nodeType)},isJQuery:function(b){return b instanceof f},toStr:function(b){return k.isUndefined(b)||null===b?"":b+""},bind:f.proxy,each:function(b,d){f.each(b,function(b,f){return d(f,b)})},map:f.map,filter:f.grep,every:function(b,d){var h=
!0;return b?(f.each(b,function(f,k){return(h=d.call(null,k,f,b))?void 0:!1}),!!h):h},some:function(b,d){var h=!1;return b?(f.each(b,function(f,k){return(h=d.call(null,k,f,b))?!1:void 0}),!!h):h},mixin:f.extend,identity:function(b){return b},clone:function(b){return f.extend(!0,{},b)},getIdGenerator:function(){var b=0;return function(){return b++}},templatify:function(b){function d(){return String(b)}return f.isFunction(b)?b:d},defer:function(b){setTimeout(b,0)},debounce:function(b,d,f){var h,k;return function(){var p,
q,x=this,r=arguments;return p=function(){h=null;f||(k=b.apply(x,r))},q=f&&!h,clearTimeout(h),h=setTimeout(p,d),q&&(k=b.apply(x,r)),k}},throttle:function(b,d){var f,h,k,D,A,r;return A=0,r=function(){A=new Date;k=null;D=b.apply(f,h)},function(){var p=new Date,q=d-(p-A);return f=this,h=arguments,0>=q?(clearTimeout(k),k=null,A=p,D=b.apply(f,h)):k||(k=setTimeout(r,q)),D}},stringify:function(b){return k.isString(b)?b:JSON.stringify(b)},noop:function(){}}}(),y=function(){function b(b){return b=k.toStr(b),
b?b.split(/\s+/):[]}function d(b){return b=k.toStr(b),b?b.split(/\W+/):[]}function f(b){return function(d){return d=k.isArray(d)?d:[].slice.call(arguments,0),function(f){var h=[];return k.each(d,function(d){h=h.concat(b(k.toStr(f[d])))}),h}}}return{nonword:d,whitespace:b,obj:{nonword:f(d),whitespace:f(b)}}}(),b=function(){function b(b){this.maxSize=k.isNumber(b)?b:100;this.reset();0>=this.maxSize&&(this.set=this.get=f.noop)}function d(){this.head=this.tail=null}function x(b,d){this.key=b;this.val=
d;this.prev=this.next=null}return k.mixin(b.prototype,{set:function(b,d){var f,h=this.list.tail;this.size>=this.maxSize&&(this.list.remove(h),delete this.hash[h.key],this.size--);(f=this.hash[b])?(f.val=d,this.list.moveToFront(f)):(f=new x(b,d),this.list.add(f),this.hash[b]=f,this.size++)},get:function(b){return(b=this.hash[b])?(this.list.moveToFront(b),b.val):void 0},reset:function(){this.size=0;this.hash={};this.list=new d}}),k.mixin(d.prototype,{add:function(b){this.head&&(b.next=this.head,this.head.prev=
b);this.head=b;this.tail=this.tail||b},remove:function(b){b.prev?b.prev.next=b.next:this.head=b.next;b.next?b.next.prev=b.prev:this.tail=b.prev},moveToFront:function(b){this.remove(b);this.add(b)}}),b}(),d=function(){function b(b,d){this.prefix=["__",b,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+k.escapeRegExChars(this.prefix));this.ls=d||x;!this.ls&&this._noop()}function d(b){return JSON.stringify(k.isUndefined(b)?null:b)}try{var x=window.localStorage;x.setItem("~~~","!");
x.removeItem("~~~")}catch(p){x=null}return k.mixin(b.prototype,{_prefix:function(b){return this.prefix+b},_ttlKey:function(b){return this._prefix(b)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=k.noop},_safeSet:function(b,d){try{this.ls.setItem(b,d)}catch(D){"QuotaExceededError"===D.name&&(this.clear(),this._noop())}},get:function(b){return this.isExpired(b)&&this.remove(b),f.parseJSON(this.ls.getItem(this._prefix(b)))},set:function(b,f,h){return k.isNumber(h)?
this._safeSet(this._ttlKey(b),d((new Date).getTime()+h)):this.ls.removeItem(this._ttlKey(b)),this._safeSet(this._prefix(b),d(f))},remove:function(b){return this.ls.removeItem(this._ttlKey(b)),this.ls.removeItem(this._prefix(b)),this},clear:function(){var b=this.keyMatcher;var d,f,h=[],k=x.length;for(d=0;k>d;d++)(f=x.key(d)).match(b)&&h.push(f.replace(b,""));for(b=h.length;b--;)this.remove(h[b]);return this},isExpired:function(b){b=f.parseJSON(this.ls.getItem(this._ttlKey(b)));return k.isNumber(b)&&
(new Date).getTime()>b?!0:!1}}),b}(),r=function(){function d(d){d=d||{};this.cancelled=!1;this.lastReq=null;this._send=d.transport;this._get=d.limiter?d.limiter(this._get):this._get;this._cache=!1===d.cache?new b(0):q}var h=0,x={},p=6,q=new b(10);return d.setMaxPendingRequests=function(b){p=b},d.resetCache=function(){q.reset()},k.mixin(d.prototype,{_fingerprint:function(b){return b=b||{},b.url+b.type+f.param(b.data||{})},_get:function(b,d){function f(b){d(null,b);r._cache.set(D,b)}function k(){d(!0)}
function q(){h--;delete x[D];r.onDeckRequestArgs&&(r._get.apply(r,r.onDeckRequestArgs),r.onDeckRequestArgs=null)}var A,r=this;var D=this._fingerprint(b);this.cancelled||D!==this.lastReq||((A=x[D])?A.done(f).fail(k):p>h?(h++,x[D]=this._send(b).done(f).fail(k).always(q)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(b,d){var h;d=d||f.noop;b=k.isString(b)?{url:b}:b||{};var p=this._fingerprint(b);this.cancelled=!1;this.lastReq=p;(h=this._cache.get(p))?d(null,h):this._get(b,d)},cancel:function(){this.cancelled=
!0}}),d}(),J=window.SearchIndex=function(){function b(b){b=b||{};b.datumTokenizer&&b.queryTokenizer||f.error("datumTokenizer and queryTokenizer are both required");this.identify=b.identify||k.stringify;this.datumTokenizer=b.datumTokenizer;this.queryTokenizer=b.queryTokenizer;this.reset()}function d(b){return b=k.filter(b,function(b){return!!b}),b=k.map(b,function(b){return b.toLowerCase()})}function r(){var b={};return b[D]=[],b[q]={},b}function p(b){for(var d={},f=[],h=0,k=b.length;k>h;h++)d[b[h]]||
(d[b[h]]=!0,f.push(b[h]));return f}var q="c",D="i";return k.mixin(b.prototype,{bootstrap:function(b){this.datums=b.datums;this.trie=b.trie},add:function(b){var f=this;b=k.isArray(b)?b:[b];k.each(b,function(b){var h;f.datums[h=f.identify(b)]=b;b=d(f.datumTokenizer(b));k.each(b,function(b){var d;var k=f.trie;for(b=b.split("");d=b.shift();)k=k[q][d]||(k[q][d]=r()),k[D].push(h)})})},get:function(b){var d=this;return k.map(b,function(b){return d.datums[b]})},search:function(b){var f,h,A=this;return f=
d(this.queryTokenizer(b)),k.each(f,function(b){var d;if(h&&0===h.length)return!1;var f=A.trie;for(b=b.split("");f&&(d=b.shift());)f=f[q][d];if(f&&0===b.length){d=f[D].slice(0);if(h){f=h;var k=b=0,p=[];f=f.sort();d=d.sort();for(var r=f.length,x=d.length;r>b&&x>k;)f[b]<d[k]?b++:f[b]>d[k]?k++:(p.push(f[b]),b++,k++);f=p}else f=d;f=void(h=f)}else f=(h=[],!1);return f}),h?k.map(p(h),function(b){return A.datums[b]}):[]},all:function(){var b=[],d;for(d in this.datums)b.push(this.datums[d]);return b},reset:function(){this.datums=
{};this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),b}(),z=function(){function b(b){this.url=b.url;this.ttl=b.ttl;this.cache=b.cache;this.prepare=b.prepare;this.transform=b.transform;this.transport=b.transport;this.thumbprint=b.thumbprint;this.storage=new d(b.cacheKey)}var f;return f={data:"data",protocol:"protocol",thumbprint:"thumbprint"},k.mixin(b.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(b){this.cache&&(this.storage.set(f.data,
b,this.ttl),this.storage.set(f.protocol,location.protocol,this.ttl),this.storage.set(f.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var b,d,h,k;return this.cache?(d=this.storage.get(f.data),h=this.storage.get(f.protocol),k=this.storage.get(f.thumbprint),b=k!==this.thumbprint||h!==location.protocol,d&&!b?d:null):null},fromNetwork:function(b){function d(){b(!0)}function f(d){b(null,k.transform(d))}var h,k=this;b&&(h=this.prepare(this._settings()),this.transport(h).fail(d).done(f))},clear:function(){return this.storage.clear(),
this}}),b}(),E=function(){function b(b){this.url=b.url;this.prepare=b.prepare;this.transform=b.transform;this.transport=new r({cache:b.cache,limiter:b.limiter,transport:b.transport})}return k.mixin(b.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(b,d){function f(b,f){d(b?[]:k.transform(f))}var h,k=this;if(d)return b=b||"",h=this.prepare(b,this._settings()),this.transport.get(h,f)},cancelLastRequest:function(){this.transport.cancel()}}),b}(),Q=function(){function b(b){var d;
return b?(d={url:null,ttl:864E5,cache:!0,cacheKey:null,thumbprint:"",prepare:k.identity,transform:k.identity,transport:null},b=k.isString(b)?{url:b}:b,b=k.mixin(d,b),!b.url&&f.error("prefetch requires url to be set"),b.transform=b.filter||b.transform,b.cacheKey=b.cacheKey||b.url,b.thumbprint="0.11.1"+b.thumbprint,b.transport=b.transport?q(b.transport):f.ajax,b):null}function d(b){var d;if(b)return d={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,
transform:k.identity,transport:null},b=k.isString(b)?{url:b}:b,b=k.mixin(d,b),!b.url&&f.error("remote requires url to be set"),b.transform=b.filter||b.transform,b.prepare=r(b),b.limiter=p(b),b.transport=b.transport?q(b.transport):f.ajax,delete b.replace,delete b.wildcard,delete b.rateLimitBy,delete b.rateLimitWait,b}function r(b){function d(b,d){return d.url=p(d.url,b),d}function f(b,d){return d.url=d.url.replace(q,encodeURIComponent(b)),d}function h(b,d){return d}var k,p,q;return k=b.prepare,p=b.replace,
q=b.wildcard,k?k:k=p?d:b.wildcard?f:h}function p(b){function d(b){return function(d){return k.debounce(d,b)}}function f(b){return function(d){return k.throttle(d,b)}}var h,p,q;return h=b.limiter,p=b.rateLimitBy,q=b.rateLimitWait,h||(h=/^throttle$/i.test(p)?f(q):d(q)),h}function q(b){return function(d){var h=f.Deferred();return b(d,function(b){k.defer(function(){h.resolve(b)})},function(b){k.defer(function(){h.reject(b)})}),h}}return function(h){var p,q;return p={initialize:!0,identify:k.stringify,
datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},h=k.mixin(p,h||{}),!h.datumTokenizer&&f.error("datumTokenizer is required"),!h.queryTokenizer&&f.error("queryTokenizer is required"),q=h.sorter,h.sorter=q?function(b){return b.sort(q)}:k.identity,h.local=k.isFunction(h.local)?h.local():h.local,h.prefetch=b(h.prefetch),h.remote=d(h.remote),h}}();return function(){function b(b){b=Q(b);this.sorter=b.sorter;this.identify=b.identify;this.sufficient=b.sufficient;
this.local=b.local;this.remote=b.remote?new E(b.remote):null;this.prefetch=b.prefetch?new z(b.prefetch):null;this.index=new J({identify:this.identify,datumTokenizer:b.datumTokenizer,queryTokenizer:b.queryTokenizer});!1!==b.initialize&&this.initialize()}var d;return d=window&&window.Bloodhound,b.noConflict=function(){return window&&(window.Bloodhound=d),b},b.tokenizers=y,k.mixin(b.prototype,{__ttAdapter:function(){function b(b,d,h){return f.search(b,d,h)}function d(b,d){return f.search(b,d)}var f=
this;return this.remote?b:d},_loadPrefetch:function(){function b(b,f){return b?d.reject():(k.add(f),k.prefetch.store(k.index.serialize()),void d.resolve())}var d,h,k=this;return d=f.Deferred(),this.prefetch?(h=this.prefetch.fromCache())?(this.index.bootstrap(h),d.resolve()):this.prefetch.fromNetwork(b):d.resolve(),d.promise()},_initialize:function(){var b=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){b.add(b.local)}),this.initPromise},initialize:function(b){return!this.initPromise||
b?this._initialize():this.initPromise},add:function(b){return this.index.add(b),this},get:function(b){return b=k.isArray(b)?b:[].slice.call(arguments),this.index.get(b)},search:function(b,d,f){function h(b){var d=[];k.each(b,function(b){!k.some(p,function(d){return q.identify(b)===q.identify(d)})&&d.push(b)});f&&f(d)}var p,q=this;return p=this.sorter(this.index.search(b)),d(this.remote?p.slice():p),this.remote&&p.length<this.sufficient?this.remote.get(b,h):this.remote&&this.remote.cancelLastRequest(),
this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return r.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),b}()});
(function(f,k){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(f){return k(f)}):"object"==typeof exports?module.exports=k(require("jquery")):k(jQuery)})(this,function(f){var k=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(b){return!b||/^\s*$/.test(b)},escapeRegExChars:function(b){return b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},
isString:function(b){return"string"==typeof b},isNumber:function(b){return"number"==typeof b},isArray:f.isArray,isFunction:f.isFunction,isObject:f.isPlainObject,isUndefined:function(b){return"undefined"==typeof b},isElement:function(b){return!(!b||1!==b.nodeType)},isJQuery:function(b){return b instanceof f},toStr:function(b){return k.isUndefined(b)||null===b?"":b+""},bind:f.proxy,each:function(b,d){f.each(b,function(b,f){return d(f,b)})},map:f.map,filter:f.grep,every:function(b,d){var h=!0;return b?
(f.each(b,function(f,k){return(h=d.call(null,k,f,b))?void 0:!1}),!!h):h},some:function(b,d){var h=!1;return b?(f.each(b,function(f,k){return(h=d.call(null,k,f,b))?!1:void 0}),!!h):h},mixin:f.extend,identity:function(b){return b},clone:function(b){return f.extend(!0,{},b)},getIdGenerator:function(){var b=0;return function(){return b++}},templatify:function(b){function d(){return String(b)}return f.isFunction(b)?b:d},defer:function(b){setTimeout(b,0)},debounce:function(b,d,f){var h,k;return function(){var p,
q,r=this,x=arguments;return p=function(){h=null;f||(k=b.apply(r,x))},q=f&&!h,clearTimeout(h),h=setTimeout(p,d),q&&(k=b.apply(r,x)),k}},throttle:function(b,d){var f,h,k,r,x,y;return x=0,y=function(){x=new Date;k=null;r=b.apply(f,h)},function(){var p=new Date,q=d-(p-x);return f=this,h=arguments,0>=q?(clearTimeout(k),k=null,x=p,r=b.apply(f,h)):k||(k=setTimeout(y,q)),r}},stringify:function(b){return k.isString(b)?b:JSON.stringify(b)},noop:function(){}}}(),y=function(){function b(b){var d={};return k.each(b,
function(b,f){d[f]="."+b}),d}function d(){var b={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return k.isMsie()&&k.mixin(b.input,
{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),b}var f={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(h){var p,q;return q=k.mixin({},f,h),p={css:d(),classes:q,html:{wrapper:'<span class="'+q.wrapper+'"></span>',menu:'<div class="'+q.menu+'"></div>'},
selectors:b(q)},{css:p.css,html:p.html,classes:p.classes,selectors:p.selectors,mixin:function(b){k.mixin(b,p)}}}}(),b=function(){function b(b){b&&b.el||f.error("EventBus initialized without el");this.$el=f(b.el)}var d;return d={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},k.mixin(b.prototype,{_trigger:function(b,d){var h;return h=f.Event("typeahead:"+b),(d=d||[]).unshift(h),this.$el.trigger.apply(this.$el,d),h},before:function(b){var d,f;return d=
[].slice.call(arguments,1),f=this._trigger("before"+b,d),f.isDefaultPrevented()},trigger:function(b){var f;this._trigger(b,[].slice.call(arguments,1));(f=d[b])&&this._trigger(f,[].slice.call(arguments,1))}}),b}(),d=function(){function b(b,d,h,p){if(!h)return this;d=d.split(k);h=p?f(h,p):h;for(this._callbacks=this._callbacks||{};p=d.shift();)this._callbacks[p]=this._callbacks[p]||{sync:[],async:[]},this._callbacks[p][b].push(h);return this}function d(b,d,f){return function(){for(var h,k=0,p=b.length;!h&&
p>k;k+=1)h=!1===b[k].apply(d,f);return!h}}function f(b,d){return b.bind?b.bind(d):function(){b.apply(d,[].slice.call(arguments,0))}}var k=/\s+/,r=function(){return window.setImmediate?function(b){setImmediate(function(){b()})}:function(b){setTimeout(function(){b()},0)}}();return{onSync:function(d,f,h){return b.call(this,"sync",d,f,h)},onAsync:function(d,f,h){return b.call(this,"async",d,f,h)},off:function(b){var d;if(!this._callbacks)return this;for(b=b.split(k);d=b.shift();)delete this._callbacks[d];
return this},trigger:function(b){var f,h,p;if(!this._callbacks)return this;b=b.split(k);for(p=[].slice.call(arguments,1);(f=b.shift())&&(h=this._callbacks[f]);){var q=d(h.sync,this,[f].concat(p));var A=d(h.async,this,[f].concat(p));q()&&r(A)}return this}}}(),r=function(b){function d(b,d,f){for(var h,p=[],q=0,r=b.length;r>q;q++)p.push(k.escapeRegExChars(b[q]));return h=f?"\\b("+p.join("|")+")\\b":"("+p.join("|")+")",d?new RegExp(h):new RegExp(h,"i")}var f={node:null,pattern:null,tagName:"strong",className:null,
wordsOnly:!1,caseSensitive:!1};return function(h){function p(d){var f,k,p;return(f=r.exec(d.data))&&(p=b.createElement(h.tagName),h.className&&(p.className=h.className),k=d.splitText(f.index),k.splitText(f[0].length),p.appendChild(k.cloneNode(!0)),d.parentNode.replaceChild(p,k)),!!f}function q(b,d){for(var f,h=0;h<b.childNodes.length;h++)f=b.childNodes[h],3===f.nodeType?h+=d(f)?1:0:q(f,d)}var r;h=k.mixin({},f,h);h.node&&h.pattern&&(h.pattern=k.isArray(h.pattern)?h.pattern:[h.pattern],r=d(h.pattern,
h.caseSensitive,h.wordsOnly),q(h.node,p))}}(window.document),J=function(){function b(b,d){b=b||{};b.input||f.error("input is missing");d.mixin(this);this.$hint=f(b.hint);this.$input=f(b.input);this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;b=this.$input;this.$overflowHelper=f('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),
fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b);this._checkLanguageDirection();0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=k.noop)}var r;return r={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},b.normalizeQuery=function(b){return k.toStr(b).replace(/^\s*/g,
"").replace(/\s{2,}/g," ")},k.mixin(b.prototype,d,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function(b){var d=r[b.which||b.keyCode];this._managePreventDefault(d,b);d&&this._shouldTrigger(d,b)&&this.trigger(d+"Keyed",b)},_onInput:function(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function(b,d){switch(b){case "up":case "down":b=
!(d.altKey||d.ctrlKey||d.metaKey||d.shiftKey);break;default:b=!1}b&&d.preventDefault()},_shouldTrigger:function(b,d){switch(b){case "tab":b=!(d.altKey||d.ctrlKey||d.metaKey||d.shiftKey);break;default:b=!0}return b},_checkLanguageDirection:function(){var b=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==b&&(this.dir=b,this.$hint.attr("dir",b),this.trigger("langDirChanged",b))},_setQuery:function(d,f){var h;var k=this.query;k=(h=b.normalizeQuery(d)===b.normalizeQuery(k))?this.query.length!==
d.length:!1;this.query=d;f||h?!f&&k&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var b,d,f,h,x=this;return b=k.bind(this._onBlur,this),d=k.bind(this._onFocus,this),f=k.bind(this._onKeydown,this),h=k.bind(this._onInput,this),this.$input.on("blur.tt",b).on("focus.tt",d).on("keydown.tt",f),!k.isMsie()||9<k.isMsie()?this.$input.on("input.tt",h):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(b){r[b.which||b.keyCode]||k.defer(k.bind(x._onInput,
x,b))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(b,d){this.setInputValue(b);this._setQuery(b,d)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(b){this.$input.val(b);this.clearHintIfInvalid();this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},
getHint:function(){return this.$hint.val()},setHint:function(b){this.$hint.val(b)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var b=this.getInputValue();var d=this.getHint();d=b!==d&&0===d.indexOf(b);""!==b&&d&&!this.hasOverflow()||this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var b=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=b},isCursorAtEnd:function(){var b,d,
f;return b=this.$input.val().length,d=this.$input[0].selectionStart,k.isNumber(d)?d===b:document.selection?(f=document.selection.createRange(),f.moveStart("character",-b),b===f.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=f("<div>")}}),b}(),z=function(){function b(b,d){b=b||{};b.templates=b.templates||{};b.templates.notFound=b.templates.notFound||b.templates.empty;b.source||f.error("missing source");
b.node||f.error("missing node");b.name&&!/^[_a-zA-Z0-9-]+$/.test(b.name)&&f.error("invalid dataset name: "+b.name);d.mixin(this);this.highlight=!!b.highlight;this.name=b.name||y();this.limit=b.limit||5;this.displayFn=x(b.display||b.displayKey);this.templates=p(b.templates,this.displayFn);this.source=b.source.__ttAdapter?b.source.__ttAdapter():b.source;this.async=k.isUndefined(b.async)?2<this.source.length:!!b.async;this._resetLastSuggestion();this.$el=f(b.node).addClass(this.classes.dataset).addClass(this.classes.dataset+
"-"+this.name)}function x(b){function d(d){return d[b]}return b=b||k.stringify,k.isFunction(b)?b:d}function p(b,d){function h(b){return f("<div>").text(d(b))}return{notFound:b.notFound&&k.templatify(b.notFound),pending:b.pending&&k.templatify(b.pending),header:b.header&&k.templatify(b.header),footer:b.footer&&k.templatify(b.footer),suggestion:b.suggestion||h}}var q,y;return q={val:"tt-selectable-display",obj:"tt-selectable-object"},y=k.getIdGenerator(),b.extractData=function(b){b=f(b);return b.data(q.obj)?
{val:b.data(q.val)||"",obj:b.data(q.obj)||null}:null},k.mixin(b.prototype,d,{_overwrite:function(b,d){d=d||[];d.length?this._renderSuggestions(b,d):this.async&&this.templates.pending?this._renderPending(b):!this.async&&this.templates.notFound?this._renderNotFound(b):this._empty();this.trigger("rendered",this.name,d,!1)},_append:function(b,d){d=d||[];d.length&&this.$lastSuggestion.length?this._appendSuggestions(b,d):d.length?this._renderSuggestions(b,d):!this.$lastSuggestion.length&&this.templates.notFound&&
this._renderNotFound(b);this.trigger("rendered",this.name,d,!0)},_renderSuggestions:function(b,d){var f=this._getSuggestionsFragment(b,d);this.$lastSuggestion=f.children().last();this.$el.html(f).prepend(this._getHeader(b,d)).append(this._getFooter(b,d))},_appendSuggestions:function(b,d){b=this._getSuggestionsFragment(b,d);d=b.children().last();this.$lastSuggestion.after(b);this.$lastSuggestion=d},_renderPending:function(b){var d=this.templates.pending;this._resetLastSuggestion();d&&this.$el.html(d({query:b,
dataset:this.name}))},_renderNotFound:function(b){var d=this.templates.notFound;this._resetLastSuggestion();d&&this.$el.html(d({query:b,dataset:this.name}))},_empty:function(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function(b,d){var h,p=this;return h=document.createDocumentFragment(),k.each(d,function(d){var k=p._injectQuery(b,d);d=f(p.templates.suggestion(k)).data(q.obj,d).data(q.val,p.displayFn(d)).addClass(p.classes.suggestion+" "+p.classes.selectable);h.appendChild(d[0])}),
this.highlight&&r({className:this.classes.highlight,node:h,pattern:b}),f(h)},_getFooter:function(b,d){return this.templates.footer?this.templates.footer({query:b,suggestions:d,dataset:this.name}):null},_getHeader:function(b,d){return this.templates.header?this.templates.header({query:b,suggestions:d,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=f()},_injectQuery:function(b,d){return k.isObject(d)?k.mixin({_query:b},d):d},update:function(b){function d(d){p||(p=!0,d=
(d||[]).slice(0,h.limit),q=d.length,h._overwrite(b,d),q<h.limit&&h.async&&h.trigger("asyncRequested",b))}var h=this,k=!1,p=!1,q=0;this.cancel();this.cancel=function(){k=!0;h.cancel=f.noop;h.async&&h.trigger("asyncCanceled",b)};this.source(b,d,function(d){d=d||[];!k&&q<h.limit&&(h.cancel=f.noop,q+=d.length,h._append(b,d.slice(0,h.limit-q)),h.async&&h.trigger("asyncReceived",b))});!p&&d([])},cancel:f.noop,clear:function(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},
destroy:function(){this.$el=f("<div>")}}),b}(),E=function(){function b(b,d){var h=this;b=b||{};b.node||f.error("node is required");d.mixin(this);this.$node=f(b.node);this.query=null;this.datasets=k.map(b.datasets,function(b){var k=h.$node.find(b.node).first();return b.node=k.length?k:f("<div>").appendTo(h.$node),new z(b,d)})}return k.mixin(b.prototype,d,{_onSelectableClick:function(b){this.trigger("selectableClicked",f(b.currentTarget))},_onRendered:function(b,d,f,h){this.$node.toggleClass(this.classes.empty,
this._allDatasetsEmpty());this.trigger("datasetRendered",d,f,h)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return k.every(this.datasets,function(b){return b.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var b=this.getActiveSelectable();b&&b.removeClass(this.classes.cursor)},
_ensureVisible:function(b){var d=b.position().top;b=d+b.outerHeight(!0);var f=this.$node.scrollTop();var h=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);0>d?this.$node.scrollTop(f+d):b>h&&this.$node.scrollTop(f+(b-h))},bind:function(){var b,d=this;return b=k.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,b),k.each(this.datasets,function(b){b.onSync("asyncRequested",d._propagate,d).onSync("asyncCanceled",
d._propagate,d).onSync("asyncReceived",d._propagate,d).onSync("rendered",d._onRendered,d).onSync("cleared",d._onCleared,d)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function(b){this.$node.attr("dir",b)},selectableRelativeToCursor:function(b){var d,f,h,k;return f=this.getActiveSelectable(),d=this._getSelectables(),
h=f?d.index(f):-1,k=h+b,k=(k+1)%(d.length+1)-1,k=-1>k?d.length-1:k,-1===k?null:d.eq(k)},setCursor:function(b){this._removeCursor();(b=b&&b.first())&&(b.addClass(this.classes.cursor),this._ensureVisible(b))},getSelectableData:function(b){return b&&b.length?z.extractData(b):null},getActiveSelectable:function(){var b=this._getSelectables().filter(this.selectors.cursor).first();return b.length?b:null},getTopSelectable:function(){var b=this._getSelectables().first();return b.length?b:null},update:function(b){function d(d){d.update(b)}
var f=b!==this.query;return f&&(this.query=b,k.each(this.datasets,d)),f},empty:function(){k.each(this.datasets,function(b){b.clear()});this.query=null;this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt");this.$node=f("<div>");k.each(this.datasets,function(b){b.destroy()})}}),b}(),Q=function(){function b(){E.apply(this,[].slice.call(arguments,0))}var d=E.prototype;return k.mixin(b.prototype,E.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),d.open.apply(this,
[].slice.call(arguments,0))},close:function(){return this._hide(),d.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),d._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),d._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(b){return this.$node.css("ltr"===b?this.css.ltr:this.css.rtl),
d.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),b}(),O=function(){function b(b,h){b=b||{};b.input||f.error("missing input");b.menu||f.error("missing menu");b.eventBus||f.error("missing event bus");h.mixin(this);this.eventBus=b.eventBus;this.minLength=k.isNumber(b.minLength)?b.minLength:1;this.input=b.input;this.menu=b.menu;this.enabled=!0;this.active=!1;this.input.hasFocus()&&this.activate();this.dir=
this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);b=d(this,"activate","open","_onFocused");h=d(this,"deactivate","_onBlurred");var p=d(this,"isActive","isOpen","_onEnterKeyed");
var q=d(this,"isActive","isOpen","_onTabKeyed");var r=d(this,"isActive","_onEscKeyed");var x=d(this,"isActive","open","_onUpKeyed");var y=d(this,"isActive","open","_onDownKeyed");var z=d(this,"isActive","isOpen","_onLeftKeyed");var E=d(this,"isActive","isOpen","_onRightKeyed");var J=d(this,"_openIfActive","_onQueryChanged");var O=d(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",b,this).onSync("blurred",h,this).onSync("enterKeyed",p,this).onSync("tabKeyed",q,this).onSync("escKeyed",
r,this).onSync("upKeyed",x,this).onSync("downKeyed",y,this).onSync("leftKeyed",z,this).onSync("rightKeyed",E,this).onSync("queryChanged",J,this).onSync("whitespaceChanged",O,this).onSync("langDirChanged",this._onLangDirChanged,this)}function d(b){var d=[].slice.call(arguments,1);return function(){var f=[].slice.call(arguments);k.each(d,function(d){return b[d].apply(b,f)})}}return k.mixin(b.prototype,{_hacks:function(){var b=this.input.$input||f("<div>");var d=this.menu.$node||f("<div>");b.on("blur.tt",
function(f){var h=document.activeElement;var p=d.is(h);h=0<d.has(h).length;k.isMsie()&&(p||h)&&(f.preventDefault(),f.stopImmediatePropagation(),k.defer(function(){b.focus()}))});d.on("mousedown.tt",function(b){b.preventDefault()})},_onSelectableClicked:function(b,d){this.select(d)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(b,d,f,h){this._updateHint();this.eventBus.trigger("render",f,h,d)},_onAsyncRequested:function(b,d,f){this.eventBus.trigger("asyncrequest",f,d)},
_onAsyncCanceled:function(b,d,f){this.eventBus.trigger("asynccancel",f,d)},_onAsyncReceived:function(b,d,f){this.eventBus.trigger("asyncreceive",f,d)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(b,d){var f;(f=this.menu.getActiveSelectable())&&this.select(f)&&d.preventDefault()},_onTabKeyed:function(b,d){var f;(f=this.menu.getActiveSelectable())?
this.select(f)&&d.preventDefault():(f=this.menu.getTopSelectable())&&this.autocomplete(f)&&d.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(b,
d){this._minLengthMet(d)?this.menu.update(d):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(b,d){this.dir!==d&&(this.dir=d,this.menu.setLanguageDirection(d))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(b){return b=k.isString(b)?b:this.input.getQuery()||"",b.length>=this.minLength},_updateHint:function(){var b,d,f,h;var r=this.menu.getTopSelectable();r=this.menu.getSelectableData(r);var x=this.input.getInputValue();
!r||k.isBlankString(x)||this.input.hasOverflow()?this.input.clearHint():(b=J.normalizeQuery(x),d=k.escapeRegExChars(b),f=new RegExp("^(?:"+d+")(.+$)","i"),h=f.exec(r.val),h&&this.input.setHint(x+h[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),
!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),
!this.isOpen()},setVal:function(b){this.input.setQuery(k.toStr(b))},getVal:function(){return this.input.getQuery()},select:function(b){return(b=this.menu.getSelectableData(b))&&!this.eventBus.before("select",b.obj)?(this.input.setQuery(b.val,!0),this.eventBus.trigger("select",b.obj),this.close(),!0):!1},autocomplete:function(b){var d,f,h;return d=this.input.getQuery(),f=this.menu.getSelectableData(b),h=f&&d!==f.val,h&&!this.eventBus.before("autocomplete",f.obj)?(this.input.setQuery(f.val),this.eventBus.trigger("autocomplete",
f.obj),!0):!1},moveCursor:function(b){var d,f,h,k,p;return d=this.input.getQuery(),f=this.menu.selectableRelativeToCursor(b),h=this.menu.getSelectableData(f),k=h?h.obj:null,p=this._minLengthMet()&&this.menu.update(d),p||this.eventBus.before("cursorchange",k)?!1:(this.menu.setCursor(f),h?this.input.setInputValue(h.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",k),!0)},destroy:function(){this.input.destroy();this.menu.destroy()}}),b}();!function(){function d(b,
d){b.each(function(){var b,h=f(this);(b=h.data(R.typeahead))&&d(b,h)})}function r(b,d){return b.clone().addClass(d.classes.hint).removeData().css(d.css.hint).css(q(b)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function p(b,d){b.data(R.attrs,{dir:b.attr("dir"),autocomplete:b.attr("autocomplete"),spellcheck:b.attr("spellcheck"),style:b.attr("style")});b.addClass(d.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!b.attr("dir")&&
b.attr("dir","auto")}catch(da){}return b}function q(b){return{backgroundAttachment:b.css("background-attachment"),backgroundClip:b.css("background-clip"),backgroundColor:b.css("background-color"),backgroundImage:b.css("background-image"),backgroundOrigin:b.css("background-origin"),backgroundPosition:b.css("background-position"),backgroundRepeat:b.css("background-repeat"),backgroundSize:b.css("background-size")}}function z(b){var d=b.data(R.www);var f=b.parent().filter(d.selectors.wrapper);k.each(b.data(R.attrs),
function(d,f){k.isUndefined(d)?b.removeAttr(f):b.attr(f,d)});b.removeData(R.typeahead).removeData(R.www).removeData(R.attr).removeClass(d.classes.input);f.length&&(b.detach().insertAfter(f),f.remove())}function A(b){var d,h;return d=k.isJQuery(b)||k.isElement(b),h=d?f(b).first():[],h.length?h:null}var fa=f.fn.typeahead;var R={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};var pa={initialize:function(d,h){var q;return h=k.isArray(h)?h:[].slice.call(arguments,1),d=d||{},q=y(d.classNames),this.each(function(){k.each(h,
function(b){b.highlight=!!d.highlight});var x=f(this);var y=f(q.html.wrapper);var z=A(d.hint);var D=A(d.menu);var M=!1!==d.hint&&!z;var ea=!1!==d.menu&&!D;M&&(z=r(x,q));ea&&(D=f(q.html.menu).css(q.css.menu));z&&z.val("");x=p(x,q);(M||ea)&&(y.css(q.css.wrapper),x.css(M?q.css.input:q.css.inputWithNoHint),x.wrap(y).parent().prepend(M?z:null).append(ea?D:null));M=ea?Q:E;y=new b({el:x});z=new J({hint:z,input:x},q);D=new M({node:D,datasets:h},q);D=new O({input:z,menu:D,eventBus:y,minLength:d.minLength},
q);x.data(R.www,q);x.data(R.typeahead,D)})},isEnabled:function(){var b;return d(this.first(),function(d){b=d.isEnabled()}),b},enable:function(){return d(this,function(b){b.enable()}),this},disable:function(){return d(this,function(b){b.disable()}),this},isActive:function(){var b;return d(this.first(),function(d){b=d.isActive()}),b},activate:function(){return d(this,function(b){b.activate()}),this},deactivate:function(){return d(this,function(b){b.deactivate()}),this},isOpen:function(){var b;return d(this.first(),
function(d){b=d.isOpen()}),b},open:function(){return d(this,function(b){b.open()}),this},close:function(){return d(this,function(b){b.close()}),this},select:function(b){var h=!1,k=f(b);return d(this.first(),function(b){h=b.select(k)}),h},autocomplete:function(b){var h=!1,k=f(b);return d(this.first(),function(b){h=b.autocomplete(k)}),h},moveCursor:function(b){var f=!1;return d(this.first(),function(d){f=d.moveCursor(b)}),f},val:function(b){var f;return arguments.length?(d(this,function(d){d.setVal(b)}),
this):(d(this.first(),function(b){f=b.getVal()}),f)},destroy:function(){return d(this,function(b,d){z(d);b.destroy()}),this}};f.fn.typeahead=function(b){return pa[b]?pa[b].apply(this,[].slice.call(arguments,1)):pa.initialize.apply(this,arguments)};f.fn.typeahead.noConflict=function(){return f.fn.typeahead=fa,this}}()});